(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))s(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&s(c)}).observe(document,{childList:!0,subtree:!0});function t(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(r){if(r.ep)return;r.ep=!0;const l=t(r);fetch(r.href,l)}})();function xT(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Th={exports:{}},_l={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b_;function DC(){if(b_)return _l;b_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(s,r,l){var c=null;if(l!==void 0&&(c=""+l),r.key!==void 0&&(c=""+r.key),"key"in r){l={};for(var d in r)d!=="key"&&(l[d]=r[d])}else l=r;return r=l.ref,{$$typeof:n,type:s,key:c,ref:r!==void 0?r:null,props:l}}return _l.Fragment=e,_l.jsx=t,_l.jsxs=t,_l}var M_;function PC(){return M_||(M_=1,Th.exports=DC()),Th.exports}var C=PC(),Eh={exports:{}},we={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D_;function VC(){if(D_)return we;D_=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),S=Symbol.iterator;function R(k){return k===null||typeof k!="object"?null:(k=S&&k[S]||k["@@iterator"],typeof k=="function"?k:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},H=Object.assign,z={};function ee(k,ie,ce){this.props=k,this.context=ie,this.refs=z,this.updater=ce||O}ee.prototype.isReactComponent={},ee.prototype.setState=function(k,ie){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ie,"setState")},ee.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function re(){}re.prototype=ee.prototype;function W(k,ie,ce){this.props=k,this.context=ie,this.refs=z,this.updater=ce||O}var ue=W.prototype=new re;ue.constructor=W,H(ue,ee.prototype),ue.isPureReactComponent=!0;var he=Array.isArray;function j(){}var M={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function N(k,ie,ce){var ye=ce.ref;return{$$typeof:n,type:k,key:ie,ref:ye!==void 0?ye:null,props:ce}}function P(k,ie){return N(k.type,ie,k.props)}function U(k){return typeof k=="object"&&k!==null&&k.$$typeof===n}function q(k){var ie={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(ce){return ie[ce]})}var D=/\/+/g;function ae(k,ie){return typeof k=="object"&&k!==null&&k.key!=null?q(""+k.key):ie.toString(36)}function Ee(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(j,j):(k.status="pending",k.then(function(ie){k.status==="pending"&&(k.status="fulfilled",k.value=ie)},function(ie){k.status==="pending"&&(k.status="rejected",k.reason=ie)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function J(k,ie,ce,ye,xe){var Pe=typeof k;(Pe==="undefined"||Pe==="boolean")&&(k=null);var He=!1;if(k===null)He=!0;else switch(Pe){case"bigint":case"string":case"number":He=!0;break;case"object":switch(k.$$typeof){case n:case e:He=!0;break;case v:return He=k._init,J(He(k._payload),ie,ce,ye,xe)}}if(He)return xe=xe(k),He=ye===""?"."+ae(k,0):ye,he(xe)?(ce="",He!=null&&(ce=He.replace(D,"$&/")+"/"),J(xe,ie,ce,"",function(io){return io})):xe!=null&&(U(xe)&&(xe=P(xe,ce+(xe.key==null||k&&k.key===xe.key?"":(""+xe.key).replace(D,"$&/")+"/")+He)),ie.push(xe)),1;He=0;var kt=ye===""?".":ye+":";if(he(k))for(var ht=0;ht<k.length;ht++)ye=k[ht],Pe=kt+ae(ye,ht),He+=J(ye,ie,ce,Pe,xe);else if(ht=R(k),typeof ht=="function")for(k=ht.call(k),ht=0;!(ye=k.next()).done;)ye=ye.value,Pe=kt+ae(ye,ht++),He+=J(ye,ie,ce,Pe,xe);else if(Pe==="object"){if(typeof k.then=="function")return J(Ee(k),ie,ce,ye,xe);throw ie=String(k),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return He}function oe(k,ie,ce){if(k==null)return k;var ye=[],xe=0;return J(k,ye,"","",function(Pe){return ie.call(ce,Pe,xe++)}),ye}function fe(k){if(k._status===-1){var ie=k._result;ie=ie(),ie.then(function(ce){(k._status===0||k._status===-1)&&(k._status=1,k._result=ce)},function(ce){(k._status===0||k._status===-1)&&(k._status=2,k._result=ce)}),k._status===-1&&(k._status=0,k._result=ie)}if(k._status===1)return k._result.default;throw k._result}var be=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Xe={map:oe,forEach:function(k,ie,ce){oe(k,function(){ie.apply(this,arguments)},ce)},count:function(k){var ie=0;return oe(k,function(){ie++}),ie},toArray:function(k){return oe(k,function(ie){return ie})||[]},only:function(k){if(!U(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return we.Activity=T,we.Children=Xe,we.Component=ee,we.Fragment=t,we.Profiler=r,we.PureComponent=W,we.StrictMode=s,we.Suspense=y,we.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,we.__COMPILER_RUNTIME={__proto__:null,c:function(k){return M.H.useMemoCache(k)}},we.cache=function(k){return function(){return k.apply(null,arguments)}},we.cacheSignal=function(){return null},we.cloneElement=function(k,ie,ce){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ye=H({},k.props),xe=k.key;if(ie!=null)for(Pe in ie.key!==void 0&&(xe=""+ie.key),ie)!b.call(ie,Pe)||Pe==="key"||Pe==="__self"||Pe==="__source"||Pe==="ref"&&ie.ref===void 0||(ye[Pe]=ie[Pe]);var Pe=arguments.length-2;if(Pe===1)ye.children=ce;else if(1<Pe){for(var He=Array(Pe),kt=0;kt<Pe;kt++)He[kt]=arguments[kt+2];ye.children=He}return N(k.type,xe,ye)},we.createContext=function(k){return k={$$typeof:c,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:l,_context:k},k},we.createElement=function(k,ie,ce){var ye,xe={},Pe=null;if(ie!=null)for(ye in ie.key!==void 0&&(Pe=""+ie.key),ie)b.call(ie,ye)&&ye!=="key"&&ye!=="__self"&&ye!=="__source"&&(xe[ye]=ie[ye]);var He=arguments.length-2;if(He===1)xe.children=ce;else if(1<He){for(var kt=Array(He),ht=0;ht<He;ht++)kt[ht]=arguments[ht+2];xe.children=kt}if(k&&k.defaultProps)for(ye in He=k.defaultProps,He)xe[ye]===void 0&&(xe[ye]=He[ye]);return N(k,Pe,xe)},we.createRef=function(){return{current:null}},we.forwardRef=function(k){return{$$typeof:d,render:k}},we.isValidElement=U,we.lazy=function(k){return{$$typeof:v,_payload:{_status:-1,_result:k},_init:fe}},we.memo=function(k,ie){return{$$typeof:p,type:k,compare:ie===void 0?null:ie}},we.startTransition=function(k){var ie=M.T,ce={};M.T=ce;try{var ye=k(),xe=M.S;xe!==null&&xe(ce,ye),typeof ye=="object"&&ye!==null&&typeof ye.then=="function"&&ye.then(j,be)}catch(Pe){be(Pe)}finally{ie!==null&&ce.types!==null&&(ie.types=ce.types),M.T=ie}},we.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},we.use=function(k){return M.H.use(k)},we.useActionState=function(k,ie,ce){return M.H.useActionState(k,ie,ce)},we.useCallback=function(k,ie){return M.H.useCallback(k,ie)},we.useContext=function(k){return M.H.useContext(k)},we.useDebugValue=function(){},we.useDeferredValue=function(k,ie){return M.H.useDeferredValue(k,ie)},we.useEffect=function(k,ie){return M.H.useEffect(k,ie)},we.useEffectEvent=function(k){return M.H.useEffectEvent(k)},we.useId=function(){return M.H.useId()},we.useImperativeHandle=function(k,ie,ce){return M.H.useImperativeHandle(k,ie,ce)},we.useInsertionEffect=function(k,ie){return M.H.useInsertionEffect(k,ie)},we.useLayoutEffect=function(k,ie){return M.H.useLayoutEffect(k,ie)},we.useMemo=function(k,ie){return M.H.useMemo(k,ie)},we.useOptimistic=function(k,ie){return M.H.useOptimistic(k,ie)},we.useReducer=function(k,ie,ce){return M.H.useReducer(k,ie,ce)},we.useRef=function(k){return M.H.useRef(k)},we.useState=function(k){return M.H.useState(k)},we.useSyncExternalStore=function(k,ie,ce){return M.H.useSyncExternalStore(k,ie,ce)},we.useTransition=function(){return M.H.useTransition()},we.version="19.2.1",we}var P_;function dm(){return P_||(P_=1,Eh.exports=VC()),Eh.exports}var ve=dm();const RT=xT(ve);var Sh={exports:{}},vl={},Ah={exports:{}},Ch={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var V_;function UC(){return V_||(V_=1,(function(n){function e(J,oe){var fe=J.length;J.push(oe);e:for(;0<fe;){var be=fe-1>>>1,Xe=J[be];if(0<r(Xe,oe))J[be]=oe,J[fe]=Xe,fe=be;else break e}}function t(J){return J.length===0?null:J[0]}function s(J){if(J.length===0)return null;var oe=J[0],fe=J.pop();if(fe!==oe){J[0]=fe;e:for(var be=0,Xe=J.length,k=Xe>>>1;be<k;){var ie=2*(be+1)-1,ce=J[ie],ye=ie+1,xe=J[ye];if(0>r(ce,fe))ye<Xe&&0>r(xe,ce)?(J[be]=xe,J[ye]=fe,be=ye):(J[be]=ce,J[ie]=fe,be=ie);else if(ye<Xe&&0>r(xe,fe))J[be]=xe,J[ye]=fe,be=ye;else break e}}return oe}function r(J,oe){var fe=J.sortIndex-oe.sortIndex;return fe!==0?fe:J.id-oe.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();n.unstable_now=function(){return c.now()-d}}var y=[],p=[],v=1,T=null,S=3,R=!1,O=!1,H=!1,z=!1,ee=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,W=typeof setImmediate<"u"?setImmediate:null;function ue(J){for(var oe=t(p);oe!==null;){if(oe.callback===null)s(p);else if(oe.startTime<=J)s(p),oe.sortIndex=oe.expirationTime,e(y,oe);else break;oe=t(p)}}function he(J){if(H=!1,ue(J),!O)if(t(y)!==null)O=!0,j||(j=!0,q());else{var oe=t(p);oe!==null&&Ee(he,oe.startTime-J)}}var j=!1,M=-1,b=5,N=-1;function P(){return z?!0:!(n.unstable_now()-N<b)}function U(){if(z=!1,j){var J=n.unstable_now();N=J;var oe=!0;try{e:{O=!1,H&&(H=!1,re(M),M=-1),R=!0;var fe=S;try{t:{for(ue(J),T=t(y);T!==null&&!(T.expirationTime>J&&P());){var be=T.callback;if(typeof be=="function"){T.callback=null,S=T.priorityLevel;var Xe=be(T.expirationTime<=J);if(J=n.unstable_now(),typeof Xe=="function"){T.callback=Xe,ue(J),oe=!0;break t}T===t(y)&&s(y),ue(J)}else s(y);T=t(y)}if(T!==null)oe=!0;else{var k=t(p);k!==null&&Ee(he,k.startTime-J),oe=!1}}break e}finally{T=null,S=fe,R=!1}oe=void 0}}finally{oe?q():j=!1}}}var q;if(typeof W=="function")q=function(){W(U)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,ae=D.port2;D.port1.onmessage=U,q=function(){ae.postMessage(null)}}else q=function(){ee(U,0)};function Ee(J,oe){M=ee(function(){J(n.unstable_now())},oe)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(J){J.callback=null},n.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<J?Math.floor(1e3/J):5},n.unstable_getCurrentPriorityLevel=function(){return S},n.unstable_next=function(J){switch(S){case 1:case 2:case 3:var oe=3;break;default:oe=S}var fe=S;S=oe;try{return J()}finally{S=fe}},n.unstable_requestPaint=function(){z=!0},n.unstable_runWithPriority=function(J,oe){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var fe=S;S=J;try{return oe()}finally{S=fe}},n.unstable_scheduleCallback=function(J,oe,fe){var be=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?be+fe:be):fe=be,J){case 1:var Xe=-1;break;case 2:Xe=250;break;case 5:Xe=1073741823;break;case 4:Xe=1e4;break;default:Xe=5e3}return Xe=fe+Xe,J={id:v++,callback:oe,priorityLevel:J,startTime:fe,expirationTime:Xe,sortIndex:-1},fe>be?(J.sortIndex=fe,e(p,J),t(y)===null&&J===t(p)&&(H?(re(M),M=-1):H=!0,Ee(he,fe-be))):(J.sortIndex=Xe,e(y,J),O||R||(O=!0,j||(j=!0,q()))),J},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(J){var oe=S;return function(){var fe=S;S=oe;try{return J.apply(this,arguments)}finally{S=fe}}}})(Ch)),Ch}var U_;function LC(){return U_||(U_=1,Ah.exports=UC()),Ah.exports}var Ih={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L_;function kC(){if(L_)return en;L_=1;var n=dm();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var s={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},r=Symbol.for("react.portal");function l(y,p,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:T==null?null:""+T,children:y,containerInfo:p,implementation:v}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(y,p,null,v)},en.flushSync=function(y){var p=c.T,v=s.p;try{if(c.T=null,s.p=2,y)return y()}finally{c.T=p,s.p=v,s.d.f()}},en.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,s.d.C(y,p))},en.prefetchDNS=function(y){typeof y=="string"&&s.d.D(y)},en.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,T=d(v,p.crossOrigin),S=typeof p.integrity=="string"?p.integrity:void 0,R=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?s.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:S,fetchPriority:R}):v==="script"&&s.d.X(y,{crossOrigin:T,integrity:S,fetchPriority:R,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},en.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=d(p.as,p.crossOrigin);s.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&s.d.M(y)},en.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,T=d(v,p.crossOrigin);s.d.L(y,v,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},en.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=d(p.as,p.crossOrigin);s.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else s.d.m(y)},en.requestFormReset=function(y){s.d.r(y)},en.unstable_batchedUpdates=function(y,p){return y(p)},en.useFormState=function(y,p,v){return c.H.useFormState(y,p,v)},en.useFormStatus=function(){return c.H.useHostTransitionStatus()},en.version="19.2.1",en}var k_;function qC(){if(k_)return Ih.exports;k_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Ih.exports=kC(),Ih.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q_;function OC(){if(q_)return vl;q_=1;var n=LC(),e=dm(),t=qC();function s(i){var o="https://react.dev/errors/"+i;if(1<arguments.length){o+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)o+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function l(i){var o=i,a=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(a=o.return),i=o.return;while(i)}return o.tag===3?a:null}function c(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function d(i){if(i.tag===31){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function y(i){if(l(i)!==i)throw Error(s(188))}function p(i){var o=i.alternate;if(!o){if(o=l(i),o===null)throw Error(s(188));return o!==i?null:i}for(var a=i,u=o;;){var g=a.return;if(g===null)break;var _=g.alternate;if(_===null){if(u=g.return,u!==null){a=u;continue}break}if(g.child===_.child){for(_=g.child;_;){if(_===a)return y(g),i;if(_===u)return y(g),o;_=_.sibling}throw Error(s(188))}if(a.return!==u.return)a=g,u=_;else{for(var A=!1,x=g.child;x;){if(x===a){A=!0,a=g,u=_;break}if(x===u){A=!0,u=g,a=_;break}x=x.sibling}if(!A){for(x=_.child;x;){if(x===a){A=!0,a=_,u=g;break}if(x===u){A=!0,u=_,a=g;break}x=x.sibling}if(!A)throw Error(s(189))}}if(a.alternate!==u)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?i:o}function v(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i;for(i=i.child;i!==null;){if(o=v(i),o!==null)return o;i=i.sibling}return null}var T=Object.assign,S=Symbol.for("react.element"),R=Symbol.for("react.transitional.element"),O=Symbol.for("react.portal"),H=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),ee=Symbol.for("react.profiler"),re=Symbol.for("react.consumer"),W=Symbol.for("react.context"),ue=Symbol.for("react.forward_ref"),he=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function q(i){return i===null||typeof i!="object"?null:(i=U&&i[U]||i["@@iterator"],typeof i=="function"?i:null)}var D=Symbol.for("react.client.reference");function ae(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===D?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case H:return"Fragment";case ee:return"Profiler";case z:return"StrictMode";case he:return"Suspense";case j:return"SuspenseList";case N:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case O:return"Portal";case W:return i.displayName||"Context";case re:return(i._context.displayName||"Context")+".Consumer";case ue:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case M:return o=i.displayName||null,o!==null?o:ae(i.type)||"Memo";case b:o=i._payload,i=i._init;try{return ae(i(o))}catch{}}return null}var Ee=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,oe=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},be=[],Xe=-1;function k(i){return{current:i}}function ie(i){0>Xe||(i.current=be[Xe],be[Xe]=null,Xe--)}function ce(i,o){Xe++,be[Xe]=i.current,i.current=o}var ye=k(null),xe=k(null),Pe=k(null),He=k(null);function kt(i,o){switch(ce(Pe,o),ce(xe,i),ce(ye,null),o.nodeType){case 9:case 11:i=(i=o.documentElement)&&(i=i.namespaceURI)?jy(i):0;break;default:if(i=o.tagName,o=o.namespaceURI)o=jy(o),i=e_(o,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}ie(ye),ce(ye,i)}function ht(){ie(ye),ie(xe),ie(Pe)}function io(i){i.memoizedState!==null&&ce(He,i);var o=ye.current,a=e_(o,i.type);o!==a&&(ce(xe,i),ce(ye,a))}function Ko(i){xe.current===i&&(ie(ye),ie(xe)),He.current===i&&(ie(He),ml._currentValue=fe)}var Qo,$o;function li(i){if(Qo===void 0)try{throw Error()}catch(a){var o=a.stack.trim().match(/\n( *(at )?)/);Qo=o&&o[1]||"",$o=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Qo+i+$o}var ma=!1;function so(i,o){if(!i||ma)return"";ma=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(o){var ne=function(){throw Error()};if(Object.defineProperty(ne.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ne,[])}catch($){var K=$}Reflect.construct(i,[],ne)}else{try{ne.call()}catch($){K=$}i.call(ne.prototype)}}else{try{throw Error()}catch($){K=$}(ne=i())&&typeof ne.catch=="function"&&ne.catch(function(){})}}catch($){if($&&K&&typeof $.stack=="string")return[$.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var _=u.DetermineComponentFrameRoot(),A=_[0],x=_[1];if(A&&x){var V=A.split(`
`),Y=x.split(`
`);for(g=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;g<Y.length&&!Y[g].includes("DetermineComponentFrameRoot");)g++;if(u===V.length||g===Y.length)for(u=V.length-1,g=Y.length-1;1<=u&&0<=g&&V[u]!==Y[g];)g--;for(;1<=u&&0<=g;u--,g--)if(V[u]!==Y[g]){if(u!==1||g!==1)do if(u--,g--,0>g||V[u]!==Y[g]){var X=`
`+V[u].replace(" at new "," at ");return i.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",i.displayName)),X}while(1<=u&&0<=g);break}}}finally{ma=!1,Error.prepareStackTrace=a}return(a=i?i.displayName||i.name:"")?li(a):""}function pa(i,o){switch(i.tag){case 26:case 27:case 5:return li(i.type);case 16:return li("Lazy");case 13:return i.child!==o&&o!==null?li("Suspense Fallback"):li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return so(i.type,!1);case 11:return so(i.type.render,!1);case 1:return so(i.type,!0);case 31:return li("Activity");default:return""}}function ga(i){try{var o="",a=null;do o+=pa(i,a),a=i,i=i.return;while(i);return o}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ct=Object.prototype.hasOwnProperty,qt=n.unstable_scheduleCallback,us=n.unstable_cancelCallback,Sf=n.unstable_shouldYield,$l=n.unstable_requestPaint,rn=n.unstable_now,oo=n.unstable_getCurrentPriorityLevel,ya=n.unstable_ImmediatePriority,_a=n.unstable_UserBlockingPriority,cs=n.unstable_NormalPriority,Af=n.unstable_LowPriority,Xl=n.unstable_IdlePriority,Wl=n.log,Zl=n.unstable_setDisableYieldValue,Yn=null,Yt=null;function xn(i){if(typeof Wl=="function"&&Zl(i),Yt&&typeof Yt.setStrictMode=="function")try{Yt.setStrictMode(Yn,i)}catch{}}var vt=Math.clz32?Math.clz32:eu,jl=Math.log,Xo=Math.LN2;function eu(i){return i>>>=0,i===0?32:31-(jl(i)/Xo|0)|0}var ui=256,ro=262144,It=4194304;function ci(i){var o=i&42;if(o!==0)return o;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return i&261888;case 262144:case 524288:case 1048576:case 2097152:return i&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function fi(i,o,a){var u=i.pendingLanes;if(u===0)return 0;var g=0,_=i.suspendedLanes,A=i.pingedLanes;i=i.warmLanes;var x=u&134217727;return x!==0?(u=x&~_,u!==0?g=ci(u):(A&=x,A!==0?g=ci(A):a||(a=x&~i,a!==0&&(g=ci(a))))):(x=u&~_,x!==0?g=ci(x):A!==0?g=ci(A):a||(a=u&~i,a!==0&&(g=ci(a)))),g===0?0:o!==0&&o!==g&&(o&_)===0&&(_=g&-g,a=o&-o,_>=a||_===32&&(a&4194048)!==0)?o:g}function Jn(i,o){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&o)===0}function Cf(i,o){switch(i){case 1:case 2:case 4:case 8:case 64:return o+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tu(){var i=It;return It<<=1,(It&62914560)===0&&(It=4194304),i}function di(i){for(var o=[],a=0;31>a;a++)o.push(i);return o}function ao(i,o){i.pendingLanes|=o,o!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function If(i,o,a,u,g,_){var A=i.pendingLanes;i.pendingLanes=a,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=a,i.entangledLanes&=a,i.errorRecoveryDisabledLanes&=a,i.shellSuspendCounter=0;var x=i.entanglements,V=i.expirationTimes,Y=i.hiddenUpdates;for(a=A&~a;0<a;){var X=31-vt(a),ne=1<<X;x[X]=0,V[X]=-1;var K=Y[X];if(K!==null)for(Y[X]=null,X=0;X<K.length;X++){var $=K[X];$!==null&&($.lane&=-536870913)}a&=~ne}u!==0&&lo(i,u,0),_!==0&&g===0&&i.tag!==0&&(i.suspendedLanes|=_&~(A&~o))}function lo(i,o,a){i.pendingLanes|=o,i.suspendedLanes&=~o;var u=31-vt(o);i.entangledLanes|=o,i.entanglements[u]=i.entanglements[u]|1073741824|a&261930}function va(i,o){var a=i.entangledLanes|=o;for(i=i.entanglements;a;){var u=31-vt(a),g=1<<u;g&o|i[u]&o&&(i[u]|=o),a&=~g}}function Ta(i,o){var a=o&-o;return a=(a&42)!==0?1:uo(a),(a&(i.suspendedLanes|o))!==0?0:a}function uo(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function Li(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function nu(){var i=oe.p;return i!==0?i:(i=window.event,i===void 0?32:A_(i.type))}function Kn(i,o){var a=oe.p;try{return oe.p=i,o()}finally{oe.p=a}}var Qn=Math.random().toString(36).slice(2),xt="__reactFiber$"+Qn,zt="__reactProps$"+Qn,hi="__reactContainer$"+Qn,Wo="__reactEvents$"+Qn,xf="__reactListeners$"+Qn,iu="__reactHandles$"+Qn,su="__reactResources$"+Qn,mi="__reactMarker$"+Qn;function Zo(i){delete i[xt],delete i[zt],delete i[Wo],delete i[xf],delete i[iu]}function pi(i){var o=i[xt];if(o)return o;for(var a=i.parentNode;a;){if(o=a[hi]||a[xt]){if(a=o.alternate,o.child!==null||a!==null&&a.child!==null)for(i=a_(i);i!==null;){if(a=i[xt])return a;i=a_(i)}return o}i=a,a=i.parentNode}return null}function Rn(i){if(i=i[xt]||i[hi]){var o=i.tag;if(o===5||o===6||o===13||o===31||o===26||o===27||o===3)return i}return null}function yn(i){var o=i.tag;if(o===5||o===26||o===27||o===6)return i.stateNode;throw Error(s(33))}function gi(i){var o=i[su];return o||(o=i[su]={hoistableStyles:new Map,hoistableScripts:new Map}),o}function Rt(i){i[mi]=!0}var Ea=new Set,Sa={};function yi(i,o){_i(i,o),_i(i+"Capture",o)}function _i(i,o){for(Sa[i]=o,i=0;i<o.length;i++)Ea.add(o[i])}var Aa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ca={},Ia={};function ou(i){return Ct.call(Ia,i)?!0:Ct.call(Ca,i)?!1:Aa.test(i)?Ia[i]=!0:(Ca[i]=!0,!1)}function jo(i,o,a){if(ou(o))if(a===null)i.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":i.removeAttribute(o);return;case"boolean":var u=o.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){i.removeAttribute(o);return}}i.setAttribute(o,""+a)}}function _n(i,o,a){if(a===null)i.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttribute(o,""+a)}}function wt(i,o,a,u){if(u===null)i.removeAttribute(a);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttributeNS(o,a,""+u)}}function Ft(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function fs(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function xa(i,o,a){var u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o);if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,_=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(A){a=""+A,_.call(this,A)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return a},setValue:function(A){a=""+A},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function et(i){if(!i._valueTracker){var o=fs(i)?"checked":"value";i._valueTracker=xa(i,o,""+i[o])}}function co(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var a=o.getValue(),u="";return i&&(u=fs(i)?i.checked?"true":"false":i.value),i=u,i!==a?(o.setValue(i),!0):!1}function vi(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var fo=/[\n"\\]/g;function un(i){return i.replace(fo,function(o){return"\\"+o.charCodeAt(0).toString(16)+" "})}function er(i,o,a,u,g,_,A,x){i.name="",A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?i.type=A:i.removeAttribute("type"),o!=null?A==="number"?(o===0&&i.value===""||i.value!=o)&&(i.value=""+Ft(o)):i.value!==""+Ft(o)&&(i.value=""+Ft(o)):A!=="submit"&&A!=="reset"||i.removeAttribute("value"),o!=null?Ra(i,A,Ft(o)):a!=null?Ra(i,A,Ft(a)):u!=null&&i.removeAttribute("value"),g==null&&_!=null&&(i.defaultChecked=!!_),g!=null&&(i.checked=g&&typeof g!="function"&&typeof g!="symbol"),x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?i.name=""+Ft(x):i.removeAttribute("name")}function ru(i,o,a,u,g,_,A,x){if(_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(i.type=_),o!=null||a!=null){if(!(_!=="submit"&&_!=="reset"||o!=null)){et(i);return}a=a!=null?""+Ft(a):"",o=o!=null?""+Ft(o):a,x||o===i.value||(i.value=o),i.defaultValue=o}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,i.checked=x?i.checked:!!u,i.defaultChecked=!!u,A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"&&(i.name=A),et(i)}function Ra(i,o,a){o==="number"&&vi(i.ownerDocument)===i||i.defaultValue===""+a||(i.defaultValue=""+a)}function ds(i,o,a,u){if(i=i.options,o){o={};for(var g=0;g<a.length;g++)o["$"+a[g]]=!0;for(a=0;a<i.length;a++)g=o.hasOwnProperty("$"+i[a].value),i[a].selected!==g&&(i[a].selected=g),g&&u&&(i[a].defaultSelected=!0)}else{for(a=""+Ft(a),o=null,g=0;g<i.length;g++){if(i[g].value===a){i[g].selected=!0,u&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function au(i,o,a){if(o!=null&&(o=""+Ft(o),o!==i.value&&(i.value=o),a==null)){i.defaultValue!==o&&(i.defaultValue=o);return}i.defaultValue=a!=null?""+Ft(a):""}function hs(i,o,a,u){if(o==null){if(u!=null){if(a!=null)throw Error(s(92));if(Ee(u)){if(1<u.length)throw Error(s(93));u=u[0]}a=u}a==null&&(a=""),o=a}a=Ft(o),i.defaultValue=a,u=i.textContent,u===a&&u!==""&&u!==null&&(i.value=u),et(i)}function cn(i,o){if(o){var a=i.firstChild;if(a&&a===i.lastChild&&a.nodeType===3){a.nodeValue=o;return}}i.textContent=o}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wa(i,o,a){var u=o.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?u?i.setProperty(o,""):o==="float"?i.cssFloat="":i[o]="":u?i.setProperty(o,a):typeof a!="number"||a===0||lu.has(o)?o==="float"?i.cssFloat=a:i[o]=(""+a).trim():i[o]=a+"px"}function Na(i,o,a){if(o!=null&&typeof o!="object")throw Error(s(62));if(i=i.style,a!=null){for(var u in a)!a.hasOwnProperty(u)||o!=null&&o.hasOwnProperty(u)||(u.indexOf("--")===0?i.setProperty(u,""):u==="float"?i.cssFloat="":i[u]="");for(var g in o)u=o[g],o.hasOwnProperty(g)&&a[g]!==u&&wa(i,g,u)}else for(var _ in o)o.hasOwnProperty(_)&&wa(i,_,o[_])}function tr(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function nr(i){return ms.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}function $n(){}var ba=null;function wn(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var ps=null,Ti=null;function ho(i){var o=Rn(i);if(o&&(i=o.stateNode)){var a=i[zt]||null;e:switch(i=o.stateNode,o.type){case"input":if(er(i,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),o=a.name,a.type==="radio"&&o!=null){for(a=i;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+un(""+o)+'"][type="radio"]'),o=0;o<a.length;o++){var u=a[o];if(u!==i&&u.form===i.form){var g=u[zt]||null;if(!g)throw Error(s(90));er(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(o=0;o<a.length;o++)u=a[o],u.form===i.form&&co(u)}break e;case"textarea":au(i,a.value,a.defaultValue);break e;case"select":o=a.value,o!=null&&ds(i,!!a.multiple,o,!1)}}}var ir=!1;function gs(i,o,a){if(ir)return i(o,a);ir=!0;try{var u=i(o);return u}finally{if(ir=!1,(ps!==null||Ti!==null)&&(nc(),ps&&(o=ps,i=Ti,Ti=ps=null,ho(o),i)))for(o=0;o<i.length;o++)ho(i[o])}}function Xn(i,o){var a=i.stateNode;if(a===null)return null;var u=a[zt]||null;if(u===null)return null;a=u[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(i=i.type,u=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!u;break e;default:i=!1}if(i)return null;if(a&&typeof a!="function")throw Error(s(231,o,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mo=!1;if(Nn)try{var it={};Object.defineProperty(it,"passive",{get:function(){mo=!0}}),window.addEventListener("test",it,it),window.removeEventListener("test",it,it)}catch{mo=!1}var Ei=null,Ma=null,po=null;function Da(){if(po)return po;var i,o=Ma,a=o.length,u,g="value"in Ei?Ei.value:Ei.textContent,_=g.length;for(i=0;i<a&&o[i]===g[i];i++);var A=a-i;for(u=1;u<=A&&o[a-u]===g[_-u];u++);return po=g.slice(i,1<u?1-u:void 0)}function go(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function ki(){return!0}function Wn(){return!1}function Jt(i){function o(a,u,g,_,A){this._reactName=a,this._targetInst=g,this.type=u,this.nativeEvent=_,this.target=A,this.currentTarget=null;for(var x in i)i.hasOwnProperty(x)&&(a=i[x],this[x]=a?a(_):_[x]);return this.isDefaultPrevented=(_.defaultPrevented!=null?_.defaultPrevented:_.returnValue===!1)?ki:Wn,this.isPropagationStopped=Wn,this}return T(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),o}var qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Jt(qi),ys=T({},qi,{view:0,detail:0}),Pa=Jt(ys),_s,sr,Ai,or=T({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ai&&(Ai&&i.type==="mousemove"?(_s=i.screenX-Ai.screenX,sr=i.screenY-Ai.screenY):sr=_s=0,Ai=i),_s)},movementY:function(i){return"movementY"in i?i.movementY:sr}}),Va=Jt(or),yo=T({},or,{dataTransfer:0}),cu=Jt(yo),fu=T({},ys,{relatedTarget:0}),_o=Jt(fu),Ua=T({},qi,{animationName:0,elapsedTime:0,pseudoElement:0}),du=Jt(Ua),rr=T({},qi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),hu=Jt(rr),mu=T({},qi,{data:0}),Ci=Jt(mu),pu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=yu[i])?!!o[i]:!1}function vs(){return _u}var an=T({},ys,{key:function(i){if(i.key){var o=pu[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=go(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?gu[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(i){return i.type==="keypress"?go(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?go(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vu=Jt(an),Tu=T({},or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Oi=Jt(Tu),m=T({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),E=Jt(m),I=T({},qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),w=Jt(I),F=T({},or,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Jt(F),le=T({},qi,{newState:0,oldState:0}),Me=Jt(le),Tt=[9,13,27,32],We=Nn&&"CompositionEvent"in window,mt=null;Nn&&"documentMode"in document&&(mt=document.documentMode);var bn=Nn&&"TextEvent"in window&&!mt,Ii=Nn&&(!We||mt&&8<mt&&11>=mt),Zn=" ",jn=!1;function vo(i,o){switch(i){case"keyup":return Tt.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ar(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var lr=!1;function nA(i,o){switch(i){case"compositionend":return ar(o);case"keypress":return o.which!==32?null:(jn=!0,Zn);case"textInput":return i=o.data,i===Zn&&jn?null:i;default:return null}}function iA(i,o){if(lr)return i==="compositionend"||!We&&vo(i,o)?(i=Da(),po=Ma=Ei=null,lr=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ii&&o.locale!=="ko"?null:o.data;default:return null}}var sA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cp(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!sA[i.type]:o==="textarea"}function fp(i,o,a,u){ps?Ti?Ti.push(u):Ti=[u]:ps=u,o=uc(o,"onChange"),0<o.length&&(a=new Si("onChange","change",null,a,u),i.push({event:a,listeners:o}))}var La=null,ka=null;function oA(i){Ky(i,0)}function Eu(i){var o=yn(i);if(co(o))return i}function dp(i,o){if(i==="change")return o}var hp=!1;if(Nn){var Rf;if(Nn){var wf="oninput"in document;if(!wf){var mp=document.createElement("div");mp.setAttribute("oninput","return;"),wf=typeof mp.oninput=="function"}Rf=wf}else Rf=!1;hp=Rf&&(!document.documentMode||9<document.documentMode)}function pp(){La&&(La.detachEvent("onpropertychange",gp),ka=La=null)}function gp(i){if(i.propertyName==="value"&&Eu(ka)){var o=[];fp(o,ka,i,wn(i)),gs(oA,o)}}function rA(i,o,a){i==="focusin"?(pp(),La=o,ka=a,La.attachEvent("onpropertychange",gp)):i==="focusout"&&pp()}function aA(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Eu(ka)}function lA(i,o){if(i==="click")return Eu(o)}function uA(i,o){if(i==="input"||i==="change")return Eu(o)}function cA(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var vn=typeof Object.is=="function"?Object.is:cA;function qa(i,o){if(vn(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var a=Object.keys(i),u=Object.keys(o);if(a.length!==u.length)return!1;for(u=0;u<a.length;u++){var g=a[u];if(!Ct.call(o,g)||!vn(i[g],o[g]))return!1}return!0}function yp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _p(i,o){var a=yp(i);i=0;for(var u;a;){if(a.nodeType===3){if(u=i+a.textContent.length,i<=o&&u>=o)return{node:a,offset:o-i};i=u}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=yp(a)}}function vp(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?vp(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Tp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var o=vi(i.document);o instanceof i.HTMLIFrameElement;){try{var a=typeof o.contentWindow.location.href=="string"}catch{a=!1}if(a)i=o.contentWindow;else break;o=vi(i.document)}return o}function Nf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}var fA=Nn&&"documentMode"in document&&11>=document.documentMode,ur=null,bf=null,Oa=null,Mf=!1;function Ep(i,o,a){var u=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mf||ur==null||ur!==vi(u)||(u=ur,"selectionStart"in u&&Nf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Oa&&qa(Oa,u)||(Oa=u,u=uc(bf,"onSelect"),0<u.length&&(o=new Si("onSelect","select",null,o,a),i.push({event:o,listeners:u}),o.target=ur)))}function To(i,o){var a={};return a[i.toLowerCase()]=o.toLowerCase(),a["Webkit"+i]="webkit"+o,a["Moz"+i]="moz"+o,a}var cr={animationend:To("Animation","AnimationEnd"),animationiteration:To("Animation","AnimationIteration"),animationstart:To("Animation","AnimationStart"),transitionrun:To("Transition","TransitionRun"),transitionstart:To("Transition","TransitionStart"),transitioncancel:To("Transition","TransitionCancel"),transitionend:To("Transition","TransitionEnd")},Df={},Sp={};Nn&&(Sp=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);function Eo(i){if(Df[i])return Df[i];if(!cr[i])return i;var o=cr[i],a;for(a in o)if(o.hasOwnProperty(a)&&a in Sp)return Df[i]=o[a];return i}var Ap=Eo("animationend"),Cp=Eo("animationiteration"),Ip=Eo("animationstart"),dA=Eo("transitionrun"),hA=Eo("transitionstart"),mA=Eo("transitioncancel"),xp=Eo("transitionend"),Rp=new Map,Pf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Pf.push("scrollEnd");function ei(i,o){Rp.set(i,o),yi(o,[i])}var Su=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var o=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(o))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)},Mn=[],fr=0,Vf=0;function Au(){for(var i=fr,o=Vf=fr=0;o<i;){var a=Mn[o];Mn[o++]=null;var u=Mn[o];Mn[o++]=null;var g=Mn[o];Mn[o++]=null;var _=Mn[o];if(Mn[o++]=null,u!==null&&g!==null){var A=u.pending;A===null?g.next=g:(g.next=A.next,A.next=g),u.pending=g}_!==0&&wp(a,g,_)}}function Cu(i,o,a,u){Mn[fr++]=i,Mn[fr++]=o,Mn[fr++]=a,Mn[fr++]=u,Vf|=u,i.lanes|=u,i=i.alternate,i!==null&&(i.lanes|=u)}function Uf(i,o,a,u){return Cu(i,o,a,u),Iu(i)}function So(i,o){return Cu(i,null,null,o),Iu(i)}function wp(i,o,a){i.lanes|=a;var u=i.alternate;u!==null&&(u.lanes|=a);for(var g=!1,_=i.return;_!==null;)_.childLanes|=a,u=_.alternate,u!==null&&(u.childLanes|=a),_.tag===22&&(i=_.stateNode,i===null||i._visibility&1||(g=!0)),i=_,_=_.return;return i.tag===3?(_=i.stateNode,g&&o!==null&&(g=31-vt(a),i=_.hiddenUpdates,u=i[g],u===null?i[g]=[o]:u.push(o),o.lane=a|536870912),_):null}function Iu(i){if(50<al)throw al=0,Gd=null,Error(s(185));for(var o=i.return;o!==null;)i=o,o=i.return;return i.tag===3?i.stateNode:null}var dr={};function pA(i,o,a,u){this.tag=i,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Tn(i,o,a,u){return new pA(i,o,a,u)}function Lf(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Bi(i,o){var a=i.alternate;return a===null?(a=Tn(i.tag,o,i.key,i.mode),a.elementType=i.elementType,a.type=i.type,a.stateNode=i.stateNode,a.alternate=i,i.alternate=a):(a.pendingProps=o,a.type=i.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=i.flags&65011712,a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,o=i.dependencies,a.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},a.sibling=i.sibling,a.index=i.index,a.ref=i.ref,a.refCleanup=i.refCleanup,a}function Np(i,o){i.flags&=65011714;var a=i.alternate;return a===null?(i.childLanes=0,i.lanes=o,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=a.childLanes,i.lanes=a.lanes,i.child=a.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=a.memoizedProps,i.memoizedState=a.memoizedState,i.updateQueue=a.updateQueue,i.type=a.type,o=a.dependencies,i.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),i}function xu(i,o,a,u,g,_){var A=0;if(u=i,typeof i=="function")Lf(i)&&(A=1);else if(typeof i=="string")A=TC(i,a,ye.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case N:return i=Tn(31,a,o,g),i.elementType=N,i.lanes=_,i;case H:return Ao(a.children,g,_,o);case z:A=8,g|=24;break;case ee:return i=Tn(12,a,o,g|2),i.elementType=ee,i.lanes=_,i;case he:return i=Tn(13,a,o,g),i.elementType=he,i.lanes=_,i;case j:return i=Tn(19,a,o,g),i.elementType=j,i.lanes=_,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case W:A=10;break e;case re:A=9;break e;case ue:A=11;break e;case M:A=14;break e;case b:A=16,u=null;break e}A=29,a=Error(s(130,i===null?"null":typeof i,"")),u=null}return o=Tn(A,a,o,g),o.elementType=i,o.type=u,o.lanes=_,o}function Ao(i,o,a,u){return i=Tn(7,i,u,o),i.lanes=a,i}function kf(i,o,a){return i=Tn(6,i,null,o),i.lanes=a,i}function bp(i){var o=Tn(18,null,null,0);return o.stateNode=i,o}function qf(i,o,a){return o=Tn(4,i.children!==null?i.children:[],i.key,o),o.lanes=a,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}var Mp=new WeakMap;function Dn(i,o){if(typeof i=="object"&&i!==null){var a=Mp.get(i);return a!==void 0?a:(o={value:i,source:o,stack:ga(o)},Mp.set(i,o),o)}return{value:i,source:o,stack:ga(o)}}var hr=[],mr=0,Ru=null,Ba=0,Pn=[],Vn=0,Ts=null,xi=1,Ri="";function zi(i,o){hr[mr++]=Ba,hr[mr++]=Ru,Ru=i,Ba=o}function Dp(i,o,a){Pn[Vn++]=xi,Pn[Vn++]=Ri,Pn[Vn++]=Ts,Ts=i;var u=xi;i=Ri;var g=32-vt(u)-1;u&=~(1<<g),a+=1;var _=32-vt(o)+g;if(30<_){var A=g-g%5;_=(u&(1<<A)-1).toString(32),u>>=A,g-=A,xi=1<<32-vt(o)+g|a<<g|u,Ri=_+i}else xi=1<<_|a<<g|u,Ri=i}function Of(i){i.return!==null&&(zi(i,1),Dp(i,1,0))}function Bf(i){for(;i===Ru;)Ru=hr[--mr],hr[mr]=null,Ba=hr[--mr],hr[mr]=null;for(;i===Ts;)Ts=Pn[--Vn],Pn[Vn]=null,Ri=Pn[--Vn],Pn[Vn]=null,xi=Pn[--Vn],Pn[Vn]=null}function Pp(i,o){Pn[Vn++]=xi,Pn[Vn++]=Ri,Pn[Vn++]=Ts,xi=o.id,Ri=o.overflow,Ts=i}var Kt=null,ct=null,Fe=!1,Es=null,Un=!1,zf=Error(s(519));function Ss(i){var o=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw za(Dn(o,i)),zf}function Vp(i){var o=i.stateNode,a=i.type,u=i.memoizedProps;switch(o[xt]=i,o[zt]=u,a){case"dialog":ke("cancel",o),ke("close",o);break;case"iframe":case"object":case"embed":ke("load",o);break;case"video":case"audio":for(a=0;a<ul.length;a++)ke(ul[a],o);break;case"source":ke("error",o);break;case"img":case"image":case"link":ke("error",o),ke("load",o);break;case"details":ke("toggle",o);break;case"input":ke("invalid",o),ru(o,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":ke("invalid",o);break;case"textarea":ke("invalid",o),hs(o,u.value,u.defaultValue,u.children)}a=u.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||o.textContent===""+a||u.suppressHydrationWarning===!0||Wy(o.textContent,a)?(u.popover!=null&&(ke("beforetoggle",o),ke("toggle",o)),u.onScroll!=null&&ke("scroll",o),u.onScrollEnd!=null&&ke("scrollend",o),u.onClick!=null&&(o.onclick=$n),o=!0):o=!1,o||Ss(i,!0)}function Up(i){for(Kt=i.return;Kt;)switch(Kt.tag){case 5:case 31:case 13:Un=!1;return;case 27:case 3:Un=!0;return;default:Kt=Kt.return}}function pr(i){if(i!==Kt)return!1;if(!Fe)return Up(i),Fe=!0,!1;var o=i.tag,a;if((a=o!==3&&o!==27)&&((a=o===5)&&(a=i.type,a=!(a!=="form"&&a!=="button")||oh(i.type,i.memoizedProps)),a=!a),a&&ct&&Ss(i),Up(i),o===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ct=r_(i)}else if(o===31){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));ct=r_(i)}else o===27?(o=ct,Ls(i.type)?(i=ch,ch=null,ct=i):ct=o):ct=Kt?kn(i.stateNode.nextSibling):null;return!0}function Co(){ct=Kt=null,Fe=!1}function Ff(){var i=Es;return i!==null&&(mn===null?mn=i:mn.push.apply(mn,i),Es=null),i}function za(i){Es===null?Es=[i]:Es.push(i)}var Hf=k(null),Io=null,Fi=null;function As(i,o,a){ce(Hf,o._currentValue),o._currentValue=a}function Hi(i){i._currentValue=Hf.current,ie(Hf)}function Gf(i,o,a){for(;i!==null;){var u=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,u!==null&&(u.childLanes|=o)):u!==null&&(u.childLanes&o)!==o&&(u.childLanes|=o),i===a)break;i=i.return}}function Yf(i,o,a,u){var g=i.child;for(g!==null&&(g.return=i);g!==null;){var _=g.dependencies;if(_!==null){var A=g.child;_=_.firstContext;e:for(;_!==null;){var x=_;_=g;for(var V=0;V<o.length;V++)if(x.context===o[V]){_.lanes|=a,x=_.alternate,x!==null&&(x.lanes|=a),Gf(_.return,a,i),u||(A=null);break e}_=x.next}}else if(g.tag===18){if(A=g.return,A===null)throw Error(s(341));A.lanes|=a,_=A.alternate,_!==null&&(_.lanes|=a),Gf(A,a,i),A=null}else A=g.child;if(A!==null)A.return=g;else for(A=g;A!==null;){if(A===i){A=null;break}if(g=A.sibling,g!==null){g.return=A.return,A=g;break}A=A.return}g=A}}function gr(i,o,a,u){i=null;for(var g=o,_=!1;g!==null;){if(!_){if((g.flags&524288)!==0)_=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var A=g.alternate;if(A===null)throw Error(s(387));if(A=A.memoizedProps,A!==null){var x=g.type;vn(g.pendingProps.value,A.value)||(i!==null?i.push(x):i=[x])}}else if(g===He.current){if(A=g.alternate,A===null)throw Error(s(387));A.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(i!==null?i.push(ml):i=[ml])}g=g.return}i!==null&&Yf(o,i,a,u),o.flags|=262144}function wu(i){for(i=i.firstContext;i!==null;){if(!vn(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function xo(i){Io=i,Fi=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Qt(i){return Lp(Io,i)}function Nu(i,o){return Io===null&&xo(i),Lp(i,o)}function Lp(i,o){var a=o._currentValue;if(o={context:o,memoizedValue:a,next:null},Fi===null){if(i===null)throw Error(s(308));Fi=o,i.dependencies={lanes:0,firstContext:o},i.flags|=524288}else Fi=Fi.next=o;return a}var gA=typeof AbortController<"u"?AbortController:function(){var i=[],o=this.signal={aborted:!1,addEventListener:function(a,u){i.push(u)}};this.abort=function(){o.aborted=!0,i.forEach(function(a){return a()})}},yA=n.unstable_scheduleCallback,_A=n.unstable_NormalPriority,Nt={$$typeof:W,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Jf(){return{controller:new gA,data:new Map,refCount:0}}function Fa(i){i.refCount--,i.refCount===0&&yA(_A,function(){i.controller.abort()})}var Ha=null,Kf=0,yr=0,_r=null;function vA(i,o){if(Ha===null){var a=Ha=[];Kf=0,yr=Xd(),_r={status:"pending",value:void 0,then:function(u){a.push(u)}}}return Kf++,o.then(kp,kp),o}function kp(){if(--Kf===0&&Ha!==null){_r!==null&&(_r.status="fulfilled");var i=Ha;Ha=null,yr=0,_r=null;for(var o=0;o<i.length;o++)(0,i[o])()}}function TA(i,o){var a=[],u={status:"pending",value:null,reason:null,then:function(g){a.push(g)}};return i.then(function(){u.status="fulfilled",u.value=o;for(var g=0;g<a.length;g++)(0,a[g])(o)},function(g){for(u.status="rejected",u.reason=g,g=0;g<a.length;g++)(0,a[g])(void 0)}),u}var qp=J.S;J.S=function(i,o){Ey=rn(),typeof o=="object"&&o!==null&&typeof o.then=="function"&&vA(i,o),qp!==null&&qp(i,o)};var Ro=k(null);function Qf(){var i=Ro.current;return i!==null?i:at.pooledCache}function bu(i,o){o===null?ce(Ro,Ro.current):ce(Ro,o.pool)}function Op(){var i=Qf();return i===null?null:{parent:Nt._currentValue,pool:i}}var vr=Error(s(460)),$f=Error(s(474)),Mu=Error(s(542)),Du={then:function(){}};function Bp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function zp(i,o,a){switch(a=i[a],a===void 0?i.push(o):a!==o&&(o.then($n,$n),o=a),o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Hp(i),i;default:if(typeof o.status=="string")o.then($n,$n);else{if(i=at,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=o,i.status="pending",i.then(function(u){if(o.status==="pending"){var g=o;g.status="fulfilled",g.value=u}},function(u){if(o.status==="pending"){var g=o;g.status="rejected",g.reason=u}})}switch(o.status){case"fulfilled":return o.value;case"rejected":throw i=o.reason,Hp(i),i}throw No=o,vr}}function wo(i){try{var o=i._init;return o(i._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(No=a,vr):a}}var No=null;function Fp(){if(No===null)throw Error(s(459));var i=No;return No=null,i}function Hp(i){if(i===vr||i===Mu)throw Error(s(483))}var Tr=null,Ga=0;function Pu(i){var o=Ga;return Ga+=1,Tr===null&&(Tr=[]),zp(Tr,i,o)}function Ya(i,o){o=o.props.ref,i.ref=o!==void 0?o:null}function Vu(i,o){throw o.$$typeof===S?Error(s(525)):(i=Object.prototype.toString.call(o),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)))}function Gp(i){function o(B,L){if(i){var G=B.deletions;G===null?(B.deletions=[L],B.flags|=16):G.push(L)}}function a(B,L){if(!i)return null;for(;L!==null;)o(B,L),L=L.sibling;return null}function u(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function g(B,L){return B=Bi(B,L),B.index=0,B.sibling=null,B}function _(B,L,G){return B.index=G,i?(G=B.alternate,G!==null?(G=G.index,G<L?(B.flags|=67108866,L):G):(B.flags|=67108866,L)):(B.flags|=1048576,L)}function A(B){return i&&B.alternate===null&&(B.flags|=67108866),B}function x(B,L,G,Z){return L===null||L.tag!==6?(L=kf(G,B.mode,Z),L.return=B,L):(L=g(L,G),L.return=B,L)}function V(B,L,G,Z){var Se=G.type;return Se===H?X(B,L,G.props.children,Z,G.key):L!==null&&(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===b&&wo(Se)===L.type)?(L=g(L,G.props),Ya(L,G),L.return=B,L):(L=xu(G.type,G.key,G.props,null,B.mode,Z),Ya(L,G),L.return=B,L)}function Y(B,L,G,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==G.containerInfo||L.stateNode.implementation!==G.implementation?(L=qf(G,B.mode,Z),L.return=B,L):(L=g(L,G.children||[]),L.return=B,L)}function X(B,L,G,Z,Se){return L===null||L.tag!==7?(L=Ao(G,B.mode,Z,Se),L.return=B,L):(L=g(L,G),L.return=B,L)}function ne(B,L,G){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=kf(""+L,B.mode,G),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case R:return G=xu(L.type,L.key,L.props,null,B.mode,G),Ya(G,L),G.return=B,G;case O:return L=qf(L,B.mode,G),L.return=B,L;case b:return L=wo(L),ne(B,L,G)}if(Ee(L)||q(L))return L=Ao(L,B.mode,G,null),L.return=B,L;if(typeof L.then=="function")return ne(B,Pu(L),G);if(L.$$typeof===W)return ne(B,Nu(B,L),G);Vu(B,L)}return null}function K(B,L,G,Z){var Se=L!==null?L.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return Se!==null?null:x(B,L,""+G,Z);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case R:return G.key===Se?V(B,L,G,Z):null;case O:return G.key===Se?Y(B,L,G,Z):null;case b:return G=wo(G),K(B,L,G,Z)}if(Ee(G)||q(G))return Se!==null?null:X(B,L,G,Z,null);if(typeof G.then=="function")return K(B,L,Pu(G),Z);if(G.$$typeof===W)return K(B,L,Nu(B,G),Z);Vu(B,G)}return null}function $(B,L,G,Z,Se){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(G)||null,x(L,B,""+Z,Se);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case R:return B=B.get(Z.key===null?G:Z.key)||null,V(L,B,Z,Se);case O:return B=B.get(Z.key===null?G:Z.key)||null,Y(L,B,Z,Se);case b:return Z=wo(Z),$(B,L,G,Z,Se)}if(Ee(Z)||q(Z))return B=B.get(G)||null,X(L,B,Z,Se,null);if(typeof Z.then=="function")return $(B,L,G,Pu(Z),Se);if(Z.$$typeof===W)return $(B,L,G,Nu(L,Z),Se);Vu(L,Z)}return null}function _e(B,L,G,Z){for(var Se=null,Ke=null,Te=L,Ve=L=0,Oe=null;Te!==null&&Ve<G.length;Ve++){Te.index>Ve?(Oe=Te,Te=null):Oe=Te.sibling;var Qe=K(B,Te,G[Ve],Z);if(Qe===null){Te===null&&(Te=Oe);break}i&&Te&&Qe.alternate===null&&o(B,Te),L=_(Qe,L,Ve),Ke===null?Se=Qe:Ke.sibling=Qe,Ke=Qe,Te=Oe}if(Ve===G.length)return a(B,Te),Fe&&zi(B,Ve),Se;if(Te===null){for(;Ve<G.length;Ve++)Te=ne(B,G[Ve],Z),Te!==null&&(L=_(Te,L,Ve),Ke===null?Se=Te:Ke.sibling=Te,Ke=Te);return Fe&&zi(B,Ve),Se}for(Te=u(Te);Ve<G.length;Ve++)Oe=$(Te,B,Ve,G[Ve],Z),Oe!==null&&(i&&Oe.alternate!==null&&Te.delete(Oe.key===null?Ve:Oe.key),L=_(Oe,L,Ve),Ke===null?Se=Oe:Ke.sibling=Oe,Ke=Oe);return i&&Te.forEach(function(zs){return o(B,zs)}),Fe&&zi(B,Ve),Se}function Ce(B,L,G,Z){if(G==null)throw Error(s(151));for(var Se=null,Ke=null,Te=L,Ve=L=0,Oe=null,Qe=G.next();Te!==null&&!Qe.done;Ve++,Qe=G.next()){Te.index>Ve?(Oe=Te,Te=null):Oe=Te.sibling;var zs=K(B,Te,Qe.value,Z);if(zs===null){Te===null&&(Te=Oe);break}i&&Te&&zs.alternate===null&&o(B,Te),L=_(zs,L,Ve),Ke===null?Se=zs:Ke.sibling=zs,Ke=zs,Te=Oe}if(Qe.done)return a(B,Te),Fe&&zi(B,Ve),Se;if(Te===null){for(;!Qe.done;Ve++,Qe=G.next())Qe=ne(B,Qe.value,Z),Qe!==null&&(L=_(Qe,L,Ve),Ke===null?Se=Qe:Ke.sibling=Qe,Ke=Qe);return Fe&&zi(B,Ve),Se}for(Te=u(Te);!Qe.done;Ve++,Qe=G.next())Qe=$(Te,B,Ve,Qe.value,Z),Qe!==null&&(i&&Qe.alternate!==null&&Te.delete(Qe.key===null?Ve:Qe.key),L=_(Qe,L,Ve),Ke===null?Se=Qe:Ke.sibling=Qe,Ke=Qe);return i&&Te.forEach(function(MC){return o(B,MC)}),Fe&&zi(B,Ve),Se}function rt(B,L,G,Z){if(typeof G=="object"&&G!==null&&G.type===H&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case R:e:{for(var Se=G.key;L!==null;){if(L.key===Se){if(Se=G.type,Se===H){if(L.tag===7){a(B,L.sibling),Z=g(L,G.props.children),Z.return=B,B=Z;break e}}else if(L.elementType===Se||typeof Se=="object"&&Se!==null&&Se.$$typeof===b&&wo(Se)===L.type){a(B,L.sibling),Z=g(L,G.props),Ya(Z,G),Z.return=B,B=Z;break e}a(B,L);break}else o(B,L);L=L.sibling}G.type===H?(Z=Ao(G.props.children,B.mode,Z,G.key),Z.return=B,B=Z):(Z=xu(G.type,G.key,G.props,null,B.mode,Z),Ya(Z,G),Z.return=B,B=Z)}return A(B);case O:e:{for(Se=G.key;L!==null;){if(L.key===Se)if(L.tag===4&&L.stateNode.containerInfo===G.containerInfo&&L.stateNode.implementation===G.implementation){a(B,L.sibling),Z=g(L,G.children||[]),Z.return=B,B=Z;break e}else{a(B,L);break}else o(B,L);L=L.sibling}Z=qf(G,B.mode,Z),Z.return=B,B=Z}return A(B);case b:return G=wo(G),rt(B,L,G,Z)}if(Ee(G))return _e(B,L,G,Z);if(q(G)){if(Se=q(G),typeof Se!="function")throw Error(s(150));return G=Se.call(G),Ce(B,L,G,Z)}if(typeof G.then=="function")return rt(B,L,Pu(G),Z);if(G.$$typeof===W)return rt(B,L,Nu(B,G),Z);Vu(B,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,L!==null&&L.tag===6?(a(B,L.sibling),Z=g(L,G),Z.return=B,B=Z):(a(B,L),Z=kf(G,B.mode,Z),Z.return=B,B=Z),A(B)):a(B,L)}return function(B,L,G,Z){try{Ga=0;var Se=rt(B,L,G,Z);return Tr=null,Se}catch(Te){if(Te===vr||Te===Mu)throw Te;var Ke=Tn(29,Te,null,B.mode);return Ke.lanes=Z,Ke.return=B,Ke}finally{}}}var bo=Gp(!0),Yp=Gp(!1),Cs=!1;function Xf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Wf(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function Is(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xs(i,o,a){var u=i.updateQueue;if(u===null)return null;if(u=u.shared,(Ze&2)!==0){var g=u.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),u.pending=o,o=Iu(i),wp(i,null,a),o}return Cu(i,u,o,a),Iu(i)}function Ja(i,o,a){if(o=o.updateQueue,o!==null&&(o=o.shared,(a&4194048)!==0)){var u=o.lanes;u&=i.pendingLanes,a|=u,o.lanes=a,va(i,a)}}function Zf(i,o){var a=i.updateQueue,u=i.alternate;if(u!==null&&(u=u.updateQueue,a===u)){var g=null,_=null;if(a=a.firstBaseUpdate,a!==null){do{var A={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};_===null?g=_=A:_=_.next=A,a=a.next}while(a!==null);_===null?g=_=o:_=_.next=o}else g=_=o;a={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:_,shared:u.shared,callbacks:u.callbacks},i.updateQueue=a;return}i=a.lastBaseUpdate,i===null?a.firstBaseUpdate=o:i.next=o,a.lastBaseUpdate=o}var jf=!1;function Ka(){if(jf){var i=_r;if(i!==null)throw i}}function Qa(i,o,a,u){jf=!1;var g=i.updateQueue;Cs=!1;var _=g.firstBaseUpdate,A=g.lastBaseUpdate,x=g.shared.pending;if(x!==null){g.shared.pending=null;var V=x,Y=V.next;V.next=null,A===null?_=Y:A.next=Y,A=V;var X=i.alternate;X!==null&&(X=X.updateQueue,x=X.lastBaseUpdate,x!==A&&(x===null?X.firstBaseUpdate=Y:x.next=Y,X.lastBaseUpdate=V))}if(_!==null){var ne=g.baseState;A=0,X=Y=V=null,x=_;do{var K=x.lane&-536870913,$=K!==x.lane;if($?(qe&K)===K:(u&K)===K){K!==0&&K===yr&&(jf=!0),X!==null&&(X=X.next={lane:0,tag:x.tag,payload:x.payload,callback:null,next:null});e:{var _e=i,Ce=x;K=o;var rt=a;switch(Ce.tag){case 1:if(_e=Ce.payload,typeof _e=="function"){ne=_e.call(rt,ne,K);break e}ne=_e;break e;case 3:_e.flags=_e.flags&-65537|128;case 0:if(_e=Ce.payload,K=typeof _e=="function"?_e.call(rt,ne,K):_e,K==null)break e;ne=T({},ne,K);break e;case 2:Cs=!0}}K=x.callback,K!==null&&(i.flags|=64,$&&(i.flags|=8192),$=g.callbacks,$===null?g.callbacks=[K]:$.push(K))}else $={lane:K,tag:x.tag,payload:x.payload,callback:x.callback,next:null},X===null?(Y=X=$,V=ne):X=X.next=$,A|=K;if(x=x.next,x===null){if(x=g.shared.pending,x===null)break;$=x,x=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);X===null&&(V=ne),g.baseState=V,g.firstBaseUpdate=Y,g.lastBaseUpdate=X,_===null&&(g.shared.lanes=0),Ms|=A,i.lanes=A,i.memoizedState=ne}}function Jp(i,o){if(typeof i!="function")throw Error(s(191,i));i.call(o)}function Kp(i,o){var a=i.callbacks;if(a!==null)for(i.callbacks=null,i=0;i<a.length;i++)Jp(a[i],o)}var Er=k(null),Uu=k(0);function Qp(i,o){i=Zi,ce(Uu,i),ce(Er,o),Zi=i|o.baseLanes}function ed(){ce(Uu,Zi),ce(Er,Er.current)}function td(){Zi=Uu.current,ie(Er),ie(Uu)}var En=k(null),Ln=null;function Rs(i){var o=i.alternate;ce(Et,Et.current&1),ce(En,i),Ln===null&&(o===null||Er.current!==null||o.memoizedState!==null)&&(Ln=i)}function nd(i){ce(Et,Et.current),ce(En,i),Ln===null&&(Ln=i)}function $p(i){i.tag===22?(ce(Et,Et.current),ce(En,i),Ln===null&&(Ln=i)):ws()}function ws(){ce(Et,Et.current),ce(En,En.current)}function Sn(i){ie(En),Ln===i&&(Ln=null),ie(Et)}var Et=k(0);function Lu(i){for(var o=i;o!==null;){if(o.tag===13){var a=o.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||lh(a)||uh(a)))return o}else if(o.tag===19&&(o.memoizedProps.revealOrder==="forwards"||o.memoizedProps.revealOrder==="backwards"||o.memoizedProps.revealOrder==="unstable_legacy-backwards"||o.memoizedProps.revealOrder==="together")){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Gi=0,De=null,st=null,bt=null,ku=!1,Sr=!1,Mo=!1,qu=0,$a=0,Ar=null,EA=0;function yt(){throw Error(s(321))}function id(i,o){if(o===null)return!1;for(var a=0;a<o.length&&a<i.length;a++)if(!vn(i[a],o[a]))return!1;return!0}function sd(i,o,a,u,g,_){return Gi=_,De=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,J.H=i===null||i.memoizedState===null?Dg:vd,Mo=!1,_=a(u,g),Mo=!1,Sr&&(_=Wp(o,a,u,g)),Xp(i),_}function Xp(i){J.H=Za;var o=st!==null&&st.next!==null;if(Gi=0,bt=st=De=null,ku=!1,$a=0,Ar=null,o)throw Error(s(300));i===null||Mt||(i=i.dependencies,i!==null&&wu(i)&&(Mt=!0))}function Wp(i,o,a,u){De=i;var g=0;do{if(Sr&&(Ar=null),$a=0,Sr=!1,25<=g)throw Error(s(301));if(g+=1,bt=st=null,i.updateQueue!=null){var _=i.updateQueue;_.lastEffect=null,_.events=null,_.stores=null,_.memoCache!=null&&(_.memoCache.index=0)}J.H=Pg,_=o(a,u)}while(Sr);return _}function SA(){var i=J.H,o=i.useState()[0];return o=typeof o.then=="function"?Xa(o):o,i=i.useState()[0],(st!==null?st.memoizedState:null)!==i&&(De.flags|=1024),o}function od(){var i=qu!==0;return qu=0,i}function rd(i,o,a){o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~a}function ad(i){if(ku){for(i=i.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}ku=!1}Gi=0,bt=st=De=null,Sr=!1,$a=qu=0,Ar=null}function ln(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?De.memoizedState=bt=i:bt=bt.next=i,bt}function St(){if(st===null){var i=De.alternate;i=i!==null?i.memoizedState:null}else i=st.next;var o=bt===null?De.memoizedState:bt.next;if(o!==null)bt=o,st=i;else{if(i===null)throw De.alternate===null?Error(s(467)):Error(s(310));st=i,i={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},bt===null?De.memoizedState=bt=i:bt=bt.next=i}return bt}function Ou(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xa(i){var o=$a;return $a+=1,Ar===null&&(Ar=[]),i=zp(Ar,i,o),o=De,(bt===null?o.memoizedState:bt.next)===null&&(o=o.alternate,J.H=o===null||o.memoizedState===null?Dg:vd),i}function Bu(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Xa(i);if(i.$$typeof===W)return Qt(i)}throw Error(s(438,String(i)))}function ld(i){var o=null,a=De.updateQueue;if(a!==null&&(o=a.memoCache),o==null){var u=De.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(o={data:u.data.map(function(g){return g.slice()}),index:0})))}if(o==null&&(o={data:[],index:0}),a===null&&(a=Ou(),De.updateQueue=a),a.memoCache=o,a=o.data[o.index],a===void 0)for(a=o.data[o.index]=Array(i),u=0;u<i;u++)a[u]=P;return o.index++,a}function Yi(i,o){return typeof o=="function"?o(i):o}function zu(i){var o=St();return ud(o,st,i)}function ud(i,o,a){var u=i.queue;if(u===null)throw Error(s(311));u.lastRenderedReducer=a;var g=i.baseQueue,_=u.pending;if(_!==null){if(g!==null){var A=g.next;g.next=_.next,_.next=A}o.baseQueue=g=_,u.pending=null}if(_=i.baseState,g===null)i.memoizedState=_;else{o=g.next;var x=A=null,V=null,Y=o,X=!1;do{var ne=Y.lane&-536870913;if(ne!==Y.lane?(qe&ne)===ne:(Gi&ne)===ne){var K=Y.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),ne===yr&&(X=!0);else if((Gi&K)===K){Y=Y.next,K===yr&&(X=!0);continue}else ne={lane:0,revertLane:Y.revertLane,gesture:null,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(x=V=ne,A=_):V=V.next=ne,De.lanes|=K,Ms|=K;ne=Y.action,Mo&&a(_,ne),_=Y.hasEagerState?Y.eagerState:a(_,ne)}else K={lane:ne,revertLane:Y.revertLane,gesture:Y.gesture,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null},V===null?(x=V=K,A=_):V=V.next=K,De.lanes|=ne,Ms|=ne;Y=Y.next}while(Y!==null&&Y!==o);if(V===null?A=_:V.next=x,!vn(_,i.memoizedState)&&(Mt=!0,X&&(a=_r,a!==null)))throw a;i.memoizedState=_,i.baseState=A,i.baseQueue=V,u.lastRenderedState=_}return g===null&&(u.lanes=0),[i.memoizedState,u.dispatch]}function cd(i){var o=St(),a=o.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=i;var u=a.dispatch,g=a.pending,_=o.memoizedState;if(g!==null){a.pending=null;var A=g=g.next;do _=i(_,A.action),A=A.next;while(A!==g);vn(_,o.memoizedState)||(Mt=!0),o.memoizedState=_,o.baseQueue===null&&(o.baseState=_),a.lastRenderedState=_}return[_,u]}function Zp(i,o,a){var u=De,g=St(),_=Fe;if(_){if(a===void 0)throw Error(s(407));a=a()}else a=o();var A=!vn((st||g).memoizedState,a);if(A&&(g.memoizedState=a,Mt=!0),g=g.queue,hd(tg.bind(null,u,g,i),[i]),g.getSnapshot!==o||A||bt!==null&&bt.memoizedState.tag&1){if(u.flags|=2048,Cr(9,{destroy:void 0},eg.bind(null,u,g,a,o),null),at===null)throw Error(s(349));_||(Gi&127)!==0||jp(u,o,a)}return a}function jp(i,o,a){i.flags|=16384,i={getSnapshot:o,value:a},o=De.updateQueue,o===null?(o=Ou(),De.updateQueue=o,o.stores=[i]):(a=o.stores,a===null?o.stores=[i]:a.push(i))}function eg(i,o,a,u){o.value=a,o.getSnapshot=u,ng(o)&&ig(i)}function tg(i,o,a){return a(function(){ng(o)&&ig(i)})}function ng(i){var o=i.getSnapshot;i=i.value;try{var a=o();return!vn(i,a)}catch{return!0}}function ig(i){var o=So(i,2);o!==null&&pn(o,i,2)}function fd(i){var o=ln();if(typeof i=="function"){var a=i;if(i=a(),Mo){xn(!0);try{a()}finally{xn(!1)}}}return o.memoizedState=o.baseState=i,o.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:i},o}function sg(i,o,a,u){return i.baseState=a,ud(i,st,typeof u=="function"?u:Yi)}function AA(i,o,a,u,g){if(Gu(i))throw Error(s(485));if(i=o.action,i!==null){var _={payload:g,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(A){_.listeners.push(A)}};J.T!==null?a(!0):_.isTransition=!1,u(_),a=o.pending,a===null?(_.next=o.pending=_,og(o,_)):(_.next=a.next,o.pending=a.next=_)}}function og(i,o){var a=o.action,u=o.payload,g=i.state;if(o.isTransition){var _=J.T,A={};J.T=A;try{var x=a(g,u),V=J.S;V!==null&&V(A,x),rg(i,o,x)}catch(Y){dd(i,o,Y)}finally{_!==null&&A.types!==null&&(_.types=A.types),J.T=_}}else try{_=a(g,u),rg(i,o,_)}catch(Y){dd(i,o,Y)}}function rg(i,o,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(u){ag(i,o,u)},function(u){return dd(i,o,u)}):ag(i,o,a)}function ag(i,o,a){o.status="fulfilled",o.value=a,lg(o),i.state=a,o=i.pending,o!==null&&(a=o.next,a===o?i.pending=null:(a=a.next,o.next=a,og(i,a)))}function dd(i,o,a){var u=i.pending;if(i.pending=null,u!==null){u=u.next;do o.status="rejected",o.reason=a,lg(o),o=o.next;while(o!==u)}i.action=null}function lg(i){i=i.listeners;for(var o=0;o<i.length;o++)(0,i[o])()}function ug(i,o){return o}function cg(i,o){if(Fe){var a=at.formState;if(a!==null){e:{var u=De;if(Fe){if(ct){t:{for(var g=ct,_=Un;g.nodeType!==8;){if(!_){g=null;break t}if(g=kn(g.nextSibling),g===null){g=null;break t}}_=g.data,g=_==="F!"||_==="F"?g:null}if(g){ct=kn(g.nextSibling),u=g.data==="F!";break e}}Ss(u)}u=!1}u&&(o=a[0])}}return a=ln(),a.memoizedState=a.baseState=o,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ug,lastRenderedState:o},a.queue=u,a=Ng.bind(null,De,u),u.dispatch=a,u=fd(!1),_=_d.bind(null,De,!1,u.queue),u=ln(),g={state:o,dispatch:null,action:i,pending:null},u.queue=g,a=AA.bind(null,De,g,_,a),g.dispatch=a,u.memoizedState=i,[o,a,!1]}function fg(i){var o=St();return dg(o,st,i)}function dg(i,o,a){if(o=ud(i,o,ug)[0],i=zu(Yi)[0],typeof o=="object"&&o!==null&&typeof o.then=="function")try{var u=Xa(o)}catch(A){throw A===vr?Mu:A}else u=o;o=St();var g=o.queue,_=g.dispatch;return a!==o.memoizedState&&(De.flags|=2048,Cr(9,{destroy:void 0},CA.bind(null,g,a),null)),[u,_,i]}function CA(i,o){i.action=o}function hg(i){var o=St(),a=st;if(a!==null)return dg(o,a,i);St(),o=o.memoizedState,a=St();var u=a.queue.dispatch;return a.memoizedState=i,[o,u,!1]}function Cr(i,o,a,u){return i={tag:i,create:a,deps:u,inst:o,next:null},o=De.updateQueue,o===null&&(o=Ou(),De.updateQueue=o),a=o.lastEffect,a===null?o.lastEffect=i.next=i:(u=a.next,a.next=i,i.next=u,o.lastEffect=i),i}function mg(){return St().memoizedState}function Fu(i,o,a,u){var g=ln();De.flags|=i,g.memoizedState=Cr(1|o,{destroy:void 0},a,u===void 0?null:u)}function Hu(i,o,a,u){var g=St();u=u===void 0?null:u;var _=g.memoizedState.inst;st!==null&&u!==null&&id(u,st.memoizedState.deps)?g.memoizedState=Cr(o,_,a,u):(De.flags|=i,g.memoizedState=Cr(1|o,_,a,u))}function pg(i,o){Fu(8390656,8,i,o)}function hd(i,o){Hu(2048,8,i,o)}function IA(i){De.flags|=4;var o=De.updateQueue;if(o===null)o=Ou(),De.updateQueue=o,o.events=[i];else{var a=o.events;a===null?o.events=[i]:a.push(i)}}function gg(i){var o=St().memoizedState;return IA({ref:o,nextImpl:i}),function(){if((Ze&2)!==0)throw Error(s(440));return o.impl.apply(void 0,arguments)}}function yg(i,o){return Hu(4,2,i,o)}function _g(i,o){return Hu(4,4,i,o)}function vg(i,o){if(typeof o=="function"){i=i();var a=o(i);return function(){typeof a=="function"?a():o(null)}}if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Tg(i,o,a){a=a!=null?a.concat([i]):null,Hu(4,4,vg.bind(null,o,i),a)}function md(){}function Eg(i,o){var a=St();o=o===void 0?null:o;var u=a.memoizedState;return o!==null&&id(o,u[1])?u[0]:(a.memoizedState=[i,o],i)}function Sg(i,o){var a=St();o=o===void 0?null:o;var u=a.memoizedState;if(o!==null&&id(o,u[1]))return u[0];if(u=i(),Mo){xn(!0);try{i()}finally{xn(!1)}}return a.memoizedState=[u,o],u}function pd(i,o,a){return a===void 0||(Gi&1073741824)!==0&&(qe&261930)===0?i.memoizedState=o:(i.memoizedState=a,i=Ay(),De.lanes|=i,Ms|=i,a)}function Ag(i,o,a,u){return vn(a,o)?a:Er.current!==null?(i=pd(i,a,u),vn(i,o)||(Mt=!0),i):(Gi&42)===0||(Gi&1073741824)!==0&&(qe&261930)===0?(Mt=!0,i.memoizedState=a):(i=Ay(),De.lanes|=i,Ms|=i,o)}function Cg(i,o,a,u,g){var _=oe.p;oe.p=_!==0&&8>_?_:8;var A=J.T,x={};J.T=x,_d(i,!1,o,a);try{var V=g(),Y=J.S;if(Y!==null&&Y(x,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var X=TA(V,u);Wa(i,o,X,In(i))}else Wa(i,o,u,In(i))}catch(ne){Wa(i,o,{then:function(){},status:"rejected",reason:ne},In())}finally{oe.p=_,A!==null&&x.types!==null&&(A.types=x.types),J.T=A}}function xA(){}function gd(i,o,a,u){if(i.tag!==5)throw Error(s(476));var g=Ig(i).queue;Cg(i,g,o,fe,a===null?xA:function(){return xg(i),a(u)})}function Ig(i){var o=i.memoizedState;if(o!==null)return o;o={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:fe},next:null};var a={};return o.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yi,lastRenderedState:a},next:null},i.memoizedState=o,i=i.alternate,i!==null&&(i.memoizedState=o),o}function xg(i){var o=Ig(i);o.next===null&&(o=i.alternate.memoizedState),Wa(i,o.next.queue,{},In())}function yd(){return Qt(ml)}function Rg(){return St().memoizedState}function wg(){return St().memoizedState}function RA(i){for(var o=i.return;o!==null;){switch(o.tag){case 24:case 3:var a=In();i=Is(a);var u=xs(o,i,a);u!==null&&(pn(u,o,a),Ja(u,o,a)),o={cache:Jf()},i.payload=o;return}o=o.return}}function wA(i,o,a){var u=In();a={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Gu(i)?bg(o,a):(a=Uf(i,o,a,u),a!==null&&(pn(a,i,u),Mg(a,o,u)))}function Ng(i,o,a){var u=In();Wa(i,o,a,u)}function Wa(i,o,a,u){var g={lane:u,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Gu(i))bg(o,g);else{var _=i.alternate;if(i.lanes===0&&(_===null||_.lanes===0)&&(_=o.lastRenderedReducer,_!==null))try{var A=o.lastRenderedState,x=_(A,a);if(g.hasEagerState=!0,g.eagerState=x,vn(x,A))return Cu(i,o,g,0),at===null&&Au(),!1}catch{}finally{}if(a=Uf(i,o,g,u),a!==null)return pn(a,i,u),Mg(a,o,u),!0}return!1}function _d(i,o,a,u){if(u={lane:2,revertLane:Xd(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Gu(i)){if(o)throw Error(s(479))}else o=Uf(i,a,u,2),o!==null&&pn(o,i,2)}function Gu(i){var o=i.alternate;return i===De||o!==null&&o===De}function bg(i,o){Sr=ku=!0;var a=i.pending;a===null?o.next=o:(o.next=a.next,a.next=o),i.pending=o}function Mg(i,o,a){if((a&4194048)!==0){var u=o.lanes;u&=i.pendingLanes,a|=u,o.lanes=a,va(i,a)}}var Za={readContext:Qt,use:Bu,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useLayoutEffect:yt,useInsertionEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useSyncExternalStore:yt,useId:yt,useHostTransitionStatus:yt,useFormState:yt,useActionState:yt,useOptimistic:yt,useMemoCache:yt,useCacheRefresh:yt};Za.useEffectEvent=yt;var Dg={readContext:Qt,use:Bu,useCallback:function(i,o){return ln().memoizedState=[i,o===void 0?null:o],i},useContext:Qt,useEffect:pg,useImperativeHandle:function(i,o,a){a=a!=null?a.concat([i]):null,Fu(4194308,4,vg.bind(null,o,i),a)},useLayoutEffect:function(i,o){return Fu(4194308,4,i,o)},useInsertionEffect:function(i,o){Fu(4,2,i,o)},useMemo:function(i,o){var a=ln();o=o===void 0?null:o;var u=i();if(Mo){xn(!0);try{i()}finally{xn(!1)}}return a.memoizedState=[u,o],u},useReducer:function(i,o,a){var u=ln();if(a!==void 0){var g=a(o);if(Mo){xn(!0);try{a(o)}finally{xn(!1)}}}else g=o;return u.memoizedState=u.baseState=g,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:g},u.queue=i,i=i.dispatch=wA.bind(null,De,i),[u.memoizedState,i]},useRef:function(i){var o=ln();return i={current:i},o.memoizedState=i},useState:function(i){i=fd(i);var o=i.queue,a=Ng.bind(null,De,o);return o.dispatch=a,[i.memoizedState,a]},useDebugValue:md,useDeferredValue:function(i,o){var a=ln();return pd(a,i,o)},useTransition:function(){var i=fd(!1);return i=Cg.bind(null,De,i.queue,!0,!1),ln().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,o,a){var u=De,g=ln();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=o(),at===null)throw Error(s(349));(qe&127)!==0||jp(u,o,a)}g.memoizedState=a;var _={value:a,getSnapshot:o};return g.queue=_,pg(tg.bind(null,u,_,i),[i]),u.flags|=2048,Cr(9,{destroy:void 0},eg.bind(null,u,_,a,o),null),a},useId:function(){var i=ln(),o=at.identifierPrefix;if(Fe){var a=Ri,u=xi;a=(u&~(1<<32-vt(u)-1)).toString(32)+a,o="_"+o+"R_"+a,a=qu++,0<a&&(o+="H"+a.toString(32)),o+="_"}else a=EA++,o="_"+o+"r_"+a.toString(32)+"_";return i.memoizedState=o},useHostTransitionStatus:yd,useFormState:cg,useActionState:cg,useOptimistic:function(i){var o=ln();o.memoizedState=o.baseState=i;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return o.queue=a,o=_d.bind(null,De,!0,a),a.dispatch=o,[i,o]},useMemoCache:ld,useCacheRefresh:function(){return ln().memoizedState=RA.bind(null,De)},useEffectEvent:function(i){var o=ln(),a={impl:i};return o.memoizedState=a,function(){if((Ze&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},vd={readContext:Qt,use:Bu,useCallback:Eg,useContext:Qt,useEffect:hd,useImperativeHandle:Tg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:Sg,useReducer:zu,useRef:mg,useState:function(){return zu(Yi)},useDebugValue:md,useDeferredValue:function(i,o){var a=St();return Ag(a,st.memoizedState,i,o)},useTransition:function(){var i=zu(Yi)[0],o=St().memoizedState;return[typeof i=="boolean"?i:Xa(i),o]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:yd,useFormState:fg,useActionState:fg,useOptimistic:function(i,o){var a=St();return sg(a,st,i,o)},useMemoCache:ld,useCacheRefresh:wg};vd.useEffectEvent=gg;var Pg={readContext:Qt,use:Bu,useCallback:Eg,useContext:Qt,useEffect:hd,useImperativeHandle:Tg,useInsertionEffect:yg,useLayoutEffect:_g,useMemo:Sg,useReducer:cd,useRef:mg,useState:function(){return cd(Yi)},useDebugValue:md,useDeferredValue:function(i,o){var a=St();return st===null?pd(a,i,o):Ag(a,st.memoizedState,i,o)},useTransition:function(){var i=cd(Yi)[0],o=St().memoizedState;return[typeof i=="boolean"?i:Xa(i),o]},useSyncExternalStore:Zp,useId:Rg,useHostTransitionStatus:yd,useFormState:hg,useActionState:hg,useOptimistic:function(i,o){var a=St();return st!==null?sg(a,st,i,o):(a.baseState=i,[i,a.queue.dispatch])},useMemoCache:ld,useCacheRefresh:wg};Pg.useEffectEvent=gg;function Td(i,o,a,u){o=i.memoizedState,a=a(u,o),a=a==null?o:T({},o,a),i.memoizedState=a,i.lanes===0&&(i.updateQueue.baseState=a)}var Ed={enqueueSetState:function(i,o,a){i=i._reactInternals;var u=In(),g=Is(u);g.payload=o,a!=null&&(g.callback=a),o=xs(i,g,u),o!==null&&(pn(o,i,u),Ja(o,i,u))},enqueueReplaceState:function(i,o,a){i=i._reactInternals;var u=In(),g=Is(u);g.tag=1,g.payload=o,a!=null&&(g.callback=a),o=xs(i,g,u),o!==null&&(pn(o,i,u),Ja(o,i,u))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var a=In(),u=Is(a);u.tag=2,o!=null&&(u.callback=o),o=xs(i,u,a),o!==null&&(pn(o,i,a),Ja(o,i,a))}};function Vg(i,o,a,u,g,_,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(u,_,A):o.prototype&&o.prototype.isPureReactComponent?!qa(a,u)||!qa(g,_):!0}function Ug(i,o,a,u){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(a,u),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(a,u),o.state!==i&&Ed.enqueueReplaceState(o,o.state,null)}function Do(i,o){var a=o;if("ref"in o){a={};for(var u in o)u!=="ref"&&(a[u]=o[u])}if(i=i.defaultProps){a===o&&(a=T({},a));for(var g in i)a[g]===void 0&&(a[g]=i[g])}return a}function Lg(i){Su(i)}function kg(i){console.error(i)}function qg(i){Su(i)}function Yu(i,o){try{var a=i.onUncaughtError;a(o.value,{componentStack:o.stack})}catch(u){setTimeout(function(){throw u})}}function Og(i,o,a){try{var u=i.onCaughtError;u(a.value,{componentStack:a.stack,errorBoundary:o.tag===1?o.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function Sd(i,o,a){return a=Is(a),a.tag=3,a.payload={element:null},a.callback=function(){Yu(i,o)},a}function Bg(i){return i=Is(i),i.tag=3,i}function zg(i,o,a,u){var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var _=u.value;i.payload=function(){return g(_)},i.callback=function(){Og(o,a,u)}}var A=a.stateNode;A!==null&&typeof A.componentDidCatch=="function"&&(i.callback=function(){Og(o,a,u),typeof g!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var x=u.stack;this.componentDidCatch(u.value,{componentStack:x!==null?x:""})})}function NA(i,o,a,u,g){if(a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(o=a.alternate,o!==null&&gr(o,a,g,!0),a=En.current,a!==null){switch(a.tag){case 31:case 13:return Ln===null?ic():a.alternate===null&&_t===0&&(_t=3),a.flags&=-257,a.flags|=65536,a.lanes=g,u===Du?a.flags|=16384:(o=a.updateQueue,o===null?a.updateQueue=new Set([u]):o.add(u),Kd(i,u,g)),!1;case 22:return a.flags|=65536,u===Du?a.flags|=16384:(o=a.updateQueue,o===null?(o={transitions:null,markerInstances:null,retryQueue:new Set([u])},a.updateQueue=o):(a=o.retryQueue,a===null?o.retryQueue=new Set([u]):a.add(u)),Kd(i,u,g)),!1}throw Error(s(435,a.tag))}return Kd(i,u,g),ic(),!1}if(Fe)return o=En.current,o!==null?((o.flags&65536)===0&&(o.flags|=256),o.flags|=65536,o.lanes=g,u!==zf&&(i=Error(s(422),{cause:u}),za(Dn(i,a)))):(u!==zf&&(o=Error(s(423),{cause:u}),za(Dn(o,a))),i=i.current.alternate,i.flags|=65536,g&=-g,i.lanes|=g,u=Dn(u,a),g=Sd(i.stateNode,u,g),Zf(i,g),_t!==4&&(_t=2)),!1;var _=Error(s(520),{cause:u});if(_=Dn(_,a),rl===null?rl=[_]:rl.push(_),_t!==4&&(_t=2),o===null)return!0;u=Dn(u,a),a=o;do{switch(a.tag){case 3:return a.flags|=65536,i=g&-g,a.lanes|=i,i=Sd(a.stateNode,u,i),Zf(a,i),!1;case 1:if(o=a.type,_=a.stateNode,(a.flags&128)===0&&(typeof o.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ds===null||!Ds.has(_))))return a.flags|=65536,g&=-g,a.lanes|=g,g=Bg(g),zg(g,i,a,u),Zf(a,g),!1}a=a.return}while(a!==null);return!1}var Ad=Error(s(461)),Mt=!1;function $t(i,o,a,u){o.child=i===null?Yp(o,null,a,u):bo(o,i.child,a,u)}function Fg(i,o,a,u,g){a=a.render;var _=o.ref;if("ref"in u){var A={};for(var x in u)x!=="ref"&&(A[x]=u[x])}else A=u;return xo(o),u=sd(i,o,a,A,_,g),x=od(),i!==null&&!Mt?(rd(i,o,g),Ji(i,o,g)):(Fe&&x&&Of(o),o.flags|=1,$t(i,o,u,g),o.child)}function Hg(i,o,a,u,g){if(i===null){var _=a.type;return typeof _=="function"&&!Lf(_)&&_.defaultProps===void 0&&a.compare===null?(o.tag=15,o.type=_,Gg(i,o,_,u,g)):(i=xu(a.type,null,u,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(_=i.child,!Md(i,g)){var A=_.memoizedProps;if(a=a.compare,a=a!==null?a:qa,a(A,u)&&i.ref===o.ref)return Ji(i,o,g)}return o.flags|=1,i=Bi(_,u),i.ref=o.ref,i.return=o,o.child=i}function Gg(i,o,a,u,g){if(i!==null){var _=i.memoizedProps;if(qa(_,u)&&i.ref===o.ref)if(Mt=!1,o.pendingProps=u=_,Md(i,g))(i.flags&131072)!==0&&(Mt=!0);else return o.lanes=i.lanes,Ji(i,o,g)}return Cd(i,o,a,u,g)}function Yg(i,o,a,u){var g=u.children,_=i!==null?i.memoizedState:null;if(i===null&&o.stateNode===null&&(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((o.flags&128)!==0){if(_=_!==null?_.baseLanes|a:a,i!==null){for(u=o.child=i.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~_}else u=0,o.child=null;return Jg(i,o,_,a,u)}if((a&536870912)!==0)o.memoizedState={baseLanes:0,cachePool:null},i!==null&&bu(o,_!==null?_.cachePool:null),_!==null?Qp(o,_):ed(),$p(o);else return u=o.lanes=536870912,Jg(i,o,_!==null?_.baseLanes|a:a,a,u)}else _!==null?(bu(o,_.cachePool),Qp(o,_),ws(),o.memoizedState=null):(i!==null&&bu(o,null),ed(),ws());return $t(i,o,g,a),o.child}function ja(i,o){return i!==null&&i.tag===22||o.stateNode!==null||(o.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.sibling}function Jg(i,o,a,u,g){var _=Qf();return _=_===null?null:{parent:Nt._currentValue,pool:_},o.memoizedState={baseLanes:a,cachePool:_},i!==null&&bu(o,null),ed(),$p(o),i!==null&&gr(i,o,u,!0),o.childLanes=g,null}function Ju(i,o){return o=Qu({mode:o.mode,children:o.children},i.mode),o.ref=i.ref,i.child=o,o.return=i,o}function Kg(i,o,a){return bo(o,i.child,null,a),i=Ju(o,o.pendingProps),i.flags|=2,Sn(o),o.memoizedState=null,i}function bA(i,o,a){var u=o.pendingProps,g=(o.flags&128)!==0;if(o.flags&=-129,i===null){if(Fe){if(u.mode==="hidden")return i=Ju(o,u),o.lanes=536870912,ja(null,i);if(nd(o),(i=ct)?(i=o_(i,Un),i=i!==null&&i.data==="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Ts!==null?{id:xi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=bp(i),a.return=o,o.child=a,Kt=o,ct=null)):i=null,i===null)throw Ss(o);return o.lanes=536870912,null}return Ju(o,u)}var _=i.memoizedState;if(_!==null){var A=_.dehydrated;if(nd(o),g)if(o.flags&256)o.flags&=-257,o=Kg(i,o,a);else if(o.memoizedState!==null)o.child=i.child,o.flags|=128,o=null;else throw Error(s(558));else if(Mt||gr(i,o,a,!1),g=(a&i.childLanes)!==0,Mt||g){if(u=at,u!==null&&(A=Ta(u,a),A!==0&&A!==_.retryLane))throw _.retryLane=A,So(i,A),pn(u,i,A),Ad;ic(),o=Kg(i,o,a)}else i=_.treeContext,ct=kn(A.nextSibling),Kt=o,Fe=!0,Es=null,Un=!1,i!==null&&Pp(o,i),o=Ju(o,u),o.flags|=4096;return o}return i=Bi(i.child,{mode:u.mode,children:u.children}),i.ref=o.ref,o.child=i,i.return=o,i}function Ku(i,o){var a=o.ref;if(a===null)i!==null&&i.ref!==null&&(o.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(i===null||i.ref!==a)&&(o.flags|=4194816)}}function Cd(i,o,a,u,g){return xo(o),a=sd(i,o,a,u,void 0,g),u=od(),i!==null&&!Mt?(rd(i,o,g),Ji(i,o,g)):(Fe&&u&&Of(o),o.flags|=1,$t(i,o,a,g),o.child)}function Qg(i,o,a,u,g,_){return xo(o),o.updateQueue=null,a=Wp(o,u,a,g),Xp(i),u=od(),i!==null&&!Mt?(rd(i,o,_),Ji(i,o,_)):(Fe&&u&&Of(o),o.flags|=1,$t(i,o,a,_),o.child)}function $g(i,o,a,u,g){if(xo(o),o.stateNode===null){var _=dr,A=a.contextType;typeof A=="object"&&A!==null&&(_=Qt(A)),_=new a(u,_),o.memoizedState=_.state!==null&&_.state!==void 0?_.state:null,_.updater=Ed,o.stateNode=_,_._reactInternals=o,_=o.stateNode,_.props=u,_.state=o.memoizedState,_.refs={},Xf(o),A=a.contextType,_.context=typeof A=="object"&&A!==null?Qt(A):dr,_.state=o.memoizedState,A=a.getDerivedStateFromProps,typeof A=="function"&&(Td(o,a,A,u),_.state=o.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof _.getSnapshotBeforeUpdate=="function"||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(A=_.state,typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount(),A!==_.state&&Ed.enqueueReplaceState(_,_.state,null),Qa(o,u,_,g),Ka(),_.state=o.memoizedState),typeof _.componentDidMount=="function"&&(o.flags|=4194308),u=!0}else if(i===null){_=o.stateNode;var x=o.memoizedProps,V=Do(a,x);_.props=V;var Y=_.context,X=a.contextType;A=dr,typeof X=="object"&&X!==null&&(A=Qt(X));var ne=a.getDerivedStateFromProps;X=typeof ne=="function"||typeof _.getSnapshotBeforeUpdate=="function",x=o.pendingProps!==x,X||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(x||Y!==A)&&Ug(o,_,u,A),Cs=!1;var K=o.memoizedState;_.state=K,Qa(o,u,_,g),Ka(),Y=o.memoizedState,x||K!==Y||Cs?(typeof ne=="function"&&(Td(o,a,ne,u),Y=o.memoizedState),(V=Cs||Vg(o,a,V,u,K,Y,A))?(X||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(o.flags|=4194308)):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=u,o.memoizedState=Y),_.props=u,_.state=Y,_.context=A,u=V):(typeof _.componentDidMount=="function"&&(o.flags|=4194308),u=!1)}else{_=o.stateNode,Wf(i,o),A=o.memoizedProps,X=Do(a,A),_.props=X,ne=o.pendingProps,K=_.context,Y=a.contextType,V=dr,typeof Y=="object"&&Y!==null&&(V=Qt(Y)),x=a.getDerivedStateFromProps,(Y=typeof x=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(A!==ne||K!==V)&&Ug(o,_,u,V),Cs=!1,K=o.memoizedState,_.state=K,Qa(o,u,_,g),Ka();var $=o.memoizedState;A!==ne||K!==$||Cs||i!==null&&i.dependencies!==null&&wu(i.dependencies)?(typeof x=="function"&&(Td(o,a,x,u),$=o.memoizedState),(X=Cs||Vg(o,a,X,u,K,$,V)||i!==null&&i.dependencies!==null&&wu(i.dependencies))?(Y||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(u,$,V),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(u,$,V)),typeof _.componentDidUpdate=="function"&&(o.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof _.componentDidUpdate!="function"||A===i.memoizedProps&&K===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&K===i.memoizedState||(o.flags|=1024),o.memoizedProps=u,o.memoizedState=$),_.props=u,_.state=$,_.context=V,u=X):(typeof _.componentDidUpdate!="function"||A===i.memoizedProps&&K===i.memoizedState||(o.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||A===i.memoizedProps&&K===i.memoizedState||(o.flags|=1024),u=!1)}return _=u,Ku(i,o),u=(o.flags&128)!==0,_||u?(_=o.stateNode,a=u&&typeof a.getDerivedStateFromError!="function"?null:_.render(),o.flags|=1,i!==null&&u?(o.child=bo(o,i.child,null,g),o.child=bo(o,null,a,g)):$t(i,o,a,g),o.memoizedState=_.state,i=o.child):i=Ji(i,o,g),i}function Xg(i,o,a,u){return Co(),o.flags|=256,$t(i,o,a,u),o.child}var Id={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xd(i){return{baseLanes:i,cachePool:Op()}}function Rd(i,o,a){return i=i!==null?i.childLanes&~a:0,o&&(i|=Cn),i}function Wg(i,o,a){var u=o.pendingProps,g=!1,_=(o.flags&128)!==0,A;if((A=_)||(A=i!==null&&i.memoizedState===null?!1:(Et.current&2)!==0),A&&(g=!0,o.flags&=-129),A=(o.flags&32)!==0,o.flags&=-33,i===null){if(Fe){if(g?Rs(o):ws(),(i=ct)?(i=o_(i,Un),i=i!==null&&i.data!=="&"?i:null,i!==null&&(o.memoizedState={dehydrated:i,treeContext:Ts!==null?{id:xi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=bp(i),a.return=o,o.child=a,Kt=o,ct=null)):i=null,i===null)throw Ss(o);return uh(i)?o.lanes=32:o.lanes=536870912,null}var x=u.children;return u=u.fallback,g?(ws(),g=o.mode,x=Qu({mode:"hidden",children:x},g),u=Ao(u,g,a,null),x.return=o,u.return=o,x.sibling=u,o.child=x,u=o.child,u.memoizedState=xd(a),u.childLanes=Rd(i,A,a),o.memoizedState=Id,ja(null,u)):(Rs(o),wd(o,x))}var V=i.memoizedState;if(V!==null&&(x=V.dehydrated,x!==null)){if(_)o.flags&256?(Rs(o),o.flags&=-257,o=Nd(i,o,a)):o.memoizedState!==null?(ws(),o.child=i.child,o.flags|=128,o=null):(ws(),x=u.fallback,g=o.mode,u=Qu({mode:"visible",children:u.children},g),x=Ao(x,g,a,null),x.flags|=2,u.return=o,x.return=o,u.sibling=x,o.child=u,bo(o,i.child,null,a),u=o.child,u.memoizedState=xd(a),u.childLanes=Rd(i,A,a),o.memoizedState=Id,o=ja(null,u));else if(Rs(o),uh(x)){if(A=x.nextSibling&&x.nextSibling.dataset,A)var Y=A.dgst;A=Y,u=Error(s(419)),u.stack="",u.digest=A,za({value:u,source:null,stack:null}),o=Nd(i,o,a)}else if(Mt||gr(i,o,a,!1),A=(a&i.childLanes)!==0,Mt||A){if(A=at,A!==null&&(u=Ta(A,a),u!==0&&u!==V.retryLane))throw V.retryLane=u,So(i,u),pn(A,i,u),Ad;lh(x)||ic(),o=Nd(i,o,a)}else lh(x)?(o.flags|=192,o.child=i.child,o=null):(i=V.treeContext,ct=kn(x.nextSibling),Kt=o,Fe=!0,Es=null,Un=!1,i!==null&&Pp(o,i),o=wd(o,u.children),o.flags|=4096);return o}return g?(ws(),x=u.fallback,g=o.mode,V=i.child,Y=V.sibling,u=Bi(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,Y!==null?x=Bi(Y,x):(x=Ao(x,g,a,null),x.flags|=2),x.return=o,u.return=o,u.sibling=x,o.child=u,ja(null,u),u=o.child,x=i.child.memoizedState,x===null?x=xd(a):(g=x.cachePool,g!==null?(V=Nt._currentValue,g=g.parent!==V?{parent:V,pool:V}:g):g=Op(),x={baseLanes:x.baseLanes|a,cachePool:g}),u.memoizedState=x,u.childLanes=Rd(i,A,a),o.memoizedState=Id,ja(i.child,u)):(Rs(o),a=i.child,i=a.sibling,a=Bi(a,{mode:"visible",children:u.children}),a.return=o,a.sibling=null,i!==null&&(A=o.deletions,A===null?(o.deletions=[i],o.flags|=16):A.push(i)),o.child=a,o.memoizedState=null,a)}function wd(i,o){return o=Qu({mode:"visible",children:o},i.mode),o.return=i,i.child=o}function Qu(i,o){return i=Tn(22,i,null,o),i.lanes=0,i}function Nd(i,o,a){return bo(o,i.child,null,a),i=wd(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Zg(i,o,a){i.lanes|=o;var u=i.alternate;u!==null&&(u.lanes|=o),Gf(i.return,o,a)}function bd(i,o,a,u,g,_){var A=i.memoizedState;A===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:u,tail:a,tailMode:g,treeForkCount:_}:(A.isBackwards=o,A.rendering=null,A.renderingStartTime=0,A.last=u,A.tail=a,A.tailMode=g,A.treeForkCount=_)}function jg(i,o,a){var u=o.pendingProps,g=u.revealOrder,_=u.tail;u=u.children;var A=Et.current,x=(A&2)!==0;if(x?(A=A&1|2,o.flags|=128):A&=1,ce(Et,A),$t(i,o,u,a),u=Fe?Ba:0,!x&&i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Zg(i,a,o);else if(i.tag===19)Zg(i,a,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}switch(g){case"forwards":for(a=o.child,g=null;a!==null;)i=a.alternate,i!==null&&Lu(i)===null&&(g=a),a=a.sibling;a=g,a===null?(g=o.child,o.child=null):(g=a.sibling,a.sibling=null),bd(o,!1,g,a,_,u);break;case"backwards":case"unstable_legacy-backwards":for(a=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&Lu(i)===null){o.child=g;break}i=g.sibling,g.sibling=a,a=g,g=i}bd(o,!0,a,null,_,u);break;case"together":bd(o,!1,null,null,void 0,u);break;default:o.memoizedState=null}return o.child}function Ji(i,o,a){if(i!==null&&(o.dependencies=i.dependencies),Ms|=o.lanes,(a&o.childLanes)===0)if(i!==null){if(gr(i,o,a,!1),(a&o.childLanes)===0)return null}else return null;if(i!==null&&o.child!==i.child)throw Error(s(153));if(o.child!==null){for(i=o.child,a=Bi(i,i.pendingProps),o.child=a,a.return=o;i.sibling!==null;)i=i.sibling,a=a.sibling=Bi(i,i.pendingProps),a.return=o;a.sibling=null}return o.child}function Md(i,o){return(i.lanes&o)!==0?!0:(i=i.dependencies,!!(i!==null&&wu(i)))}function MA(i,o,a){switch(o.tag){case 3:kt(o,o.stateNode.containerInfo),As(o,Nt,i.memoizedState.cache),Co();break;case 27:case 5:io(o);break;case 4:kt(o,o.stateNode.containerInfo);break;case 10:As(o,o.type,o.memoizedProps.value);break;case 31:if(o.memoizedState!==null)return o.flags|=128,nd(o),null;break;case 13:var u=o.memoizedState;if(u!==null)return u.dehydrated!==null?(Rs(o),o.flags|=128,null):(a&o.child.childLanes)!==0?Wg(i,o,a):(Rs(o),i=Ji(i,o,a),i!==null?i.sibling:null);Rs(o);break;case 19:var g=(i.flags&128)!==0;if(u=(a&o.childLanes)!==0,u||(gr(i,o,a,!1),u=(a&o.childLanes)!==0),g){if(u)return jg(i,o,a);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ce(Et,Et.current),u)break;return null;case 22:return o.lanes=0,Yg(i,o,a,o.pendingProps);case 24:As(o,Nt,i.memoizedState.cache)}return Ji(i,o,a)}function ey(i,o,a){if(i!==null)if(i.memoizedProps!==o.pendingProps)Mt=!0;else{if(!Md(i,a)&&(o.flags&128)===0)return Mt=!1,MA(i,o,a);Mt=(i.flags&131072)!==0}else Mt=!1,Fe&&(o.flags&1048576)!==0&&Dp(o,Ba,o.index);switch(o.lanes=0,o.tag){case 16:e:{var u=o.pendingProps;if(i=wo(o.elementType),o.type=i,typeof i=="function")Lf(i)?(u=Do(i,u),o.tag=1,o=$g(null,o,i,u,a)):(o.tag=0,o=Cd(null,o,i,u,a));else{if(i!=null){var g=i.$$typeof;if(g===ue){o.tag=11,o=Fg(null,o,i,u,a);break e}else if(g===M){o.tag=14,o=Hg(null,o,i,u,a);break e}}throw o=ae(i)||i,Error(s(306,o,""))}}return o;case 0:return Cd(i,o,o.type,o.pendingProps,a);case 1:return u=o.type,g=Do(u,o.pendingProps),$g(i,o,u,g,a);case 3:e:{if(kt(o,o.stateNode.containerInfo),i===null)throw Error(s(387));u=o.pendingProps;var _=o.memoizedState;g=_.element,Wf(i,o),Qa(o,u,null,a);var A=o.memoizedState;if(u=A.cache,As(o,Nt,u),u!==_.cache&&Yf(o,[Nt],a,!0),Ka(),u=A.element,_.isDehydrated)if(_={element:u,isDehydrated:!1,cache:A.cache},o.updateQueue.baseState=_,o.memoizedState=_,o.flags&256){o=Xg(i,o,u,a);break e}else if(u!==g){g=Dn(Error(s(424)),o),za(g),o=Xg(i,o,u,a);break e}else{switch(i=o.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(ct=kn(i.firstChild),Kt=o,Fe=!0,Es=null,Un=!0,a=Yp(o,null,u,a),o.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Co(),u===g){o=Ji(i,o,a);break e}$t(i,o,u,a)}o=o.child}return o;case 26:return Ku(i,o),i===null?(a=f_(o.type,null,o.pendingProps,null))?o.memoizedState=a:Fe||(a=o.type,i=o.pendingProps,u=cc(Pe.current).createElement(a),u[xt]=o,u[zt]=i,Xt(u,a,i),Rt(u),o.stateNode=u):o.memoizedState=f_(o.type,i.memoizedProps,o.pendingProps,i.memoizedState),null;case 27:return io(o),i===null&&Fe&&(u=o.stateNode=l_(o.type,o.pendingProps,Pe.current),Kt=o,Un=!0,g=ct,Ls(o.type)?(ch=g,ct=kn(u.firstChild)):ct=g),$t(i,o,o.pendingProps.children,a),Ku(i,o),i===null&&(o.flags|=4194304),o.child;case 5:return i===null&&Fe&&((g=u=ct)&&(u=aC(u,o.type,o.pendingProps,Un),u!==null?(o.stateNode=u,Kt=o,ct=kn(u.firstChild),Un=!1,g=!0):g=!1),g||Ss(o)),io(o),g=o.type,_=o.pendingProps,A=i!==null?i.memoizedProps:null,u=_.children,oh(g,_)?u=null:A!==null&&oh(g,A)&&(o.flags|=32),o.memoizedState!==null&&(g=sd(i,o,SA,null,null,a),ml._currentValue=g),Ku(i,o),$t(i,o,u,a),o.child;case 6:return i===null&&Fe&&((i=a=ct)&&(a=lC(a,o.pendingProps,Un),a!==null?(o.stateNode=a,Kt=o,ct=null,i=!0):i=!1),i||Ss(o)),null;case 13:return Wg(i,o,a);case 4:return kt(o,o.stateNode.containerInfo),u=o.pendingProps,i===null?o.child=bo(o,null,u,a):$t(i,o,u,a),o.child;case 11:return Fg(i,o,o.type,o.pendingProps,a);case 7:return $t(i,o,o.pendingProps,a),o.child;case 8:return $t(i,o,o.pendingProps.children,a),o.child;case 12:return $t(i,o,o.pendingProps.children,a),o.child;case 10:return u=o.pendingProps,As(o,o.type,u.value),$t(i,o,u.children,a),o.child;case 9:return g=o.type._context,u=o.pendingProps.children,xo(o),g=Qt(g),u=u(g),o.flags|=1,$t(i,o,u,a),o.child;case 14:return Hg(i,o,o.type,o.pendingProps,a);case 15:return Gg(i,o,o.type,o.pendingProps,a);case 19:return jg(i,o,a);case 31:return bA(i,o,a);case 22:return Yg(i,o,a,o.pendingProps);case 24:return xo(o),u=Qt(Nt),i===null?(g=Qf(),g===null&&(g=at,_=Jf(),g.pooledCache=_,_.refCount++,_!==null&&(g.pooledCacheLanes|=a),g=_),o.memoizedState={parent:u,cache:g},Xf(o),As(o,Nt,g)):((i.lanes&a)!==0&&(Wf(i,o),Qa(o,null,null,a),Ka()),g=i.memoizedState,_=o.memoizedState,g.parent!==u?(g={parent:u,cache:u},o.memoizedState=g,o.lanes===0&&(o.memoizedState=o.updateQueue.baseState=g),As(o,Nt,u)):(u=_.cache,As(o,Nt,u),u!==g.cache&&Yf(o,[Nt],a,!0))),$t(i,o,o.pendingProps.children,a),o.child;case 29:throw o.pendingProps}throw Error(s(156,o.tag))}function Ki(i){i.flags|=4}function Dd(i,o,a,u,g){if((o=(i.mode&32)!==0)&&(o=!1),o){if(i.flags|=16777216,(g&335544128)===g)if(i.stateNode.complete)i.flags|=8192;else if(Ry())i.flags|=8192;else throw No=Du,$f}else i.flags&=-16777217}function ty(i,o){if(o.type!=="stylesheet"||(o.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!g_(o))if(Ry())i.flags|=8192;else throw No=Du,$f}function $u(i,o){o!==null&&(i.flags|=4),i.flags&16384&&(o=i.tag!==22?tu():536870912,i.lanes|=o,wr|=o)}function el(i,o){if(!Fe)switch(i.tailMode){case"hidden":o=i.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?i.tail=null:a.sibling=null;break;case"collapsed":a=i.tail;for(var u=null;a!==null;)a.alternate!==null&&(u=a),a=a.sibling;u===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:u.sibling=null}}function ft(i){var o=i.alternate!==null&&i.alternate.child===i.child,a=0,u=0;if(o)for(var g=i.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)a|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=u,i.childLanes=a,o}function DA(i,o,a){var u=o.pendingProps;switch(Bf(o),o.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ft(o),null;case 1:return ft(o),null;case 3:return a=o.stateNode,u=null,i!==null&&(u=i.memoizedState.cache),o.memoizedState.cache!==u&&(o.flags|=2048),Hi(Nt),ht(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(i===null||i.child===null)&&(pr(o)?Ki(o):i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Ff())),ft(o),null;case 26:var g=o.type,_=o.memoizedState;return i===null?(Ki(o),_!==null?(ft(o),ty(o,_)):(ft(o),Dd(o,g,null,u,a))):_?_!==i.memoizedState?(Ki(o),ft(o),ty(o,_)):(ft(o),o.flags&=-16777217):(i=i.memoizedProps,i!==u&&Ki(o),ft(o),Dd(o,g,i,u,a)),null;case 27:if(Ko(o),a=Pe.current,g=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==u&&Ki(o);else{if(!u){if(o.stateNode===null)throw Error(s(166));return ft(o),null}i=ye.current,pr(o)?Vp(o):(i=l_(g,u,a),o.stateNode=i,Ki(o))}return ft(o),null;case 5:if(Ko(o),g=o.type,i!==null&&o.stateNode!=null)i.memoizedProps!==u&&Ki(o);else{if(!u){if(o.stateNode===null)throw Error(s(166));return ft(o),null}if(_=ye.current,pr(o))Vp(o);else{var A=cc(Pe.current);switch(_){case 1:_=A.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:_=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":_=A.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":_=A.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":_=A.createElement("div"),_.innerHTML="<script><\/script>",_=_.removeChild(_.firstChild);break;case"select":_=typeof u.is=="string"?A.createElement("select",{is:u.is}):A.createElement("select"),u.multiple?_.multiple=!0:u.size&&(_.size=u.size);break;default:_=typeof u.is=="string"?A.createElement(g,{is:u.is}):A.createElement(g)}}_[xt]=o,_[zt]=u;e:for(A=o.child;A!==null;){if(A.tag===5||A.tag===6)_.appendChild(A.stateNode);else if(A.tag!==4&&A.tag!==27&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===o)break e;for(;A.sibling===null;){if(A.return===null||A.return===o)break e;A=A.return}A.sibling.return=A.return,A=A.sibling}o.stateNode=_;e:switch(Xt(_,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&Ki(o)}}return ft(o),Dd(o,o.type,i===null?null:i.memoizedProps,o.pendingProps,a),null;case 6:if(i&&o.stateNode!=null)i.memoizedProps!==u&&Ki(o);else{if(typeof u!="string"&&o.stateNode===null)throw Error(s(166));if(i=Pe.current,pr(o)){if(i=o.stateNode,a=o.memoizedProps,u=null,g=Kt,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}i[xt]=o,i=!!(i.nodeValue===a||u!==null&&u.suppressHydrationWarning===!0||Wy(i.nodeValue,a)),i||Ss(o,!0)}else i=cc(i).createTextNode(u),i[xt]=o,o.stateNode=i}return ft(o),null;case 31:if(a=o.memoizedState,i===null||i.memoizedState!==null){if(u=pr(o),a!==null){if(i===null){if(!u)throw Error(s(318));if(i=o.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(557));i[xt]=o}else Co(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ft(o),i=!1}else a=Ff(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=a),i=!0;if(!i)return o.flags&256?(Sn(o),o):(Sn(o),null);if((o.flags&128)!==0)throw Error(s(558))}return ft(o),null;case 13:if(u=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(g=pr(o),u!==null&&u.dehydrated!==null){if(i===null){if(!g)throw Error(s(318));if(g=o.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(s(317));g[xt]=o}else Co(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;ft(o),g=!1}else g=Ff(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=g),g=!0;if(!g)return o.flags&256?(Sn(o),o):(Sn(o),null)}return Sn(o),(o.flags&128)!==0?(o.lanes=a,o):(a=u!==null,i=i!==null&&i.memoizedState!==null,a&&(u=o.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),_=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(_=u.memoizedState.cachePool.pool),_!==g&&(u.flags|=2048)),a!==i&&a&&(o.child.flags|=8192),$u(o,o.updateQueue),ft(o),null);case 4:return ht(),i===null&&eh(o.stateNode.containerInfo),ft(o),null;case 10:return Hi(o.type),ft(o),null;case 19:if(ie(Et),u=o.memoizedState,u===null)return ft(o),null;if(g=(o.flags&128)!==0,_=u.rendering,_===null)if(g)el(u,!1);else{if(_t!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(_=Lu(i),_!==null){for(o.flags|=128,el(u,!1),i=_.updateQueue,o.updateQueue=i,$u(o,i),o.subtreeFlags=0,i=a,a=o.child;a!==null;)Np(a,i),a=a.sibling;return ce(Et,Et.current&1|2),Fe&&zi(o,u.treeForkCount),o.child}i=i.sibling}u.tail!==null&&rn()>ec&&(o.flags|=128,g=!0,el(u,!1),o.lanes=4194304)}else{if(!g)if(i=Lu(_),i!==null){if(o.flags|=128,g=!0,i=i.updateQueue,o.updateQueue=i,$u(o,i),el(u,!0),u.tail===null&&u.tailMode==="hidden"&&!_.alternate&&!Fe)return ft(o),null}else 2*rn()-u.renderingStartTime>ec&&a!==536870912&&(o.flags|=128,g=!0,el(u,!1),o.lanes=4194304);u.isBackwards?(_.sibling=o.child,o.child=_):(i=u.last,i!==null?i.sibling=_:o.child=_,u.last=_)}return u.tail!==null?(i=u.tail,u.rendering=i,u.tail=i.sibling,u.renderingStartTime=rn(),i.sibling=null,a=Et.current,ce(Et,g?a&1|2:a&1),Fe&&zi(o,u.treeForkCount),i):(ft(o),null);case 22:case 23:return Sn(o),td(),u=o.memoizedState!==null,i!==null?i.memoizedState!==null!==u&&(o.flags|=8192):u&&(o.flags|=8192),u?(a&536870912)!==0&&(o.flags&128)===0&&(ft(o),o.subtreeFlags&6&&(o.flags|=8192)):ft(o),a=o.updateQueue,a!==null&&$u(o,a.retryQueue),a=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),u=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(u=o.memoizedState.cachePool.pool),u!==a&&(o.flags|=2048),i!==null&&ie(Ro),null;case 24:return a=null,i!==null&&(a=i.memoizedState.cache),o.memoizedState.cache!==a&&(o.flags|=2048),Hi(Nt),ft(o),null;case 25:return null;case 30:return null}throw Error(s(156,o.tag))}function PA(i,o){switch(Bf(o),o.tag){case 1:return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Hi(Nt),ht(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 26:case 27:case 5:return Ko(o),null;case 31:if(o.memoizedState!==null){if(Sn(o),o.alternate===null)throw Error(s(340));Co()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 13:if(Sn(o),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(s(340));Co()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return ie(Et),null;case 4:return ht(),null;case 10:return Hi(o.type),null;case 22:case 23:return Sn(o),td(),i!==null&&ie(Ro),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 24:return Hi(Nt),null;case 25:return null;default:return null}}function ny(i,o){switch(Bf(o),o.tag){case 3:Hi(Nt),ht();break;case 26:case 27:case 5:Ko(o);break;case 4:ht();break;case 31:o.memoizedState!==null&&Sn(o);break;case 13:Sn(o);break;case 19:ie(Et);break;case 10:Hi(o.type);break;case 22:case 23:Sn(o),td(),i!==null&&ie(Ro);break;case 24:Hi(Nt)}}function tl(i,o){try{var a=o.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var g=u.next;a=g;do{if((a.tag&i)===i){u=void 0;var _=a.create,A=a.inst;u=_(),A.destroy=u}a=a.next}while(a!==g)}}catch(x){nt(o,o.return,x)}}function Ns(i,o,a){try{var u=o.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var _=g.next;u=_;do{if((u.tag&i)===i){var A=u.inst,x=A.destroy;if(x!==void 0){A.destroy=void 0,g=o;var V=a,Y=x;try{Y()}catch(X){nt(g,V,X)}}}u=u.next}while(u!==_)}}catch(X){nt(o,o.return,X)}}function iy(i){var o=i.updateQueue;if(o!==null){var a=i.stateNode;try{Kp(o,a)}catch(u){nt(i,i.return,u)}}}function sy(i,o,a){a.props=Do(i.type,i.memoizedProps),a.state=i.memoizedState;try{a.componentWillUnmount()}catch(u){nt(i,o,u)}}function nl(i,o){try{var a=i.ref;if(a!==null){switch(i.tag){case 26:case 27:case 5:var u=i.stateNode;break;case 30:u=i.stateNode;break;default:u=i.stateNode}typeof a=="function"?i.refCleanup=a(u):a.current=u}}catch(g){nt(i,o,g)}}function wi(i,o){var a=i.ref,u=i.refCleanup;if(a!==null)if(typeof u=="function")try{u()}catch(g){nt(i,o,g)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(g){nt(i,o,g)}else a.current=null}function oy(i){var o=i.type,a=i.memoizedProps,u=i.stateNode;try{e:switch(o){case"button":case"input":case"select":case"textarea":a.autoFocus&&u.focus();break e;case"img":a.src?u.src=a.src:a.srcSet&&(u.srcset=a.srcSet)}}catch(g){nt(i,i.return,g)}}function Pd(i,o,a){try{var u=i.stateNode;tC(u,i.type,a,o),u[zt]=o}catch(g){nt(i,i.return,g)}}function ry(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&Ls(i.type)||i.tag===4}function Vd(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||ry(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&Ls(i.type)||i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ud(i,o,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,o?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(i,o):(o=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,o.appendChild(i),a=a._reactRootContainer,a!=null||o.onclick!==null||(o.onclick=$n));else if(u!==4&&(u===27&&Ls(i.type)&&(a=i.stateNode,o=null),i=i.child,i!==null))for(Ud(i,o,a),i=i.sibling;i!==null;)Ud(i,o,a),i=i.sibling}function Xu(i,o,a){var u=i.tag;if(u===5||u===6)i=i.stateNode,o?a.insertBefore(i,o):a.appendChild(i);else if(u!==4&&(u===27&&Ls(i.type)&&(a=i.stateNode),i=i.child,i!==null))for(Xu(i,o,a),i=i.sibling;i!==null;)Xu(i,o,a),i=i.sibling}function ay(i){var o=i.stateNode,a=i.memoizedProps;try{for(var u=i.type,g=o.attributes;g.length;)o.removeAttributeNode(g[0]);Xt(o,u,a),o[xt]=i,o[zt]=a}catch(_){nt(i,i.return,_)}}var Qi=!1,Dt=!1,Ld=!1,ly=typeof WeakSet=="function"?WeakSet:Set,Ht=null;function VA(i,o){if(i=i.containerInfo,ih=yc,i=Tp(i),Nf(i)){if("selectionStart"in i)var a={start:i.selectionStart,end:i.selectionEnd};else e:{a=(a=i.ownerDocument)&&a.defaultView||window;var u=a.getSelection&&a.getSelection();if(u&&u.rangeCount!==0){a=u.anchorNode;var g=u.anchorOffset,_=u.focusNode;u=u.focusOffset;try{a.nodeType,_.nodeType}catch{a=null;break e}var A=0,x=-1,V=-1,Y=0,X=0,ne=i,K=null;t:for(;;){for(var $;ne!==a||g!==0&&ne.nodeType!==3||(x=A+g),ne!==_||u!==0&&ne.nodeType!==3||(V=A+u),ne.nodeType===3&&(A+=ne.nodeValue.length),($=ne.firstChild)!==null;)K=ne,ne=$;for(;;){if(ne===i)break t;if(K===a&&++Y===g&&(x=A),K===_&&++X===u&&(V=A),($=ne.nextSibling)!==null)break;ne=K,K=ne.parentNode}ne=$}a=x===-1||V===-1?null:{start:x,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(sh={focusedElem:i,selectionRange:a},yc=!1,Ht=o;Ht!==null;)if(o=Ht,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,Ht=i;else for(;Ht!==null;){switch(o=Ht,_=o.alternate,i=o.flags,o.tag){case 0:if((i&4)!==0&&(i=o.updateQueue,i=i!==null?i.events:null,i!==null))for(a=0;a<i.length;a++)g=i[a],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((i&1024)!==0&&_!==null){i=void 0,a=o,g=_.memoizedProps,_=_.memoizedState,u=a.stateNode;try{var _e=Do(a.type,g);i=u.getSnapshotBeforeUpdate(_e,_),u.__reactInternalSnapshotBeforeUpdate=i}catch(Ce){nt(a,a.return,Ce)}}break;case 3:if((i&1024)!==0){if(i=o.stateNode.containerInfo,a=i.nodeType,a===9)ah(i);else if(a===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":ah(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=o.sibling,i!==null){i.return=o.return,Ht=i;break}Ht=o.return}}function uy(i,o,a){var u=a.flags;switch(a.tag){case 0:case 11:case 15:Xi(i,a),u&4&&tl(5,a);break;case 1:if(Xi(i,a),u&4)if(i=a.stateNode,o===null)try{i.componentDidMount()}catch(A){nt(a,a.return,A)}else{var g=Do(a.type,o.memoizedProps);o=o.memoizedState;try{i.componentDidUpdate(g,o,i.__reactInternalSnapshotBeforeUpdate)}catch(A){nt(a,a.return,A)}}u&64&&iy(a),u&512&&nl(a,a.return);break;case 3:if(Xi(i,a),u&64&&(i=a.updateQueue,i!==null)){if(o=null,a.child!==null)switch(a.child.tag){case 27:case 5:o=a.child.stateNode;break;case 1:o=a.child.stateNode}try{Kp(i,o)}catch(A){nt(a,a.return,A)}}break;case 27:o===null&&u&4&&ay(a);case 26:case 5:Xi(i,a),o===null&&u&4&&oy(a),u&512&&nl(a,a.return);break;case 12:Xi(i,a);break;case 31:Xi(i,a),u&4&&dy(i,a);break;case 13:Xi(i,a),u&4&&hy(i,a),u&64&&(i=a.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(a=HA.bind(null,a),uC(i,a))));break;case 22:if(u=a.memoizedState!==null||Qi,!u){o=o!==null&&o.memoizedState!==null||Dt,g=Qi;var _=Dt;Qi=u,(Dt=o)&&!_?Wi(i,a,(a.subtreeFlags&8772)!==0):Xi(i,a),Qi=g,Dt=_}break;case 30:break;default:Xi(i,a)}}function cy(i){var o=i.alternate;o!==null&&(i.alternate=null,cy(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&Zo(o)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var pt=null,fn=!1;function $i(i,o,a){for(a=a.child;a!==null;)fy(i,o,a),a=a.sibling}function fy(i,o,a){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Yn,a)}catch{}switch(a.tag){case 26:Dt||wi(a,o),$i(i,o,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Dt||wi(a,o);var u=pt,g=fn;Ls(a.type)&&(pt=a.stateNode,fn=!1),$i(i,o,a),fl(a.stateNode),pt=u,fn=g;break;case 5:Dt||wi(a,o);case 6:if(u=pt,g=fn,pt=null,$i(i,o,a),pt=u,fn=g,pt!==null)if(fn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(a.stateNode)}catch(_){nt(a,o,_)}else try{pt.removeChild(a.stateNode)}catch(_){nt(a,o,_)}break;case 18:pt!==null&&(fn?(i=pt,i_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,a.stateNode),Lr(i)):i_(pt,a.stateNode));break;case 4:u=pt,g=fn,pt=a.stateNode.containerInfo,fn=!0,$i(i,o,a),pt=u,fn=g;break;case 0:case 11:case 14:case 15:Ns(2,a,o),Dt||Ns(4,a,o),$i(i,o,a);break;case 1:Dt||(wi(a,o),u=a.stateNode,typeof u.componentWillUnmount=="function"&&sy(a,o,u)),$i(i,o,a);break;case 21:$i(i,o,a);break;case 22:Dt=(u=Dt)||a.memoizedState!==null,$i(i,o,a),Dt=u;break;default:$i(i,o,a)}}function dy(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null))){i=i.dehydrated;try{Lr(i)}catch(a){nt(o,o.return,a)}}}function hy(i,o){if(o.memoizedState===null&&(i=o.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Lr(i)}catch(a){nt(o,o.return,a)}}function UA(i){switch(i.tag){case 31:case 13:case 19:var o=i.stateNode;return o===null&&(o=i.stateNode=new ly),o;case 22:return i=i.stateNode,o=i._retryCache,o===null&&(o=i._retryCache=new ly),o;default:throw Error(s(435,i.tag))}}function Wu(i,o){var a=UA(i);o.forEach(function(u){if(!a.has(u)){a.add(u);var g=GA.bind(null,i,u);u.then(g,g)}})}function dn(i,o){var a=o.deletions;if(a!==null)for(var u=0;u<a.length;u++){var g=a[u],_=i,A=o,x=A;e:for(;x!==null;){switch(x.tag){case 27:if(Ls(x.type)){pt=x.stateNode,fn=!1;break e}break;case 5:pt=x.stateNode,fn=!1;break e;case 3:case 4:pt=x.stateNode.containerInfo,fn=!0;break e}x=x.return}if(pt===null)throw Error(s(160));fy(_,A,g),pt=null,fn=!1,_=g.alternate,_!==null&&(_.return=null),g.return=null}if(o.subtreeFlags&13886)for(o=o.child;o!==null;)my(o,i),o=o.sibling}var ti=null;function my(i,o){var a=i.alternate,u=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:dn(o,i),hn(i),u&4&&(Ns(3,i,i.return),tl(3,i),Ns(5,i,i.return));break;case 1:dn(o,i),hn(i),u&512&&(Dt||a===null||wi(a,a.return)),u&64&&Qi&&(i=i.updateQueue,i!==null&&(u=i.callbacks,u!==null&&(a=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=a===null?u:a.concat(u))));break;case 26:var g=ti;if(dn(o,i),hn(i),u&512&&(Dt||a===null||wi(a,a.return)),u&4){var _=a!==null?a.memoizedState:null;if(u=i.memoizedState,a===null)if(u===null)if(i.stateNode===null){e:{u=i.type,a=i.memoizedProps,g=g.ownerDocument||g;t:switch(u){case"title":_=g.getElementsByTagName("title")[0],(!_||_[mi]||_[xt]||_.namespaceURI==="http://www.w3.org/2000/svg"||_.hasAttribute("itemprop"))&&(_=g.createElement(u),g.head.insertBefore(_,g.querySelector("head > title"))),Xt(_,u,a),_[xt]=i,Rt(_),u=_;break e;case"link":var A=m_("link","href",g).get(u+(a.href||""));if(A){for(var x=0;x<A.length;x++)if(_=A[x],_.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&_.getAttribute("rel")===(a.rel==null?null:a.rel)&&_.getAttribute("title")===(a.title==null?null:a.title)&&_.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){A.splice(x,1);break t}}_=g.createElement(u),Xt(_,u,a),g.head.appendChild(_);break;case"meta":if(A=m_("meta","content",g).get(u+(a.content||""))){for(x=0;x<A.length;x++)if(_=A[x],_.getAttribute("content")===(a.content==null?null:""+a.content)&&_.getAttribute("name")===(a.name==null?null:a.name)&&_.getAttribute("property")===(a.property==null?null:a.property)&&_.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&_.getAttribute("charset")===(a.charSet==null?null:a.charSet)){A.splice(x,1);break t}}_=g.createElement(u),Xt(_,u,a),g.head.appendChild(_);break;default:throw Error(s(468,u))}_[xt]=i,Rt(_),u=_}i.stateNode=u}else p_(g,i.type,i.stateNode);else i.stateNode=h_(g,u,i.memoizedProps);else _!==u?(_===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):_.count--,u===null?p_(g,i.type,i.stateNode):h_(g,u,i.memoizedProps)):u===null&&i.stateNode!==null&&Pd(i,i.memoizedProps,a.memoizedProps)}break;case 27:dn(o,i),hn(i),u&512&&(Dt||a===null||wi(a,a.return)),a!==null&&u&4&&Pd(i,i.memoizedProps,a.memoizedProps);break;case 5:if(dn(o,i),hn(i),u&512&&(Dt||a===null||wi(a,a.return)),i.flags&32){g=i.stateNode;try{cn(g,"")}catch(_e){nt(i,i.return,_e)}}u&4&&i.stateNode!=null&&(g=i.memoizedProps,Pd(i,g,a!==null?a.memoizedProps:g)),u&1024&&(Ld=!0);break;case 6:if(dn(o,i),hn(i),u&4){if(i.stateNode===null)throw Error(s(162));u=i.memoizedProps,a=i.stateNode;try{a.nodeValue=u}catch(_e){nt(i,i.return,_e)}}break;case 3:if(hc=null,g=ti,ti=fc(o.containerInfo),dn(o,i),ti=g,hn(i),u&4&&a!==null&&a.memoizedState.isDehydrated)try{Lr(o.containerInfo)}catch(_e){nt(i,i.return,_e)}Ld&&(Ld=!1,py(i));break;case 4:u=ti,ti=fc(i.stateNode.containerInfo),dn(o,i),hn(i),ti=u;break;case 12:dn(o,i),hn(i);break;case 31:dn(o,i),hn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Wu(i,u)));break;case 13:dn(o,i),hn(i),i.child.flags&8192&&i.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(ju=rn()),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Wu(i,u)));break;case 22:g=i.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,Y=Qi,X=Dt;if(Qi=Y||g,Dt=X||V,dn(o,i),Dt=X,Qi=Y,hn(i),u&8192)e:for(o=i.stateNode,o._visibility=g?o._visibility&-2:o._visibility|1,g&&(a===null||V||Qi||Dt||Po(i)),a=null,o=i;;){if(o.tag===5||o.tag===26){if(a===null){V=a=o;try{if(_=V.stateNode,g)A=_.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none";else{x=V.stateNode;var ne=V.memoizedProps.style,K=ne!=null&&ne.hasOwnProperty("display")?ne.display:null;x.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(_e){nt(V,V.return,_e)}}}else if(o.tag===6){if(a===null){V=o;try{V.stateNode.nodeValue=g?"":V.memoizedProps}catch(_e){nt(V,V.return,_e)}}}else if(o.tag===18){if(a===null){V=o;try{var $=V.stateNode;g?s_($,!0):s_(V.stateNode,!1)}catch(_e){nt(V,V.return,_e)}}}else if((o.tag!==22&&o.tag!==23||o.memoizedState===null||o===i)&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;a===o&&(a=null),o=o.return}a===o&&(a=null),o.sibling.return=o.return,o=o.sibling}u&4&&(u=i.updateQueue,u!==null&&(a=u.retryQueue,a!==null&&(u.retryQueue=null,Wu(i,a))));break;case 19:dn(o,i),hn(i),u&4&&(u=i.updateQueue,u!==null&&(i.updateQueue=null,Wu(i,u)));break;case 30:break;case 21:break;default:dn(o,i),hn(i)}}function hn(i){var o=i.flags;if(o&2){try{for(var a,u=i.return;u!==null;){if(ry(u)){a=u;break}u=u.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var g=a.stateNode,_=Vd(i);Xu(i,_,g);break;case 5:var A=a.stateNode;a.flags&32&&(cn(A,""),a.flags&=-33);var x=Vd(i);Xu(i,x,A);break;case 3:case 4:var V=a.stateNode.containerInfo,Y=Vd(i);Ud(i,Y,V);break;default:throw Error(s(161))}}catch(X){nt(i,i.return,X)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function py(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var o=i;py(o),o.tag===5&&o.flags&1024&&o.stateNode.reset(),i=i.sibling}}function Xi(i,o){if(o.subtreeFlags&8772)for(o=o.child;o!==null;)uy(i,o.alternate,o),o=o.sibling}function Po(i){for(i=i.child;i!==null;){var o=i;switch(o.tag){case 0:case 11:case 14:case 15:Ns(4,o,o.return),Po(o);break;case 1:wi(o,o.return);var a=o.stateNode;typeof a.componentWillUnmount=="function"&&sy(o,o.return,a),Po(o);break;case 27:fl(o.stateNode);case 26:case 5:wi(o,o.return),Po(o);break;case 22:o.memoizedState===null&&Po(o);break;case 30:Po(o);break;default:Po(o)}i=i.sibling}}function Wi(i,o,a){for(a=a&&(o.subtreeFlags&8772)!==0,o=o.child;o!==null;){var u=o.alternate,g=i,_=o,A=_.flags;switch(_.tag){case 0:case 11:case 15:Wi(g,_,a),tl(4,_);break;case 1:if(Wi(g,_,a),u=_,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(Y){nt(u,u.return,Y)}if(u=_,g=u.updateQueue,g!==null){var x=u.stateNode;try{var V=g.shared.hiddenCallbacks;if(V!==null)for(g.shared.hiddenCallbacks=null,g=0;g<V.length;g++)Jp(V[g],x)}catch(Y){nt(u,u.return,Y)}}a&&A&64&&iy(_),nl(_,_.return);break;case 27:ay(_);case 26:case 5:Wi(g,_,a),a&&u===null&&A&4&&oy(_),nl(_,_.return);break;case 12:Wi(g,_,a);break;case 31:Wi(g,_,a),a&&A&4&&dy(g,_);break;case 13:Wi(g,_,a),a&&A&4&&hy(g,_);break;case 22:_.memoizedState===null&&Wi(g,_,a),nl(_,_.return);break;case 30:break;default:Wi(g,_,a)}o=o.sibling}}function kd(i,o){var a=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(a=i.memoizedState.cachePool.pool),i=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(i=o.memoizedState.cachePool.pool),i!==a&&(i!=null&&i.refCount++,a!=null&&Fa(a))}function qd(i,o){i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Fa(i))}function ni(i,o,a,u){if(o.subtreeFlags&10256)for(o=o.child;o!==null;)gy(i,o,a,u),o=o.sibling}function gy(i,o,a,u){var g=o.flags;switch(o.tag){case 0:case 11:case 15:ni(i,o,a,u),g&2048&&tl(9,o);break;case 1:ni(i,o,a,u);break;case 3:ni(i,o,a,u),g&2048&&(i=null,o.alternate!==null&&(i=o.alternate.memoizedState.cache),o=o.memoizedState.cache,o!==i&&(o.refCount++,i!=null&&Fa(i)));break;case 12:if(g&2048){ni(i,o,a,u),i=o.stateNode;try{var _=o.memoizedProps,A=_.id,x=_.onPostCommit;typeof x=="function"&&x(A,o.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(V){nt(o,o.return,V)}}else ni(i,o,a,u);break;case 31:ni(i,o,a,u);break;case 13:ni(i,o,a,u);break;case 23:break;case 22:_=o.stateNode,A=o.alternate,o.memoizedState!==null?_._visibility&2?ni(i,o,a,u):il(i,o):_._visibility&2?ni(i,o,a,u):(_._visibility|=2,Ir(i,o,a,u,(o.subtreeFlags&10256)!==0||!1)),g&2048&&kd(A,o);break;case 24:ni(i,o,a,u),g&2048&&qd(o.alternate,o);break;default:ni(i,o,a,u)}}function Ir(i,o,a,u,g){for(g=g&&((o.subtreeFlags&10256)!==0||!1),o=o.child;o!==null;){var _=i,A=o,x=a,V=u,Y=A.flags;switch(A.tag){case 0:case 11:case 15:Ir(_,A,x,V,g),tl(8,A);break;case 23:break;case 22:var X=A.stateNode;A.memoizedState!==null?X._visibility&2?Ir(_,A,x,V,g):il(_,A):(X._visibility|=2,Ir(_,A,x,V,g)),g&&Y&2048&&kd(A.alternate,A);break;case 24:Ir(_,A,x,V,g),g&&Y&2048&&qd(A.alternate,A);break;default:Ir(_,A,x,V,g)}o=o.sibling}}function il(i,o){if(o.subtreeFlags&10256)for(o=o.child;o!==null;){var a=i,u=o,g=u.flags;switch(u.tag){case 22:il(a,u),g&2048&&kd(u.alternate,u);break;case 24:il(a,u),g&2048&&qd(u.alternate,u);break;default:il(a,u)}o=o.sibling}}var sl=8192;function xr(i,o,a){if(i.subtreeFlags&sl)for(i=i.child;i!==null;)yy(i,o,a),i=i.sibling}function yy(i,o,a){switch(i.tag){case 26:xr(i,o,a),i.flags&sl&&i.memoizedState!==null&&EC(a,ti,i.memoizedState,i.memoizedProps);break;case 5:xr(i,o,a);break;case 3:case 4:var u=ti;ti=fc(i.stateNode.containerInfo),xr(i,o,a),ti=u;break;case 22:i.memoizedState===null&&(u=i.alternate,u!==null&&u.memoizedState!==null?(u=sl,sl=16777216,xr(i,o,a),sl=u):xr(i,o,a));break;default:xr(i,o,a)}}function _y(i){var o=i.alternate;if(o!==null&&(i=o.child,i!==null)){o.child=null;do o=i.sibling,i.sibling=null,i=o;while(i!==null)}}function ol(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var u=o[a];Ht=u,Ty(u,i)}_y(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)vy(i),i=i.sibling}function vy(i){switch(i.tag){case 0:case 11:case 15:ol(i),i.flags&2048&&Ns(9,i,i.return);break;case 3:ol(i);break;case 12:ol(i);break;case 22:var o=i.stateNode;i.memoizedState!==null&&o._visibility&2&&(i.return===null||i.return.tag!==13)?(o._visibility&=-3,Zu(i)):ol(i);break;default:ol(i)}}function Zu(i){var o=i.deletions;if((i.flags&16)!==0){if(o!==null)for(var a=0;a<o.length;a++){var u=o[a];Ht=u,Ty(u,i)}_y(i)}for(i=i.child;i!==null;){switch(o=i,o.tag){case 0:case 11:case 15:Ns(8,o,o.return),Zu(o);break;case 22:a=o.stateNode,a._visibility&2&&(a._visibility&=-3,Zu(o));break;default:Zu(o)}i=i.sibling}}function Ty(i,o){for(;Ht!==null;){var a=Ht;switch(a.tag){case 0:case 11:case 15:Ns(8,a,o);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var u=a.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Fa(a.memoizedState.cache)}if(u=a.child,u!==null)u.return=a,Ht=u;else e:for(a=i;Ht!==null;){u=Ht;var g=u.sibling,_=u.return;if(cy(u),u===a){Ht=null;break e}if(g!==null){g.return=_,Ht=g;break e}Ht=_}}}var LA={getCacheForType:function(i){var o=Qt(Nt),a=o.data.get(i);return a===void 0&&(a=i(),o.data.set(i,a)),a},cacheSignal:function(){return Qt(Nt).controller.signal}},kA=typeof WeakMap=="function"?WeakMap:Map,Ze=0,at=null,Le=null,qe=0,tt=0,An=null,bs=!1,Rr=!1,Od=!1,Zi=0,_t=0,Ms=0,Vo=0,Bd=0,Cn=0,wr=0,rl=null,mn=null,zd=!1,ju=0,Ey=0,ec=1/0,tc=null,Ds=null,Ot=0,Ps=null,Nr=null,ji=0,Fd=0,Hd=null,Sy=null,al=0,Gd=null;function In(){return(Ze&2)!==0&&qe!==0?qe&-qe:J.T!==null?Xd():nu()}function Ay(){if(Cn===0)if((qe&536870912)===0||Fe){var i=ro;ro<<=1,(ro&3932160)===0&&(ro=262144),Cn=i}else Cn=536870912;return i=En.current,i!==null&&(i.flags|=32),Cn}function pn(i,o,a){(i===at&&(tt===2||tt===9)||i.cancelPendingCommit!==null)&&(br(i,0),Vs(i,qe,Cn,!1)),ao(i,a),((Ze&2)===0||i!==at)&&(i===at&&((Ze&2)===0&&(Vo|=a),_t===4&&Vs(i,qe,Cn,!1)),Ni(i))}function Cy(i,o,a){if((Ze&6)!==0)throw Error(s(327));var u=!a&&(o&127)===0&&(o&i.expiredLanes)===0||Jn(i,o),g=u?BA(i,o):Jd(i,o,!0),_=u;do{if(g===0){Rr&&!u&&Vs(i,o,0,!1);break}else{if(a=i.current.alternate,_&&!qA(a)){g=Jd(i,o,!1),_=!1;continue}if(g===2){if(_=o,i.errorRecoveryDisabledLanes&_)var A=0;else A=i.pendingLanes&-536870913,A=A!==0?A:A&536870912?536870912:0;if(A!==0){o=A;e:{var x=i;g=rl;var V=x.current.memoizedState.isDehydrated;if(V&&(br(x,A).flags|=256),A=Jd(x,A,!1),A!==2){if(Od&&!V){x.errorRecoveryDisabledLanes|=_,Vo|=_,g=4;break e}_=mn,mn=g,_!==null&&(mn===null?mn=_:mn.push.apply(mn,_))}g=A}if(_=!1,g!==2)continue}}if(g===1){br(i,0),Vs(i,o,0,!0);break}e:{switch(u=i,_=g,_){case 0:case 1:throw Error(s(345));case 4:if((o&4194048)!==o)break;case 6:Vs(u,o,Cn,!bs);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((o&62914560)===o&&(g=ju+300-rn(),10<g)){if(Vs(u,o,Cn,!bs),fi(u,0,!0)!==0)break e;ji=o,u.timeoutHandle=t_(Iy.bind(null,u,a,mn,tc,zd,o,Cn,Vo,wr,bs,_,"Throttled",-0,0),g);break e}Iy(u,a,mn,tc,zd,o,Cn,Vo,wr,bs,_,null,-0,0)}}break}while(!0);Ni(i)}function Iy(i,o,a,u,g,_,A,x,V,Y,X,ne,K,$){if(i.timeoutHandle=-1,ne=o.subtreeFlags,ne&8192||(ne&16785408)===16785408){ne={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:$n},yy(o,_,ne);var _e=(_&62914560)===_?ju-rn():(_&4194048)===_?Ey-rn():0;if(_e=SC(ne,_e),_e!==null){ji=_,i.cancelPendingCommit=_e(Py.bind(null,i,o,_,a,u,g,A,x,V,X,ne,null,K,$)),Vs(i,_,A,!Y);return}}Py(i,o,_,a,u,g,A,x,V)}function qA(i){for(var o=i;;){var a=o.tag;if((a===0||a===11||a===15)&&o.flags&16384&&(a=o.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var u=0;u<a.length;u++){var g=a[u],_=g.getSnapshot;g=g.value;try{if(!vn(_(),g))return!1}catch{return!1}}if(a=o.child,o.subtreeFlags&16384&&a!==null)a.return=o,o=a;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Vs(i,o,a,u){o&=~Bd,o&=~Vo,i.suspendedLanes|=o,i.pingedLanes&=~o,u&&(i.warmLanes|=o),u=i.expirationTimes;for(var g=o;0<g;){var _=31-vt(g),A=1<<_;u[_]=-1,g&=~A}a!==0&&lo(i,a,o)}function nc(){return(Ze&6)===0?(ll(0),!1):!0}function Yd(){if(Le!==null){if(tt===0)var i=Le.return;else i=Le,Fi=Io=null,ad(i),Tr=null,Ga=0,i=Le;for(;i!==null;)ny(i.alternate,i),i=i.return;Le=null}}function br(i,o){var a=i.timeoutHandle;a!==-1&&(i.timeoutHandle=-1,sC(a)),a=i.cancelPendingCommit,a!==null&&(i.cancelPendingCommit=null,a()),ji=0,Yd(),at=i,Le=a=Bi(i.current,null),qe=o,tt=0,An=null,bs=!1,Rr=Jn(i,o),Od=!1,wr=Cn=Bd=Vo=Ms=_t=0,mn=rl=null,zd=!1,(o&8)!==0&&(o|=o&32);var u=i.entangledLanes;if(u!==0)for(i=i.entanglements,u&=o;0<u;){var g=31-vt(u),_=1<<g;o|=i[g],u&=~_}return Zi=o,Au(),a}function xy(i,o){De=null,J.H=Za,o===vr||o===Mu?(o=Fp(),tt=3):o===$f?(o=Fp(),tt=4):tt=o===Ad?8:o!==null&&typeof o=="object"&&typeof o.then=="function"?6:1,An=o,Le===null&&(_t=1,Yu(i,Dn(o,i.current)))}function Ry(){var i=En.current;return i===null?!0:(qe&4194048)===qe?Ln===null:(qe&62914560)===qe||(qe&536870912)!==0?i===Ln:!1}function wy(){var i=J.H;return J.H=Za,i===null?Za:i}function Ny(){var i=J.A;return J.A=LA,i}function ic(){_t=4,bs||(qe&4194048)!==qe&&En.current!==null||(Rr=!0),(Ms&134217727)===0&&(Vo&134217727)===0||at===null||Vs(at,qe,Cn,!1)}function Jd(i,o,a){var u=Ze;Ze|=2;var g=wy(),_=Ny();(at!==i||qe!==o)&&(tc=null,br(i,o)),o=!1;var A=_t;e:do try{if(tt!==0&&Le!==null){var x=Le,V=An;switch(tt){case 8:Yd(),A=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(o=!0);var Y=tt;if(tt=0,An=null,Mr(i,x,V,Y),a&&Rr){A=0;break e}break;default:Y=tt,tt=0,An=null,Mr(i,x,V,Y)}}OA(),A=_t;break}catch(X){xy(i,X)}while(!0);return o&&i.shellSuspendCounter++,Fi=Io=null,Ze=u,J.H=g,J.A=_,Le===null&&(at=null,qe=0,Au()),A}function OA(){for(;Le!==null;)by(Le)}function BA(i,o){var a=Ze;Ze|=2;var u=wy(),g=Ny();at!==i||qe!==o?(tc=null,ec=rn()+500,br(i,o)):Rr=Jn(i,o);e:do try{if(tt!==0&&Le!==null){o=Le;var _=An;t:switch(tt){case 1:tt=0,An=null,Mr(i,o,_,1);break;case 2:case 9:if(Bp(_)){tt=0,An=null,My(o);break}o=function(){tt!==2&&tt!==9||at!==i||(tt=7),Ni(i)},_.then(o,o);break e;case 3:tt=7;break e;case 4:tt=5;break e;case 7:Bp(_)?(tt=0,An=null,My(o)):(tt=0,An=null,Mr(i,o,_,7));break;case 5:var A=null;switch(Le.tag){case 26:A=Le.memoizedState;case 5:case 27:var x=Le;if(A?g_(A):x.stateNode.complete){tt=0,An=null;var V=x.sibling;if(V!==null)Le=V;else{var Y=x.return;Y!==null?(Le=Y,sc(Y)):Le=null}break t}}tt=0,An=null,Mr(i,o,_,5);break;case 6:tt=0,An=null,Mr(i,o,_,6);break;case 8:Yd(),_t=6;break e;default:throw Error(s(462))}}zA();break}catch(X){xy(i,X)}while(!0);return Fi=Io=null,J.H=u,J.A=g,Ze=a,Le!==null?0:(at=null,qe=0,Au(),_t)}function zA(){for(;Le!==null&&!Sf();)by(Le)}function by(i){var o=ey(i.alternate,i,Zi);i.memoizedProps=i.pendingProps,o===null?sc(i):Le=o}function My(i){var o=i,a=o.alternate;switch(o.tag){case 15:case 0:o=Qg(a,o,o.pendingProps,o.type,void 0,qe);break;case 11:o=Qg(a,o,o.pendingProps,o.type.render,o.ref,qe);break;case 5:ad(o);default:ny(a,o),o=Le=Np(o,Zi),o=ey(a,o,Zi)}i.memoizedProps=i.pendingProps,o===null?sc(i):Le=o}function Mr(i,o,a,u){Fi=Io=null,ad(o),Tr=null,Ga=0;var g=o.return;try{if(NA(i,g,o,a,qe)){_t=1,Yu(i,Dn(a,i.current)),Le=null;return}}catch(_){if(g!==null)throw Le=g,_;_t=1,Yu(i,Dn(a,i.current)),Le=null;return}o.flags&32768?(Fe||u===1?i=!0:Rr||(qe&536870912)!==0?i=!1:(bs=i=!0,(u===2||u===9||u===3||u===6)&&(u=En.current,u!==null&&u.tag===13&&(u.flags|=16384))),Dy(o,i)):sc(o)}function sc(i){var o=i;do{if((o.flags&32768)!==0){Dy(o,bs);return}i=o.return;var a=DA(o.alternate,o,Zi);if(a!==null){Le=a;return}if(o=o.sibling,o!==null){Le=o;return}Le=o=i}while(o!==null);_t===0&&(_t=5)}function Dy(i,o){do{var a=PA(i.alternate,i);if(a!==null){a.flags&=32767,Le=a;return}if(a=i.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!o&&(i=i.sibling,i!==null)){Le=i;return}Le=i=a}while(i!==null);_t=6,Le=null}function Py(i,o,a,u,g,_,A,x,V){i.cancelPendingCommit=null;do oc();while(Ot!==0);if((Ze&6)!==0)throw Error(s(327));if(o!==null){if(o===i.current)throw Error(s(177));if(_=o.lanes|o.childLanes,_|=Vf,If(i,a,_,A,x,V),i===at&&(Le=at=null,qe=0),Nr=o,Ps=i,ji=a,Fd=_,Hd=g,Sy=u,(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,YA(cs,function(){return qy(),null})):(i.callbackNode=null,i.callbackPriority=0),u=(o.flags&13878)!==0,(o.subtreeFlags&13878)!==0||u){u=J.T,J.T=null,g=oe.p,oe.p=2,A=Ze,Ze|=4;try{VA(i,o,a)}finally{Ze=A,oe.p=g,J.T=u}}Ot=1,Vy(),Uy(),Ly()}}function Vy(){if(Ot===1){Ot=0;var i=Ps,o=Nr,a=(o.flags&13878)!==0;if((o.subtreeFlags&13878)!==0||a){a=J.T,J.T=null;var u=oe.p;oe.p=2;var g=Ze;Ze|=4;try{my(o,i);var _=sh,A=Tp(i.containerInfo),x=_.focusedElem,V=_.selectionRange;if(A!==x&&x&&x.ownerDocument&&vp(x.ownerDocument.documentElement,x)){if(V!==null&&Nf(x)){var Y=V.start,X=V.end;if(X===void 0&&(X=Y),"selectionStart"in x)x.selectionStart=Y,x.selectionEnd=Math.min(X,x.value.length);else{var ne=x.ownerDocument||document,K=ne&&ne.defaultView||window;if(K.getSelection){var $=K.getSelection(),_e=x.textContent.length,Ce=Math.min(V.start,_e),rt=V.end===void 0?Ce:Math.min(V.end,_e);!$.extend&&Ce>rt&&(A=rt,rt=Ce,Ce=A);var B=_p(x,Ce),L=_p(x,rt);if(B&&L&&($.rangeCount!==1||$.anchorNode!==B.node||$.anchorOffset!==B.offset||$.focusNode!==L.node||$.focusOffset!==L.offset)){var G=ne.createRange();G.setStart(B.node,B.offset),$.removeAllRanges(),Ce>rt?($.addRange(G),$.extend(L.node,L.offset)):(G.setEnd(L.node,L.offset),$.addRange(G))}}}}for(ne=[],$=x;$=$.parentNode;)$.nodeType===1&&ne.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof x.focus=="function"&&x.focus(),x=0;x<ne.length;x++){var Z=ne[x];Z.element.scrollLeft=Z.left,Z.element.scrollTop=Z.top}}yc=!!ih,sh=ih=null}finally{Ze=g,oe.p=u,J.T=a}}i.current=o,Ot=2}}function Uy(){if(Ot===2){Ot=0;var i=Ps,o=Nr,a=(o.flags&8772)!==0;if((o.subtreeFlags&8772)!==0||a){a=J.T,J.T=null;var u=oe.p;oe.p=2;var g=Ze;Ze|=4;try{uy(i,o.alternate,o)}finally{Ze=g,oe.p=u,J.T=a}}Ot=3}}function Ly(){if(Ot===4||Ot===3){Ot=0,$l();var i=Ps,o=Nr,a=ji,u=Sy;(o.subtreeFlags&10256)!==0||(o.flags&10256)!==0?Ot=5:(Ot=0,Nr=Ps=null,ky(i,i.pendingLanes));var g=i.pendingLanes;if(g===0&&(Ds=null),Li(a),o=o.stateNode,Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Yn,o,void 0,(o.current.flags&128)===128)}catch{}if(u!==null){o=J.T,g=oe.p,oe.p=2,J.T=null;try{for(var _=i.onRecoverableError,A=0;A<u.length;A++){var x=u[A];_(x.value,{componentStack:x.stack})}}finally{J.T=o,oe.p=g}}(ji&3)!==0&&oc(),Ni(i),g=i.pendingLanes,(a&261930)!==0&&(g&42)!==0?i===Gd?al++:(al=0,Gd=i):al=0,ll(0)}}function ky(i,o){(i.pooledCacheLanes&=o)===0&&(o=i.pooledCache,o!=null&&(i.pooledCache=null,Fa(o)))}function oc(){return Vy(),Uy(),Ly(),qy()}function qy(){if(Ot!==5)return!1;var i=Ps,o=Fd;Fd=0;var a=Li(ji),u=J.T,g=oe.p;try{oe.p=32>a?32:a,J.T=null,a=Hd,Hd=null;var _=Ps,A=ji;if(Ot=0,Nr=Ps=null,ji=0,(Ze&6)!==0)throw Error(s(331));var x=Ze;if(Ze|=4,vy(_.current),gy(_,_.current,A,a),Ze=x,ll(0,!1),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Yn,_)}catch{}return!0}finally{oe.p=g,J.T=u,ky(i,o)}}function Oy(i,o,a){o=Dn(a,o),o=Sd(i.stateNode,o,2),i=xs(i,o,2),i!==null&&(ao(i,2),Ni(i))}function nt(i,o,a){if(i.tag===3)Oy(i,i,a);else for(;o!==null;){if(o.tag===3){Oy(o,i,a);break}else if(o.tag===1){var u=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(Ds===null||!Ds.has(u))){i=Dn(a,i),a=Bg(2),u=xs(o,a,2),u!==null&&(zg(a,u,o,i),ao(u,2),Ni(u));break}}o=o.return}}function Kd(i,o,a){var u=i.pingCache;if(u===null){u=i.pingCache=new kA;var g=new Set;u.set(o,g)}else g=u.get(o),g===void 0&&(g=new Set,u.set(o,g));g.has(a)||(Od=!0,g.add(a),i=FA.bind(null,i,o,a),o.then(i,i))}function FA(i,o,a){var u=i.pingCache;u!==null&&u.delete(o),i.pingedLanes|=i.suspendedLanes&a,i.warmLanes&=~a,at===i&&(qe&a)===a&&(_t===4||_t===3&&(qe&62914560)===qe&&300>rn()-ju?(Ze&2)===0&&br(i,0):Bd|=a,wr===qe&&(wr=0)),Ni(i)}function By(i,o){o===0&&(o=tu()),i=So(i,o),i!==null&&(ao(i,o),Ni(i))}function HA(i){var o=i.memoizedState,a=0;o!==null&&(a=o.retryLane),By(i,a)}function GA(i,o){var a=0;switch(i.tag){case 31:case 13:var u=i.stateNode,g=i.memoizedState;g!==null&&(a=g.retryLane);break;case 19:u=i.stateNode;break;case 22:u=i.stateNode._retryCache;break;default:throw Error(s(314))}u!==null&&u.delete(o),By(i,a)}function YA(i,o){return qt(i,o)}var rc=null,Dr=null,Qd=!1,ac=!1,$d=!1,Us=0;function Ni(i){i!==Dr&&i.next===null&&(Dr===null?rc=Dr=i:Dr=Dr.next=i),ac=!0,Qd||(Qd=!0,KA())}function ll(i,o){if(!$d&&ac){$d=!0;do for(var a=!1,u=rc;u!==null;){if(i!==0){var g=u.pendingLanes;if(g===0)var _=0;else{var A=u.suspendedLanes,x=u.pingedLanes;_=(1<<31-vt(42|i)+1)-1,_&=g&~(A&~x),_=_&201326741?_&201326741|1:_?_|2:0}_!==0&&(a=!0,Gy(u,_))}else _=qe,_=fi(u,u===at?_:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(_&3)===0||Jn(u,_)||(a=!0,Gy(u,_));u=u.next}while(a);$d=!1}}function JA(){zy()}function zy(){ac=Qd=!1;var i=0;Us!==0&&iC()&&(i=Us);for(var o=rn(),a=null,u=rc;u!==null;){var g=u.next,_=Fy(u,o);_===0?(u.next=null,a===null?rc=g:a.next=g,g===null&&(Dr=a)):(a=u,(i!==0||(_&3)!==0)&&(ac=!0)),u=g}Ot!==0&&Ot!==5||ll(i),Us!==0&&(Us=0)}function Fy(i,o){for(var a=i.suspendedLanes,u=i.pingedLanes,g=i.expirationTimes,_=i.pendingLanes&-62914561;0<_;){var A=31-vt(_),x=1<<A,V=g[A];V===-1?((x&a)===0||(x&u)!==0)&&(g[A]=Cf(x,o)):V<=o&&(i.expiredLanes|=x),_&=~x}if(o=at,a=qe,a=fi(i,i===o?a:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u=i.callbackNode,a===0||i===o&&(tt===2||tt===9)||i.cancelPendingCommit!==null)return u!==null&&u!==null&&us(u),i.callbackNode=null,i.callbackPriority=0;if((a&3)===0||Jn(i,a)){if(o=a&-a,o===i.callbackPriority)return o;switch(u!==null&&us(u),Li(a)){case 2:case 8:a=_a;break;case 32:a=cs;break;case 268435456:a=Xl;break;default:a=cs}return u=Hy.bind(null,i),a=qt(a,u),i.callbackPriority=o,i.callbackNode=a,o}return u!==null&&u!==null&&us(u),i.callbackPriority=2,i.callbackNode=null,2}function Hy(i,o){if(Ot!==0&&Ot!==5)return i.callbackNode=null,i.callbackPriority=0,null;var a=i.callbackNode;if(oc()&&i.callbackNode!==a)return null;var u=qe;return u=fi(i,i===at?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),u===0?null:(Cy(i,u,o),Fy(i,rn()),i.callbackNode!=null&&i.callbackNode===a?Hy.bind(null,i):null)}function Gy(i,o){if(oc())return null;Cy(i,o,!0)}function KA(){oC(function(){(Ze&6)!==0?qt(ya,JA):zy()})}function Xd(){if(Us===0){var i=yr;i===0&&(i=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Us=i}return Us}function Yy(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:nr(""+i)}function Jy(i,o){var a=o.ownerDocument.createElement("input");return a.name=o.name,a.value=o.value,i.id&&a.setAttribute("form",i.id),o.parentNode.insertBefore(a,o),i=new FormData(i),a.parentNode.removeChild(a),i}function QA(i,o,a,u,g){if(o==="submit"&&a&&a.stateNode===g){var _=Yy((g[zt]||null).action),A=u.submitter;A&&(o=(o=A[zt]||null)?Yy(o.formAction):A.getAttribute("formAction"),o!==null&&(_=o,A=null));var x=new Si("action","action",null,u,g);i.push({event:x,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Us!==0){var V=A?Jy(g,A):new FormData(g);gd(a,{pending:!0,data:V,method:g.method,action:_},null,V)}}else typeof _=="function"&&(x.preventDefault(),V=A?Jy(g,A):new FormData(g),gd(a,{pending:!0,data:V,method:g.method,action:_},_,V))},currentTarget:g}]})}}for(var Wd=0;Wd<Pf.length;Wd++){var Zd=Pf[Wd],$A=Zd.toLowerCase(),XA=Zd[0].toUpperCase()+Zd.slice(1);ei($A,"on"+XA)}ei(Ap,"onAnimationEnd"),ei(Cp,"onAnimationIteration"),ei(Ip,"onAnimationStart"),ei("dblclick","onDoubleClick"),ei("focusin","onFocus"),ei("focusout","onBlur"),ei(dA,"onTransitionRun"),ei(hA,"onTransitionStart"),ei(mA,"onTransitionCancel"),ei(xp,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ul="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),WA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ul));function Ky(i,o){o=(o&4)!==0;for(var a=0;a<i.length;a++){var u=i[a],g=u.event;u=u.listeners;e:{var _=void 0;if(o)for(var A=u.length-1;0<=A;A--){var x=u[A],V=x.instance,Y=x.currentTarget;if(x=x.listener,V!==_&&g.isPropagationStopped())break e;_=x,g.currentTarget=Y;try{_(g)}catch(X){Su(X)}g.currentTarget=null,_=V}else for(A=0;A<u.length;A++){if(x=u[A],V=x.instance,Y=x.currentTarget,x=x.listener,V!==_&&g.isPropagationStopped())break e;_=x,g.currentTarget=Y;try{_(g)}catch(X){Su(X)}g.currentTarget=null,_=V}}}}function ke(i,o){var a=o[Wo];a===void 0&&(a=o[Wo]=new Set);var u=i+"__bubble";a.has(u)||(Qy(o,i,2,!1),a.add(u))}function jd(i,o,a){var u=0;o&&(u|=4),Qy(a,i,u,o)}var lc="_reactListening"+Math.random().toString(36).slice(2);function eh(i){if(!i[lc]){i[lc]=!0,Ea.forEach(function(a){a!=="selectionchange"&&(WA.has(a)||jd(a,!1,i),jd(a,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[lc]||(o[lc]=!0,jd("selectionchange",!1,o))}}function Qy(i,o,a,u){switch(A_(o)){case 2:var g=IC;break;case 8:g=xC;break;default:g=ph}a=g.bind(null,o,a,i),g=void 0,!mo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),u?g!==void 0?i.addEventListener(o,a,{capture:!0,passive:g}):i.addEventListener(o,a,!0):g!==void 0?i.addEventListener(o,a,{passive:g}):i.addEventListener(o,a,!1)}function th(i,o,a,u,g){var _=u;if((o&1)===0&&(o&2)===0&&u!==null)e:for(;;){if(u===null)return;var A=u.tag;if(A===3||A===4){var x=u.stateNode.containerInfo;if(x===g)break;if(A===4)for(A=u.return;A!==null;){var V=A.tag;if((V===3||V===4)&&A.stateNode.containerInfo===g)return;A=A.return}for(;x!==null;){if(A=pi(x),A===null)return;if(V=A.tag,V===5||V===6||V===26||V===27){u=_=A;continue e}x=x.parentNode}}u=u.return}gs(function(){var Y=_,X=wn(a),ne=[];e:{var K=Rp.get(i);if(K!==void 0){var $=Si,_e=i;switch(i){case"keypress":if(go(a)===0)break e;case"keydown":case"keyup":$=vu;break;case"focusin":_e="focus",$=_o;break;case"focusout":_e="blur",$=_o;break;case"beforeblur":case"afterblur":$=_o;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=E;break;case Ap:case Cp:case Ip:$=du;break;case xp:$=w;break;case"scroll":case"scrollend":$=Pa;break;case"wheel":$=Q;break;case"copy":case"cut":case"paste":$=hu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=Oi;break;case"toggle":case"beforetoggle":$=Me}var Ce=(o&4)!==0,rt=!Ce&&(i==="scroll"||i==="scrollend"),B=Ce?K!==null?K+"Capture":null:K;Ce=[];for(var L=Y,G;L!==null;){var Z=L;if(G=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||G===null||B===null||(Z=Xn(L,B),Z!=null&&Ce.push(cl(L,Z,G))),rt)break;L=L.return}0<Ce.length&&(K=new $(K,_e,null,a,X),ne.push({event:K,listeners:Ce}))}}if((o&7)===0){e:{if(K=i==="mouseover"||i==="pointerover",$=i==="mouseout"||i==="pointerout",K&&a!==ba&&(_e=a.relatedTarget||a.fromElement)&&(pi(_e)||_e[hi]))break e;if(($||K)&&(K=X.window===X?X:(K=X.ownerDocument)?K.defaultView||K.parentWindow:window,$?(_e=a.relatedTarget||a.toElement,$=Y,_e=_e?pi(_e):null,_e!==null&&(rt=l(_e),Ce=_e.tag,_e!==rt||Ce!==5&&Ce!==27&&Ce!==6)&&(_e=null)):($=null,_e=Y),$!==_e)){if(Ce=Va,Z="onMouseLeave",B="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(Ce=Oi,Z="onPointerLeave",B="onPointerEnter",L="pointer"),rt=$==null?K:yn($),G=_e==null?K:yn(_e),K=new Ce(Z,L+"leave",$,a,X),K.target=rt,K.relatedTarget=G,Z=null,pi(X)===Y&&(Ce=new Ce(B,L+"enter",_e,a,X),Ce.target=G,Ce.relatedTarget=rt,Z=Ce),rt=Z,$&&_e)t:{for(Ce=ZA,B=$,L=_e,G=0,Z=B;Z;Z=Ce(Z))G++;Z=0;for(var Se=L;Se;Se=Ce(Se))Z++;for(;0<G-Z;)B=Ce(B),G--;for(;0<Z-G;)L=Ce(L),Z--;for(;G--;){if(B===L||L!==null&&B===L.alternate){Ce=B;break t}B=Ce(B),L=Ce(L)}Ce=null}else Ce=null;$!==null&&$y(ne,K,$,Ce,!1),_e!==null&&rt!==null&&$y(ne,rt,_e,Ce,!0)}}e:{if(K=Y?yn(Y):window,$=K.nodeName&&K.nodeName.toLowerCase(),$==="select"||$==="input"&&K.type==="file")var Ke=dp;else if(cp(K))if(hp)Ke=uA;else{Ke=aA;var Te=rA}else $=K.nodeName,!$||$.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?Y&&tr(Y.elementType)&&(Ke=dp):Ke=lA;if(Ke&&(Ke=Ke(i,Y))){fp(ne,Ke,a,X);break e}Te&&Te(i,K,Y),i==="focusout"&&Y&&K.type==="number"&&Y.memoizedProps.value!=null&&Ra(K,"number",K.value)}switch(Te=Y?yn(Y):window,i){case"focusin":(cp(Te)||Te.contentEditable==="true")&&(ur=Te,bf=Y,Oa=null);break;case"focusout":Oa=bf=ur=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,Ep(ne,a,X);break;case"selectionchange":if(fA)break;case"keydown":case"keyup":Ep(ne,a,X)}var Ve;if(We)e:{switch(i){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else lr?vo(i,a)&&(Oe="onCompositionEnd"):i==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(Ii&&a.locale!=="ko"&&(lr||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&lr&&(Ve=Da()):(Ei=X,Ma="value"in Ei?Ei.value:Ei.textContent,lr=!0)),Te=uc(Y,Oe),0<Te.length&&(Oe=new Ci(Oe,i,null,a,X),ne.push({event:Oe,listeners:Te}),Ve?Oe.data=Ve:(Ve=ar(a),Ve!==null&&(Oe.data=Ve)))),(Ve=bn?nA(i,a):iA(i,a))&&(Oe=uc(Y,"onBeforeInput"),0<Oe.length&&(Te=new Ci("onBeforeInput","beforeinput",null,a,X),ne.push({event:Te,listeners:Oe}),Te.data=Ve)),QA(ne,i,Y,a,X)}Ky(ne,o)})}function cl(i,o,a){return{instance:i,listener:o,currentTarget:a}}function uc(i,o){for(var a=o+"Capture",u=[];i!==null;){var g=i,_=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||_===null||(g=Xn(i,a),g!=null&&u.unshift(cl(i,g,_)),g=Xn(i,o),g!=null&&u.push(cl(i,g,_))),i.tag===3)return u;i=i.return}return[]}function ZA(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function $y(i,o,a,u,g){for(var _=o._reactName,A=[];a!==null&&a!==u;){var x=a,V=x.alternate,Y=x.stateNode;if(x=x.tag,V!==null&&V===u)break;x!==5&&x!==26&&x!==27||Y===null||(V=Y,g?(Y=Xn(a,_),Y!=null&&A.unshift(cl(a,Y,V))):g||(Y=Xn(a,_),Y!=null&&A.push(cl(a,Y,V)))),a=a.return}A.length!==0&&i.push({event:o,listeners:A})}var jA=/\r\n?/g,eC=/\u0000|\uFFFD/g;function Xy(i){return(typeof i=="string"?i:""+i).replace(jA,`
`).replace(eC,"")}function Wy(i,o){return o=Xy(o),Xy(i)===o}function ot(i,o,a,u,g,_){switch(a){case"children":typeof u=="string"?o==="body"||o==="textarea"&&u===""||cn(i,u):(typeof u=="number"||typeof u=="bigint")&&o!=="body"&&cn(i,""+u);break;case"className":_n(i,"class",u);break;case"tabIndex":_n(i,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":_n(i,a,u);break;case"style":Na(i,u,_);break;case"data":if(o!=="object"){_n(i,"data",u);break}case"src":case"href":if(u===""&&(o!=="a"||a!=="href")){i.removeAttribute(a);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=nr(""+u),i.setAttribute(a,u);break;case"action":case"formAction":if(typeof u=="function"){i.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof _=="function"&&(a==="formAction"?(o!=="input"&&ot(i,o,"name",g.name,g,null),ot(i,o,"formEncType",g.formEncType,g,null),ot(i,o,"formMethod",g.formMethod,g,null),ot(i,o,"formTarget",g.formTarget,g,null)):(ot(i,o,"encType",g.encType,g,null),ot(i,o,"method",g.method,g,null),ot(i,o,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){i.removeAttribute(a);break}u=nr(""+u),i.setAttribute(a,u);break;case"onClick":u!=null&&(i.onclick=$n);break;case"onScroll":u!=null&&ke("scroll",i);break;case"onScrollEnd":u!=null&&ke("scrollend",i);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"multiple":i.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":i.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){i.removeAttribute("xlink:href");break}a=nr(""+u),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""+u):i.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,""):i.removeAttribute(a);break;case"capture":case"download":u===!0?i.setAttribute(a,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?i.setAttribute(a,u):i.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?i.setAttribute(a,u):i.removeAttribute(a);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?i.removeAttribute(a):i.setAttribute(a,u);break;case"popover":ke("beforetoggle",i),ke("toggle",i),jo(i,"popover",u);break;case"xlinkActuate":wt(i,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":wt(i,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":wt(i,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":wt(i,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":wt(i,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":wt(i,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":wt(i,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":wt(i,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":wt(i,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":jo(i,"is",u);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=uu.get(a)||a,jo(i,a,u))}}function nh(i,o,a,u,g,_){switch(a){case"style":Na(i,u,_);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(s(61));if(a=u.__html,a!=null){if(g.children!=null)throw Error(s(60));i.innerHTML=a}}break;case"children":typeof u=="string"?cn(i,u):(typeof u=="number"||typeof u=="bigint")&&cn(i,""+u);break;case"onScroll":u!=null&&ke("scroll",i);break;case"onScrollEnd":u!=null&&ke("scrollend",i);break;case"onClick":u!=null&&(i.onclick=$n);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Sa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(g=a.endsWith("Capture"),o=a.slice(2,g?a.length-7:void 0),_=i[zt]||null,_=_!=null?_[a]:null,typeof _=="function"&&i.removeEventListener(o,_,g),typeof u=="function")){typeof _!="function"&&_!==null&&(a in i?i[a]=null:i.hasAttribute(a)&&i.removeAttribute(a)),i.addEventListener(o,u,g);break e}a in i?i[a]=u:u===!0?i.setAttribute(a,""):jo(i,a,u)}}}function Xt(i,o,a){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ke("error",i),ke("load",i);var u=!1,g=!1,_;for(_ in a)if(a.hasOwnProperty(_)){var A=a[_];if(A!=null)switch(_){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:ot(i,o,_,A,a,null)}}g&&ot(i,o,"srcSet",a.srcSet,a,null),u&&ot(i,o,"src",a.src,a,null);return;case"input":ke("invalid",i);var x=_=A=g=null,V=null,Y=null;for(u in a)if(a.hasOwnProperty(u)){var X=a[u];if(X!=null)switch(u){case"name":g=X;break;case"type":A=X;break;case"checked":V=X;break;case"defaultChecked":Y=X;break;case"value":_=X;break;case"defaultValue":x=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,o));break;default:ot(i,o,u,X,a,null)}}ru(i,_,x,V,Y,A,g,!1);return;case"select":ke("invalid",i),u=A=_=null;for(g in a)if(a.hasOwnProperty(g)&&(x=a[g],x!=null))switch(g){case"value":_=x;break;case"defaultValue":A=x;break;case"multiple":u=x;default:ot(i,o,g,x,a,null)}o=_,a=A,i.multiple=!!u,o!=null?ds(i,!!u,o,!1):a!=null&&ds(i,!!u,a,!0);return;case"textarea":ke("invalid",i),_=g=u=null;for(A in a)if(a.hasOwnProperty(A)&&(x=a[A],x!=null))switch(A){case"value":u=x;break;case"defaultValue":g=x;break;case"children":_=x;break;case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(91));break;default:ot(i,o,A,x,a,null)}hs(i,u,g,_);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(u=a[V],u!=null))switch(V){case"selected":i.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ot(i,o,V,u,a,null)}return;case"dialog":ke("beforetoggle",i),ke("toggle",i),ke("cancel",i),ke("close",i);break;case"iframe":case"object":ke("load",i);break;case"video":case"audio":for(u=0;u<ul.length;u++)ke(ul[u],i);break;case"image":ke("error",i),ke("load",i);break;case"details":ke("toggle",i);break;case"embed":case"source":case"link":ke("error",i),ke("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Y in a)if(a.hasOwnProperty(Y)&&(u=a[Y],u!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,o));default:ot(i,o,Y,u,a,null)}return;default:if(tr(o)){for(X in a)a.hasOwnProperty(X)&&(u=a[X],u!==void 0&&nh(i,o,X,u,a,void 0));return}}for(x in a)a.hasOwnProperty(x)&&(u=a[x],u!=null&&ot(i,o,x,u,a,null))}function tC(i,o,a,u){switch(o){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,_=null,A=null,x=null,V=null,Y=null,X=null;for($ in a){var ne=a[$];if(a.hasOwnProperty($)&&ne!=null)switch($){case"checked":break;case"value":break;case"defaultValue":V=ne;default:u.hasOwnProperty($)||ot(i,o,$,null,u,ne)}}for(var K in u){var $=u[K];if(ne=a[K],u.hasOwnProperty(K)&&($!=null||ne!=null))switch(K){case"type":_=$;break;case"name":g=$;break;case"checked":Y=$;break;case"defaultChecked":X=$;break;case"value":A=$;break;case"defaultValue":x=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,o));break;default:$!==ne&&ot(i,o,K,$,u,ne)}}er(i,A,x,V,Y,X,_,g);return;case"select":$=A=x=K=null;for(_ in a)if(V=a[_],a.hasOwnProperty(_)&&V!=null)switch(_){case"value":break;case"multiple":$=V;default:u.hasOwnProperty(_)||ot(i,o,_,null,u,V)}for(g in u)if(_=u[g],V=a[g],u.hasOwnProperty(g)&&(_!=null||V!=null))switch(g){case"value":K=_;break;case"defaultValue":x=_;break;case"multiple":A=_;default:_!==V&&ot(i,o,g,_,u,V)}o=x,a=A,u=$,K!=null?ds(i,!!a,K,!1):!!u!=!!a&&(o!=null?ds(i,!!a,o,!0):ds(i,!!a,a?[]:"",!1));return;case"textarea":$=K=null;for(x in a)if(g=a[x],a.hasOwnProperty(x)&&g!=null&&!u.hasOwnProperty(x))switch(x){case"value":break;case"children":break;default:ot(i,o,x,null,u,g)}for(A in u)if(g=u[A],_=a[A],u.hasOwnProperty(A)&&(g!=null||_!=null))switch(A){case"value":K=g;break;case"defaultValue":$=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(s(91));break;default:g!==_&&ot(i,o,A,g,u,_)}au(i,K,$);return;case"option":for(var _e in a)if(K=a[_e],a.hasOwnProperty(_e)&&K!=null&&!u.hasOwnProperty(_e))switch(_e){case"selected":i.selected=!1;break;default:ot(i,o,_e,null,u,K)}for(V in u)if(K=u[V],$=a[V],u.hasOwnProperty(V)&&K!==$&&(K!=null||$!=null))switch(V){case"selected":i.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ot(i,o,V,K,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ce in a)K=a[Ce],a.hasOwnProperty(Ce)&&K!=null&&!u.hasOwnProperty(Ce)&&ot(i,o,Ce,null,u,K);for(Y in u)if(K=u[Y],$=a[Y],u.hasOwnProperty(Y)&&K!==$&&(K!=null||$!=null))switch(Y){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,o));break;default:ot(i,o,Y,K,u,$)}return;default:if(tr(o)){for(var rt in a)K=a[rt],a.hasOwnProperty(rt)&&K!==void 0&&!u.hasOwnProperty(rt)&&nh(i,o,rt,void 0,u,K);for(X in u)K=u[X],$=a[X],!u.hasOwnProperty(X)||K===$||K===void 0&&$===void 0||nh(i,o,X,K,u,$);return}}for(var B in a)K=a[B],a.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&ot(i,o,B,null,u,K);for(ne in u)K=u[ne],$=a[ne],!u.hasOwnProperty(ne)||K===$||K==null&&$==null||ot(i,o,ne,K,u,$)}function Zy(i){switch(i){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function nC(){if(typeof performance.getEntriesByType=="function"){for(var i=0,o=0,a=performance.getEntriesByType("resource"),u=0;u<a.length;u++){var g=a[u],_=g.transferSize,A=g.initiatorType,x=g.duration;if(_&&x&&Zy(A)){for(A=0,x=g.responseEnd,u+=1;u<a.length;u++){var V=a[u],Y=V.startTime;if(Y>x)break;var X=V.transferSize,ne=V.initiatorType;X&&Zy(ne)&&(V=V.responseEnd,A+=X*(V<x?1:(x-Y)/(V-Y)))}if(--u,o+=8*(_+A)/(g.duration/1e3),i++,10<i)break}}if(0<i)return o/i/1e6}return navigator.connection&&(i=navigator.connection.downlink,typeof i=="number")?i:5}var ih=null,sh=null;function cc(i){return i.nodeType===9?i:i.ownerDocument}function jy(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(i,o){if(i===0)switch(o){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&o==="foreignObject"?0:i}function oh(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.children=="bigint"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var rh=null;function iC(){var i=window.event;return i&&i.type==="popstate"?i===rh?!1:(rh=i,!0):(rh=null,!1)}var t_=typeof setTimeout=="function"?setTimeout:void 0,sC=typeof clearTimeout=="function"?clearTimeout:void 0,n_=typeof Promise=="function"?Promise:void 0,oC=typeof queueMicrotask=="function"?queueMicrotask:typeof n_<"u"?function(i){return n_.resolve(null).then(i).catch(rC)}:t_;function rC(i){setTimeout(function(){throw i})}function Ls(i){return i==="head"}function i_(i,o){var a=o,u=0;do{var g=a.nextSibling;if(i.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"||a==="/&"){if(u===0){i.removeChild(g),Lr(o);return}u--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")u++;else if(a==="html")fl(i.ownerDocument.documentElement);else if(a==="head"){a=i.ownerDocument.head,fl(a);for(var _=a.firstChild;_;){var A=_.nextSibling,x=_.nodeName;_[mi]||x==="SCRIPT"||x==="STYLE"||x==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=A}}else a==="body"&&fl(i.ownerDocument.body);a=g}while(a);Lr(o)}function s_(i,o){var a=i;i=0;do{var u=a.nextSibling;if(a.nodeType===1?o?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(o?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),u&&u.nodeType===8)if(a=u.data,a==="/$"){if(i===0)break;i--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||i++;a=u}while(a)}function ah(i){var o=i.firstChild;for(o&&o.nodeType===10&&(o=o.nextSibling);o;){var a=o;switch(o=o.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":ah(a),Zo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}i.removeChild(a)}}function aC(i,o,a,u){for(;i.nodeType===1;){var g=a;if(i.nodeName.toLowerCase()!==o.toLowerCase()){if(!u&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(u){if(!i[mi])switch(o){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(_=i.getAttribute("rel"),_==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(_!==g.rel||i.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||i.getAttribute("title")!==(g.title==null?null:g.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(_=i.getAttribute("src"),(_!==(g.src==null?null:g.src)||i.getAttribute("type")!==(g.type==null?null:g.type)||i.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&_&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(o==="input"&&i.type==="hidden"){var _=g.name==null?null:""+g.name;if(g.type==="hidden"&&i.getAttribute("name")===_)return i}else return i;if(i=kn(i.nextSibling),i===null)break}return null}function lC(i,o,a){if(o==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!a||(i=kn(i.nextSibling),i===null))return null;return i}function o_(i,o){for(;i.nodeType!==8;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=kn(i.nextSibling),i===null))return null;return i}function lh(i){return i.data==="$?"||i.data==="$~"}function uh(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState!=="loading"}function uC(i,o){var a=i.ownerDocument;if(i.data==="$~")i._reactRetry=o;else if(i.data!=="$?"||a.readyState!=="loading")o();else{var u=function(){o(),a.removeEventListener("DOMContentLoaded",u)};a.addEventListener("DOMContentLoaded",u),i._reactRetry=u}}function kn(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"||o==="F!"||o==="F")break;if(o==="/$"||o==="/&")return null}}return i}var ch=null;function r_(i){i=i.nextSibling;for(var o=0;i;){if(i.nodeType===8){var a=i.data;if(a==="/$"||a==="/&"){if(o===0)return kn(i.nextSibling);o--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||o++}i=i.nextSibling}return null}function a_(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var a=i.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(o===0)return i;o--}else a!=="/$"&&a!=="/&"||o++}i=i.previousSibling}return null}function l_(i,o,a){switch(o=cc(a),i){case"html":if(i=o.documentElement,!i)throw Error(s(452));return i;case"head":if(i=o.head,!i)throw Error(s(453));return i;case"body":if(i=o.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function fl(i){for(var o=i.attributes;o.length;)i.removeAttributeNode(o[0]);Zo(i)}var qn=new Map,u_=new Set;function fc(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var es=oe.d;oe.d={f:cC,r:fC,D:dC,C:hC,L:mC,m:pC,X:yC,S:gC,M:_C};function cC(){var i=es.f(),o=nc();return i||o}function fC(i){var o=Rn(i);o!==null&&o.tag===5&&o.type==="form"?xg(o):es.r(i)}var Pr=typeof document>"u"?null:document;function c_(i,o,a){var u=Pr;if(u&&typeof o=="string"&&o){var g=un(o);g='link[rel="'+i+'"][href="'+g+'"]',typeof a=="string"&&(g+='[crossorigin="'+a+'"]'),u_.has(g)||(u_.add(g),i={rel:i,crossOrigin:a,href:o},u.querySelector(g)===null&&(o=u.createElement("link"),Xt(o,"link",i),Rt(o),u.head.appendChild(o)))}}function dC(i){es.D(i),c_("dns-prefetch",i,null)}function hC(i,o){es.C(i,o),c_("preconnect",i,o)}function mC(i,o,a){es.L(i,o,a);var u=Pr;if(u&&i&&o){var g='link[rel="preload"][as="'+un(o)+'"]';o==="image"&&a&&a.imageSrcSet?(g+='[imagesrcset="'+un(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(g+='[imagesizes="'+un(a.imageSizes)+'"]')):g+='[href="'+un(i)+'"]';var _=g;switch(o){case"style":_=Vr(i);break;case"script":_=Ur(i)}qn.has(_)||(i=T({rel:"preload",href:o==="image"&&a&&a.imageSrcSet?void 0:i,as:o},a),qn.set(_,i),u.querySelector(g)!==null||o==="style"&&u.querySelector(dl(_))||o==="script"&&u.querySelector(hl(_))||(o=u.createElement("link"),Xt(o,"link",i),Rt(o),u.head.appendChild(o)))}}function pC(i,o){es.m(i,o);var a=Pr;if(a&&i){var u=o&&typeof o.as=="string"?o.as:"script",g='link[rel="modulepreload"][as="'+un(u)+'"][href="'+un(i)+'"]',_=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":_=Ur(i)}if(!qn.has(_)&&(i=T({rel:"modulepreload",href:i},o),qn.set(_,i),a.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hl(_)))return}u=a.createElement("link"),Xt(u,"link",i),Rt(u),a.head.appendChild(u)}}}function gC(i,o,a){es.S(i,o,a);var u=Pr;if(u&&i){var g=gi(u).hoistableStyles,_=Vr(i);o=o||"default";var A=g.get(_);if(!A){var x={loading:0,preload:null};if(A=u.querySelector(dl(_)))x.loading=5;else{i=T({rel:"stylesheet",href:i,"data-precedence":o},a),(a=qn.get(_))&&fh(i,a);var V=A=u.createElement("link");Rt(V),Xt(V,"link",i),V._p=new Promise(function(Y,X){V.onload=Y,V.onerror=X}),V.addEventListener("load",function(){x.loading|=1}),V.addEventListener("error",function(){x.loading|=2}),x.loading|=4,dc(A,o,u)}A={type:"stylesheet",instance:A,count:1,state:x},g.set(_,A)}}}function yC(i,o){es.X(i,o);var a=Pr;if(a&&i){var u=gi(a).hoistableScripts,g=Ur(i),_=u.get(g);_||(_=a.querySelector(hl(g)),_||(i=T({src:i,async:!0},o),(o=qn.get(g))&&dh(i,o),_=a.createElement("script"),Rt(_),Xt(_,"link",i),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(g,_))}}function _C(i,o){es.M(i,o);var a=Pr;if(a&&i){var u=gi(a).hoistableScripts,g=Ur(i),_=u.get(g);_||(_=a.querySelector(hl(g)),_||(i=T({src:i,async:!0,type:"module"},o),(o=qn.get(g))&&dh(i,o),_=a.createElement("script"),Rt(_),Xt(_,"link",i),a.head.appendChild(_)),_={type:"script",instance:_,count:1,state:null},u.set(g,_))}}function f_(i,o,a,u){var g=(g=Pe.current)?fc(g):null;if(!g)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(o=Vr(a.href),a=gi(g).hoistableStyles,u=a.get(o),u||(u={type:"style",instance:null,count:0,state:null},a.set(o,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){i=Vr(a.href);var _=gi(g).hoistableStyles,A=_.get(i);if(A||(g=g.ownerDocument||g,A={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},_.set(i,A),(_=g.querySelector(dl(i)))&&!_._p&&(A.instance=_,A.state.loading=5),qn.has(i)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},qn.set(i,a),_||vC(g,i,a,A.state))),o&&u===null)throw Error(s(528,""));return A}if(o&&u!==null)throw Error(s(529,""));return null;case"script":return o=a.async,a=a.src,typeof a=="string"&&o&&typeof o!="function"&&typeof o!="symbol"?(o=Ur(a),a=gi(g).hoistableScripts,u=a.get(o),u||(u={type:"script",instance:null,count:0,state:null},a.set(o,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function Vr(i){return'href="'+un(i)+'"'}function dl(i){return'link[rel="stylesheet"]['+i+"]"}function d_(i){return T({},i,{"data-precedence":i.precedence,precedence:null})}function vC(i,o,a,u){i.querySelector('link[rel="preload"][as="style"]['+o+"]")?u.loading=1:(o=i.createElement("link"),u.preload=o,o.addEventListener("load",function(){return u.loading|=1}),o.addEventListener("error",function(){return u.loading|=2}),Xt(o,"link",a),Rt(o),i.head.appendChild(o))}function Ur(i){return'[src="'+un(i)+'"]'}function hl(i){return"script[async]"+i}function h_(i,o,a){if(o.count++,o.instance===null)switch(o.type){case"style":var u=i.querySelector('style[data-href~="'+un(a.href)+'"]');if(u)return o.instance=u,Rt(u),u;var g=T({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return u=(i.ownerDocument||i).createElement("style"),Rt(u),Xt(u,"style",g),dc(u,a.precedence,i),o.instance=u;case"stylesheet":g=Vr(a.href);var _=i.querySelector(dl(g));if(_)return o.state.loading|=4,o.instance=_,Rt(_),_;u=d_(a),(g=qn.get(g))&&fh(u,g),_=(i.ownerDocument||i).createElement("link"),Rt(_);var A=_;return A._p=new Promise(function(x,V){A.onload=x,A.onerror=V}),Xt(_,"link",u),o.state.loading|=4,dc(_,a.precedence,i),o.instance=_;case"script":return _=Ur(a.src),(g=i.querySelector(hl(_)))?(o.instance=g,Rt(g),g):(u=a,(g=qn.get(_))&&(u=T({},a),dh(u,g)),i=i.ownerDocument||i,g=i.createElement("script"),Rt(g),Xt(g,"link",u),i.head.appendChild(g),o.instance=g);case"void":return null;default:throw Error(s(443,o.type))}else o.type==="stylesheet"&&(o.state.loading&4)===0&&(u=o.instance,o.state.loading|=4,dc(u,a.precedence,i));return o.instance}function dc(i,o,a){for(var u=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,_=g,A=0;A<u.length;A++){var x=u[A];if(x.dataset.precedence===o)_=x;else if(_!==g)break}_?_.parentNode.insertBefore(i,_.nextSibling):(o=a.nodeType===9?a.head:a,o.insertBefore(i,o.firstChild))}function fh(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.title==null&&(i.title=o.title)}function dh(i,o){i.crossOrigin==null&&(i.crossOrigin=o.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=o.referrerPolicy),i.integrity==null&&(i.integrity=o.integrity)}var hc=null;function m_(i,o,a){if(hc===null){var u=new Map,g=hc=new Map;g.set(a,u)}else g=hc,u=g.get(a),u||(u=new Map,g.set(a,u));if(u.has(i))return u;for(u.set(i,null),a=a.getElementsByTagName(i),g=0;g<a.length;g++){var _=a[g];if(!(_[mi]||_[xt]||i==="link"&&_.getAttribute("rel")==="stylesheet")&&_.namespaceURI!=="http://www.w3.org/2000/svg"){var A=_.getAttribute(o)||"";A=i+A;var x=u.get(A);x?x.push(_):u.set(A,[_])}}return u}function p_(i,o,a){i=i.ownerDocument||i,i.head.insertBefore(a,o==="title"?i.querySelector("head > title"):null)}function TC(i,o,a){if(a===1||o.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof o.precedence!="string"||typeof o.href!="string"||o.href==="")break;return!0;case"link":if(typeof o.rel!="string"||typeof o.href!="string"||o.href===""||o.onLoad||o.onError)break;switch(o.rel){case"stylesheet":return i=o.disabled,typeof o.precedence=="string"&&i==null;default:return!0}case"script":if(o.async&&typeof o.async!="function"&&typeof o.async!="symbol"&&!o.onLoad&&!o.onError&&o.src&&typeof o.src=="string")return!0}return!1}function g_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}function EC(i,o,a,u){if(a.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var g=Vr(u.href),_=o.querySelector(dl(g));if(_){o=_._p,o!==null&&typeof o=="object"&&typeof o.then=="function"&&(i.count++,i=mc.bind(i),o.then(i,i)),a.state.loading|=4,a.instance=_,Rt(_);return}_=o.ownerDocument||o,u=d_(u),(g=qn.get(g))&&fh(u,g),_=_.createElement("link"),Rt(_);var A=_;A._p=new Promise(function(x,V){A.onload=x,A.onerror=V}),Xt(_,"link",u),a.instance=_}i.stylesheets===null&&(i.stylesheets=new Map),i.stylesheets.set(a,o),(o=a.state.preload)&&(a.state.loading&3)===0&&(i.count++,a=mc.bind(i),o.addEventListener("load",a),o.addEventListener("error",a))}}var hh=0;function SC(i,o){return i.stylesheets&&i.count===0&&gc(i,i.stylesheets),0<i.count||0<i.imgCount?function(a){var u=setTimeout(function(){if(i.stylesheets&&gc(i,i.stylesheets),i.unsuspend){var _=i.unsuspend;i.unsuspend=null,_()}},6e4+o);0<i.imgBytes&&hh===0&&(hh=62500*nC());var g=setTimeout(function(){if(i.waitingForImages=!1,i.count===0&&(i.stylesheets&&gc(i,i.stylesheets),i.unsuspend)){var _=i.unsuspend;i.unsuspend=null,_()}},(i.imgBytes>hh?50:800)+o);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var pc=null;function gc(i,o){i.stylesheets=null,i.unsuspend!==null&&(i.count++,pc=new Map,o.forEach(AC,i),pc=null,mc.call(i))}function AC(i,o){if(!(o.state.loading&4)){var a=pc.get(i);if(a)var u=a.get(null);else{a=new Map,pc.set(i,a);for(var g=i.querySelectorAll("link[data-precedence],style[data-precedence]"),_=0;_<g.length;_++){var A=g[_];(A.nodeName==="LINK"||A.getAttribute("media")!=="not all")&&(a.set(A.dataset.precedence,A),u=A)}u&&a.set(null,u)}g=o.instance,A=g.getAttribute("data-precedence"),_=a.get(A)||u,_===u&&a.set(null,g),a.set(A,g),this.count++,u=mc.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),_?_.parentNode.insertBefore(g,_.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(g,i.firstChild)),o.state.loading|=4}}var ml={$$typeof:W,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function CC(i,o,a,u,g,_,A,x,V){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=_,this.onRecoverableError=A,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function y_(i,o,a,u,g,_,A,x,V,Y,X,ne){return i=new CC(i,o,a,A,V,Y,X,ne,x),o=1,_===!0&&(o|=24),_=Tn(3,null,null,o),i.current=_,_.stateNode=i,o=Jf(),o.refCount++,i.pooledCache=o,o.refCount++,_.memoizedState={element:u,isDehydrated:a,cache:o},Xf(_),i}function __(i){return i?(i=dr,i):dr}function v_(i,o,a,u,g,_){g=__(g),u.context===null?u.context=g:u.pendingContext=g,u=Is(o),u.payload={element:a},_=_===void 0?null:_,_!==null&&(u.callback=_),a=xs(i,u,o),a!==null&&(pn(a,i,o),Ja(a,i,o))}function T_(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var a=i.retryLane;i.retryLane=a!==0&&a<o?a:o}}function mh(i,o){T_(i,o),(i=i.alternate)&&T_(i,o)}function E_(i){if(i.tag===13||i.tag===31){var o=So(i,67108864);o!==null&&pn(o,i,67108864),mh(i,67108864)}}function S_(i){if(i.tag===13||i.tag===31){var o=In();o=uo(o);var a=So(i,o);a!==null&&pn(a,i,o),mh(i,o)}}var yc=!0;function IC(i,o,a,u){var g=J.T;J.T=null;var _=oe.p;try{oe.p=2,ph(i,o,a,u)}finally{oe.p=_,J.T=g}}function xC(i,o,a,u){var g=J.T;J.T=null;var _=oe.p;try{oe.p=8,ph(i,o,a,u)}finally{oe.p=_,J.T=g}}function ph(i,o,a,u){if(yc){var g=gh(u);if(g===null)th(i,o,u,_c,a),C_(i,u);else if(wC(g,i,o,a,u))u.stopPropagation();else if(C_(i,u),o&4&&-1<RC.indexOf(i)){for(;g!==null;){var _=Rn(g);if(_!==null)switch(_.tag){case 3:if(_=_.stateNode,_.current.memoizedState.isDehydrated){var A=ci(_.pendingLanes);if(A!==0){var x=_;for(x.pendingLanes|=2,x.entangledLanes|=2;A;){var V=1<<31-vt(A);x.entanglements[1]|=V,A&=~V}Ni(_),(Ze&6)===0&&(ec=rn()+500,ll(0))}}break;case 31:case 13:x=So(_,2),x!==null&&pn(x,_,2),nc(),mh(_,2)}if(_=gh(u),_===null&&th(i,o,u,_c,a),_===g)break;g=_}g!==null&&u.stopPropagation()}else th(i,o,u,null,a)}}function gh(i){return i=wn(i),yh(i)}var _c=null;function yh(i){if(_c=null,i=pi(i),i!==null){var o=l(i);if(o===null)i=null;else{var a=o.tag;if(a===13){if(i=c(o),i!==null)return i;i=null}else if(a===31){if(i=d(o),i!==null)return i;i=null}else if(a===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return _c=i,null}function A_(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(oo()){case ya:return 2;case _a:return 8;case cs:case Af:return 32;case Xl:return 268435456;default:return 32}default:return 32}}var _h=!1,ks=null,qs=null,Os=null,pl=new Map,gl=new Map,Bs=[],RC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function C_(i,o){switch(i){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":qs=null;break;case"mouseover":case"mouseout":Os=null;break;case"pointerover":case"pointerout":pl.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(o.pointerId)}}function yl(i,o,a,u,g,_){return i===null||i.nativeEvent!==_?(i={blockedOn:o,domEventName:a,eventSystemFlags:u,nativeEvent:_,targetContainers:[g]},o!==null&&(o=Rn(o),o!==null&&E_(o)),i):(i.eventSystemFlags|=u,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function wC(i,o,a,u,g){switch(o){case"focusin":return ks=yl(ks,i,o,a,u,g),!0;case"dragenter":return qs=yl(qs,i,o,a,u,g),!0;case"mouseover":return Os=yl(Os,i,o,a,u,g),!0;case"pointerover":var _=g.pointerId;return pl.set(_,yl(pl.get(_)||null,i,o,a,u,g)),!0;case"gotpointercapture":return _=g.pointerId,gl.set(_,yl(gl.get(_)||null,i,o,a,u,g)),!0}return!1}function I_(i){var o=pi(i.target);if(o!==null){var a=l(o);if(a!==null){if(o=a.tag,o===13){if(o=c(a),o!==null){i.blockedOn=o,Kn(i.priority,function(){S_(a)});return}}else if(o===31){if(o=d(a),o!==null){i.blockedOn=o,Kn(i.priority,function(){S_(a)});return}}else if(o===3&&a.stateNode.current.memoizedState.isDehydrated){i.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}i.blockedOn=null}function vc(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var a=gh(i.nativeEvent);if(a===null){a=i.nativeEvent;var u=new a.constructor(a.type,a);ba=u,a.target.dispatchEvent(u),ba=null}else return o=Rn(a),o!==null&&E_(o),i.blockedOn=a,!1;o.shift()}return!0}function x_(i,o,a){vc(i)&&a.delete(o)}function NC(){_h=!1,ks!==null&&vc(ks)&&(ks=null),qs!==null&&vc(qs)&&(qs=null),Os!==null&&vc(Os)&&(Os=null),pl.forEach(x_),gl.forEach(x_)}function Tc(i,o){i.blockedOn===o&&(i.blockedOn=null,_h||(_h=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,NC)))}var Ec=null;function R_(i){Ec!==i&&(Ec=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ec===i&&(Ec=null);for(var o=0;o<i.length;o+=3){var a=i[o],u=i[o+1],g=i[o+2];if(typeof u!="function"){if(yh(u||a)===null)continue;break}var _=Rn(a);_!==null&&(i.splice(o,3),o-=3,gd(_,{pending:!0,data:g,method:a.method,action:u},u,g))}}))}function Lr(i){function o(V){return Tc(V,i)}ks!==null&&Tc(ks,i),qs!==null&&Tc(qs,i),Os!==null&&Tc(Os,i),pl.forEach(o),gl.forEach(o);for(var a=0;a<Bs.length;a++){var u=Bs[a];u.blockedOn===i&&(u.blockedOn=null)}for(;0<Bs.length&&(a=Bs[0],a.blockedOn===null);)I_(a),a.blockedOn===null&&Bs.shift();if(a=(i.ownerDocument||i).$$reactFormReplay,a!=null)for(u=0;u<a.length;u+=3){var g=a[u],_=a[u+1],A=g[zt]||null;if(typeof _=="function")A||R_(a);else if(A){var x=null;if(_&&_.hasAttribute("formAction")){if(g=_,A=_[zt]||null)x=A.formAction;else if(yh(g)!==null)continue}else x=A.action;typeof x=="function"?a[u+1]=x:(a.splice(u,3),u-=3),R_(a)}}}function w_(){function i(_){_.canIntercept&&_.info==="react-transition"&&_.intercept({handler:function(){return new Promise(function(A){return g=A})},focusReset:"manual",scroll:"manual"})}function o(){g!==null&&(g(),g=null),u||setTimeout(a,20)}function a(){if(!u&&!navigation.transition){var _=navigation.currentEntry;_&&_.url!=null&&navigation.navigate(_.url,{state:_.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",i),navigation.addEventListener("navigatesuccess",o),navigation.addEventListener("navigateerror",o),setTimeout(a,100),function(){u=!0,navigation.removeEventListener("navigate",i),navigation.removeEventListener("navigatesuccess",o),navigation.removeEventListener("navigateerror",o),g!==null&&(g(),g=null)}}}function vh(i){this._internalRoot=i}Sc.prototype.render=vh.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(s(409));var a=o.current,u=In();v_(a,u,i,o,null,null)},Sc.prototype.unmount=vh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;v_(i.current,2,null,i,null,null),nc(),o[hi]=null}};function Sc(i){this._internalRoot=i}Sc.prototype.unstable_scheduleHydration=function(i){if(i){var o=nu();i={blockedOn:null,target:i,priority:o};for(var a=0;a<Bs.length&&o!==0&&o<Bs[a].priority;a++);Bs.splice(a,0,i),a===0&&I_(i)}};var N_=e.version;if(N_!=="19.2.1")throw Error(s(527,N_,"19.2.1"));oe.findDOMNode=function(i){var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=p(o),i=i!==null?v(i):null,i=i===null?null:i.stateNode,i};var bC={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ac=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ac.isDisabled&&Ac.supportsFiber)try{Yn=Ac.inject(bC),Yt=Ac}catch{}}return vl.createRoot=function(i,o){if(!r(i))throw Error(s(299));var a=!1,u="",g=Lg,_=kg,A=qg;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(g=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(A=o.onRecoverableError)),o=y_(i,1,!1,null,null,a,u,null,g,_,A,w_),i[hi]=o.current,eh(i),new vh(o)},vl.hydrateRoot=function(i,o,a){if(!r(i))throw Error(s(299));var u=!1,g="",_=Lg,A=kg,x=qg,V=null;return a!=null&&(a.unstable_strictMode===!0&&(u=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onUncaughtError!==void 0&&(_=a.onUncaughtError),a.onCaughtError!==void 0&&(A=a.onCaughtError),a.onRecoverableError!==void 0&&(x=a.onRecoverableError),a.formState!==void 0&&(V=a.formState)),o=y_(i,1,!0,o,a??null,u,g,V,_,A,x,w_),o.context=__(null),a=o.current,u=In(),u=uo(u),g=Is(u),g.callback=null,xs(a,g,u),a=u,o.current.lanes=a,ao(o,a),Ni(o),i[hi]=o.current,eh(i),new Sc(o)},vl.version="19.2.1",vl}var O_;function BC(){if(O_)return Sh.exports;O_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Sh.exports=OC(),Sh.exports}var zC=BC();const FC=xT(zC);var On=(n=>(n.Food="Food",n.Travel="Travel",n.Fashion="Fashion",n.Technology="Technology",n.Lifestyle="Lifestyle",n.Journal="Journal",n))(On||{}),Je=(n=>(n.Paragraph="paragraph",n.Heading1="h1",n.Heading2="h2",n.Heading3="h3",n.Image="image",n.Video="video",n.Quote="quote",n.List="list",n.OrderedList="ordered-list",n.Code="code",n.Divider="divider",n))(Je||{});/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HC=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),GC=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,s)=>s?s.toUpperCase():t.toLowerCase()),B_=n=>{const e=GC(n);return e.charAt(0).toUpperCase()+e.slice(1)},wT=(...n)=>n.filter((e,t,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===t).join(" ").trim(),YC=n=>{for(const e in n)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var JC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KC=ve.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:s,className:r="",children:l,iconNode:c,...d},y)=>ve.createElement("svg",{ref:y,...JC,width:e,height:e,stroke:n,strokeWidth:s?Number(t)*24/Number(e):t,className:wT("lucide",r),...!l&&!YC(d)&&{"aria-hidden":"true"},...d},[...c.map(([p,v])=>ve.createElement(p,v)),...Array.isArray(l)?l:[l]]));/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=(n,e)=>{const t=ve.forwardRef(({className:s,...r},l)=>ve.createElement(KC,{ref:l,iconNode:e,className:wT(`lucide-${HC(B_(n))}`,`lucide-${n}`,s),...r}));return t.displayName=B_(n),t};/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QC=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],$C=Ue("bold",QC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XC=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],WC=Ue("calendar",XC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZC=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],jC=Ue("camera",ZC);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],t1=Ue("check",e1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],i1=Ue("chevron-left",n1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s1=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],o1=Ue("code",s1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]],a1=Ue("coffee",r1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]],u1=Ue("ellipsis",l1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],f1=Ue("eye",c1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],h1=Ue("file-text",d1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],p1=Ue("globe",m1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],y1=Ue("hash",g1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],v1=Ue("image",_1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T1=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],E1=Ue("italic",T1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S1=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],A1=Ue("link",S1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M11 5h10",key:"1cz7ny"}],["path",{d:"M11 12h10",key:"1438ji"}],["path",{d:"M11 19h10",key:"11t30w"}],["path",{d:"M4 4h1v5",key:"10yrso"}],["path",{d:"M4 9h2",key:"r1h2o0"}],["path",{d:"M6.5 20H3.4c0-1 2.6-1.925 2.6-3.5a1.5 1.5 0 0 0-2.6-1.02",key:"xtkcd5"}]],I1=Ue("list-ordered",C1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],R1=Ue("list",x1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],N1=Ue("menu",w1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M5 12h14",key:"1ays0h"}]],M1=Ue("minus",b1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],P1=Ue("move",D1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],U1=Ue("palette",V1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],k1=Ue("panels-top-left",L1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["path",{d:"M15.707 21.293a1 1 0 0 1-1.414 0l-1.586-1.586a1 1 0 0 1 0-1.414l5.586-5.586a1 1 0 0 1 1.414 0l1.586 1.586a1 1 0 0 1 0 1.414z",key:"nt11vn"}],["path",{d:"m18 13-1.375-6.874a1 1 0 0 0-.746-.776L3.235 2.028a1 1 0 0 0-1.207 1.207L5.35 15.879a1 1 0 0 0 .776.746L13 18",key:"15qc1e"}],["path",{d:"m2.3 2.3 7.286 7.286",key:"1wuzzi"}],["circle",{cx:"11",cy:"11",r:"2",key:"xmgehs"}]],O1=Ue("pen-tool",q1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],z1=Ue("plane",B1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],H1=Ue("plus",F1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G1=[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]],Y1=Ue("quote",G1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],K1=Ue("search",J1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],$1=Ue("send",Q1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],W1=Ue("smartphone",X1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z1=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],j1=Ue("sparkles",Z1);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eI=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 19H5",key:"vjpgq2"}]],tI=Ue("text-align-center",eI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nI=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 19H7",key:"4cu937"}]],iI=Ue("text-align-end",nI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sI=[["path",{d:"M21 5H3",key:"1fi0y6"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 19H3",key:"z6ezky"}]],oI=Ue("text-align-start",sI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],aI=Ue("trash-2",rI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lI=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],uI=Ue("type",lI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cI=[["path",{d:"M6 4v6a6 6 0 0 0 12 0V4",key:"9kb039"}],["line",{x1:"4",x2:"20",y1:"20",y2:"20",key:"nun2al"}]],fI=Ue("underline",cI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dI=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],hI=Ue("video",dI);/**
 * @license lucide-react v0.555.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],pI=Ue("x",mI),me={PenTool:O1,Layout:k1,Image:v1,Type:uI,Quote:Y1,List:R1,MoreHorizontal:u1,ChevronLeft:i1,Plus:H1,Trash2:aI,Send:$1,Eye:f1,Calendar:WC,Search:K1,Sparkles:j1,Move:P1,X:pI,Check:t1,Camera:jC,Plane:z1,Coffee:a1,Smartphone:W1,Globe:p1,FileText:h1,Menu:N1,Bold:$C,Italic:E1,Underline:fI,Link:A1,AlignLeft:oI,AlignCenter:tI,AlignRight:iI,Video:hI,Code:o1,ListOrdered:I1,Minus:M1,Hash:y1,Palette:U1};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let gI,yI;function _I(){return{geminiUrl:gI,vertexUrl:yI}}function vI(n,e,t,s){var r,l;if(!(n!=null&&n.baseUrl)){const c=_I();return e?(r=c.vertexUrl)!==null&&r!==void 0?r:t:(l=c.geminiUrl)!==null&&l!==void 0?l:s}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class as{}function de(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(s,r)=>{if(Object.prototype.hasOwnProperty.call(e,r)){const l=e[r];return l!=null?String(l):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function h(n,e,t){for(let l=0;l<e.length-1;l++){const c=e[l];if(c.endsWith("[]")){const d=c.slice(0,-2);if(!(d in n))if(Array.isArray(t))n[d]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${c}`);if(Array.isArray(n[d])){const y=n[d];if(Array.isArray(t))for(let p=0;p<y.length;p++){const v=y[p];h(v,e.slice(l+1),t[p])}else for(const p of y)h(p,e.slice(l+1),t)}return}else if(c.endsWith("[0]")){const d=c.slice(0,-3);d in n||(n[d]=[{}]);const y=n[d];h(y[0],e.slice(l+1),t);return}(!n[c]||typeof n[c]!="object")&&(n[c]={}),n=n[c]}const s=e[e.length-1],r=n[s];if(r!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===r)return;if(typeof r=="object"&&typeof t=="object"&&r!==null&&t!==null)Object.assign(r,t);else throw new Error(`Cannot set value for an existing key. Key: ${s}`)}else s==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[s]=t}function f(n,e,t=void 0){try{if(e.length===1&&e[0]==="_self")return n;for(let s=0;s<e.length;s++){if(typeof n!="object"||n===null)return t;const r=e[s];if(r.endsWith("[]")){const l=r.slice(0,-2);if(l in n){const c=n[l];return Array.isArray(c)?c.map(d=>f(d,e.slice(s+1),t)):t}else return t}else n=n[r]}return n}catch(s){if(s instanceof TypeError)return t;throw s}}function TI(n,e){for(const[t,s]of Object.entries(e)){const r=t.split("."),l=s.split("."),c=new Set;let d=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){d=y;break}if(d!==-1&&l.length>d)for(let y=d;y<l.length;y++){const p=l[y];p!=="*"&&!p.endsWith("[]")&&!p.endsWith("[0]")&&c.add(p)}Uh(n,r,l,0,c)}}function Uh(n,e,t,s,r){if(s>=e.length||typeof n!="object"||n===null)return;const l=e[s];if(l.endsWith("[]")){const c=l.slice(0,-2),d=n;if(c in d&&Array.isArray(d[c]))for(const y of d[c])Uh(y,e,t,s+1,r)}else if(l==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const c=n,d=Object.keys(c).filter(p=>!p.startsWith("_")&&!r.has(p)),y={};for(const p of d)y[p]=c[p];for(const[p,v]of Object.entries(y)){const T=[];for(const S of t.slice(s))S==="*"?T.push(p):T.push(S);h(c,T,v)}for(const p of d)delete c[p]}}else{const c=n;l in c&&Uh(c[l],e,t,s+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function hm(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function EI(n){const e={},t=f(n,["operationName"]);t!=null&&h(e,["operationName"],t);const s=f(n,["resourceName"]);return s!=null&&h(e,["_url","resourceName"],s),e}function SI(n){const e={},t=f(n,["name"]);t!=null&&h(e,["name"],t);const s=f(n,["metadata"]);s!=null&&h(e,["metadata"],s);const r=f(n,["done"]);r!=null&&h(e,["done"],r);const l=f(n,["error"]);l!=null&&h(e,["error"],l);const c=f(n,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],CI(c)),e}function AI(n){const e={},t=f(n,["name"]);t!=null&&h(e,["name"],t);const s=f(n,["metadata"]);s!=null&&h(e,["metadata"],s);const r=f(n,["done"]);r!=null&&h(e,["done"],r);const l=f(n,["error"]);l!=null&&h(e,["error"],l);const c=f(n,["response"]);return c!=null&&h(e,["response"],II(c)),e}function CI(n){const e={},t=f(n,["generatedSamples"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(c=>xI(c))),h(e,["generatedVideos"],l)}const s=f(n,["raiMediaFilteredCount"]);s!=null&&h(e,["raiMediaFilteredCount"],s);const r=f(n,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function II(n){const e={},t=f(n,["videos"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(c=>RI(c))),h(e,["generatedVideos"],l)}const s=f(n,["raiMediaFilteredCount"]);s!=null&&h(e,["raiMediaFilteredCount"],s);const r=f(n,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function xI(n){const e={},t=f(n,["video"]);return t!=null&&h(e,["video"],PI(t)),e}function RI(n){const e={},t=f(n,["_self"]);return t!=null&&h(e,["video"],VI(t)),e}function wI(n){const e={},t=f(n,["operationName"]);return t!=null&&h(e,["_url","operationName"],t),e}function NI(n){const e={},t=f(n,["operationName"]);return t!=null&&h(e,["_url","operationName"],t),e}function bI(n){const e={},t=f(n,["name"]);t!=null&&h(e,["name"],t);const s=f(n,["metadata"]);s!=null&&h(e,["metadata"],s);const r=f(n,["done"]);r!=null&&h(e,["done"],r);const l=f(n,["error"]);l!=null&&h(e,["error"],l);const c=f(n,["response"]);return c!=null&&h(e,["response"],MI(c)),e}function MI(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["parent"]);s!=null&&h(e,["parent"],s);const r=f(n,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function NT(n){const e={},t=f(n,["name"]);t!=null&&h(e,["name"],t);const s=f(n,["metadata"]);s!=null&&h(e,["metadata"],s);const r=f(n,["done"]);r!=null&&h(e,["done"],r);const l=f(n,["error"]);l!=null&&h(e,["error"],l);const c=f(n,["response"]);return c!=null&&h(e,["response"],DI(c)),e}function DI(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["parent"]);s!=null&&h(e,["parent"],s);const r=f(n,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function PI(n){const e={},t=f(n,["uri"]);t!=null&&h(e,["uri"],t);const s=f(n,["encodedVideo"]);s!=null&&h(e,["videoBytes"],hm(s));const r=f(n,["encoding"]);return r!=null&&h(e,["mimeType"],r),e}function VI(n){const e={},t=f(n,["gcsUri"]);t!=null&&h(e,["uri"],t);const s=f(n,["bytesBase64Encoded"]);s!=null&&h(e,["videoBytes"],hm(s));const r=f(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var z_;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(z_||(z_={}));var F_;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(F_||(F_={}));var H_;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(H_||(H_={}));var Gs;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Gs||(Gs={}));var G_;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(G_||(G_={}));var Y_;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Y_||(Y_={}));var J_;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(J_||(J_={}));var K_;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(K_||(K_={}));var Q_;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Q_||(Q_={}));var $_;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.HIGH="HIGH"})($_||($_={}));var X_;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(X_||(X_={}));var W_;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(W_||(W_={}));var Z_;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Z_||(Z_={}));var j_;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE"})(j_||(j_={}));var ev;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(ev||(ev={}));var tv;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(tv||(tv={}));var nv;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(nv||(nv={}));var iv;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(iv||(iv={}));var sv;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sv||(sv={}));var kc;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(kc||(kc={}));var ov;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(ov||(ov={}));var rv;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(rv||(rv={}));var av;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(av||(av={}));var Lh;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Lh||(Lh={}));var lv;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(lv||(lv={}));var uv;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(uv||(uv={}));var cv;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(cv||(cv={}));var fv;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(fv||(fv={}));var dv;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(dv||(dv={}));var hv;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(hv||(hv={}));var mv;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(mv||(mv={}));var pv;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(pv||(pv={}));var gv;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(gv||(gv={}));var yv;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(yv||(yv={}));var _v;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(_v||(_v={}));var vv;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(vv||(vv={}));var Tv;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Tv||(Tv={}));var Ev;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Ev||(Ev={}));var Sv;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Sv||(Sv={}));var Av;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(Av||(Av={}));var Cv;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Cv||(Cv={}));var Iv;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Iv||(Iv={}));var xv;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING"})(xv||(xv={}));var Rv;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Rv||(Rv={}));var wv;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(wv||(wv={}));var Nv;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(Nv||(Nv={}));var bv;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(bv||(bv={}));var Mv;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(Mv||(Mv={}));var Dv;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Dv||(Dv={}));var Pv;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Pv||(Pv={}));var Vv;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Vv||(Vv={}));var Uv;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Uv||(Uv={}));var Lv;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Lv||(Lv={}));var kv;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(kv||(kv={}));var Fr;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(Fr||(Fr={}));class kh{constructor(e){const t={};for(const s of e.headers.entries())t[s[0]]=s[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Tl{get text(){var e,t,s,r,l,c,d,y;if(((r=(s=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const T=[];for(const S of(y=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)!==null&&y!==void 0?y:[]){for(const[R,O]of Object.entries(S))R!=="text"&&R!=="thought"&&R!=="thoughtSignature"&&(O!==null||O!==void 0)&&T.push(R);if(typeof S.text=="string"){if(typeof S.thought=="boolean"&&S.thought)continue;v=!0,p+=S.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,t,s,r,l,c,d,y;if(((r=(s=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const T of(y=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)!==null&&y!==void 0?y:[]){for(const[S,R]of Object.entries(T))S!=="inlineData"&&(R!==null||R!==void 0)&&v.push(S);T.inlineData&&typeof T.inlineData.data=="string"&&(p+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,t,s,r,l,c,d,y;if(((r=(s=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,t,s,r,l,c,d,y,p;if(((r=(s=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,t,s,r,l,c,d,y,p;if(((r=(s=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||s===void 0?void 0:s.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(d=(c=(l=this.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content)===null||d===void 0?void 0:d.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class qv{}class Ov{}class UI{}class LI{}class kI{}class qI{}class Bv{}class zv{}class Fv{}class OI{}class qc{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const s=new qc;let r;const l=e;return t?r=AI(l):r=SI(l),Object.assign(s,r),s}}class Hv{}class Gv{}class Yv{}class Jv{}class BI{}class zI{}class FI{}class mm{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const s=new mm,l=bI(e);return Object.assign(s,l),s}}class HI{}class GI{}class YI{}class Kv{}class JI{get text(){var e,t,s;let r="",l=!1;const c=[];for(const d of(s=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&s!==void 0?s:[]){for(const[y,p]of Object.entries(d))y!=="text"&&y!=="thought"&&p!==null&&c.push(y);if(typeof d.text=="string"){if(typeof d.thought=="boolean"&&d.thought)continue;l=!0,r+=d.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),l?r:void 0}get data(){var e,t,s;let r="";const l=[];for(const c of(s=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&s!==void 0?s:[]){for(const[d,y]of Object.entries(c))d!=="inlineData"&&y!==null&&l.push(d);c.inlineData&&typeof c.inlineData.data=="string"&&(r+=atob(c.inlineData.data))}return l.length>0&&console.warn(`there are non-data parts ${l} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class KI{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class pm{_fromAPIResponse({apiResponse:e,_isVertexAI:t}){const s=new pm,l=NT(e);return Object.assign(s,l),s}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $e(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(e.includes("..")||e.includes("?")||e.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function bT(n,e){const t=$e(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function MT(n){return Array.isArray(n)?n.map(e=>Oc(e)):[Oc(n)]}function Oc(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function DT(n){const e=Oc(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function PT(n){const e=Oc(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Qv(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function VT(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Qv(e)):[Qv(n)]}function qh(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function $v(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Xv(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function on(n){if(n==null)throw new Error("ContentUnion is required");return qh(n)?n:{role:"user",parts:VT(n)}}function gm(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const s=on(t);return s.parts&&s.parts.length>0&&s.parts[0].text!==void 0?[s.parts[0].text]:[]});if(n.isVertexAI()){const t=on(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>on(t)):[on(e)]}function Fn(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if($v(n)||Xv(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[on(n)]}const e=[],t=[],s=qh(n[0]);for(const r of n){const l=qh(r);if(l!=s)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(l)e.push(r);else{if($v(r)||Xv(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(r)}}return s||e.push({role:"user",parts:VT(t)}),e}function QI(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(s=>s!=="null");if(t.length===1)e.type=Object.values(Gs).includes(t[0].toUpperCase())?t[0].toUpperCase():Gs.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const s of t)e.anyOf.push({type:Object.values(Gs).includes(s.toUpperCase())?s.toUpperCase():Gs.TYPE_UNSPECIFIED})}}function Hr(n){const e={},t=["items"],s=["anyOf"],r=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const l=n.anyOf;l!=null&&l.length==2&&(l[0].type==="null"?(e.nullable=!0,n=l[1]):l[1].type==="null"&&(e.nullable=!0,n=l[0])),n.type instanceof Array&&QI(n.type,e);for(const[c,d]of Object.entries(n))if(d!=null)if(c=="type"){if(d==="null")throw new Error("type: null can not be the only possible type for the field.");if(d instanceof Array)continue;e.type=Object.values(Gs).includes(d.toUpperCase())?d.toUpperCase():Gs.TYPE_UNSPECIFIED}else if(t.includes(c))e[c]=Hr(d);else if(s.includes(c)){const y=[];for(const p of d){if(p.type=="null"){e.nullable=!0;continue}y.push(Hr(p))}e[c]=y}else if(r.includes(c)){const y={};for(const[p,v]of Object.entries(d))y[p]=Hr(v);e[c]=y}else{if(c==="additionalProperties")continue;e[c]=d}return e}function ym(n){return Hr(n)}function _m(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function vm(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function na(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=Hr(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=Hr(e.response));return n}function ia(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function $I(n,e,t,s=1){const r=!e.startsWith(`${t}/`)&&e.split("/").length===s;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:r?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:r?`${t}/${e}`:e}function ls(n,e){if(typeof e!="string")throw new Error("name must be a string");return $I(n,e,"cachedContents")}function UT(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function no(n){return hm(n)}function XI(n){return n!=null&&typeof n=="object"&&"name"in n}function WI(n){return n!=null&&typeof n=="object"&&"video"in n}function ZI(n){return n!=null&&typeof n=="object"&&"uri"in n}function LT(n){var e;let t;if(XI(n)&&(t=n.name),!(ZI(n)&&(t=n.uri,t===void 0))&&!(WI(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const r=t.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${t}`);t=r[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function kT(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function qT(n){for(const e of["models","tunedModels","publisherModels"])if(jI(n,e))return n[e];return[]}function jI(n,e){return n!==null&&typeof n=="object"&&e in n}function ex(n,e={}){const t=n,s={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(s.responseJsonSchema=t.outputSchema),e.behavior&&(s.behavior=e.behavior),{functionDeclarations:[s]}}function tx(n,e={}){const t=[],s=new Set;for(const r of n){const l=r.name;if(s.has(l))throw new Error(`Duplicate function name ${l} found in MCP tools. Please ensure function names are unique.`);s.add(l);const c=ex(r,e);c.functionDeclarations&&t.push(...c.functionDeclarations)}return{functionDeclarations:t}}function OT(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const s=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,r=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(r>0||s!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(s>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function nx(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function BT(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const r=t.inlinedResponses;if(!Array.isArray(r)||r.length===0)return n;let l=!1;for(const c of r){if(typeof c!="object"||c===null)continue;const y=c.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){l=!0;break}}return l&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function sa(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function zT(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ix(n){const e={},t=f(n,["responsesFile"]);t!=null&&h(e,["fileName"],t);const s=f(n,["inlinedResponses","inlinedResponses"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>kx(c))),h(e,["inlinedResponses"],l)}const r=f(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["inlinedEmbedContentResponses"],l)}return e}function sx(n){const e={},t=f(n,["predictionsFormat"]);t!=null&&h(e,["format"],t);const s=f(n,["gcsDestination","outputUriPrefix"]);s!=null&&h(e,["gcsUri"],s);const r=f(n,["bigqueryDestination","outputUri"]);return r!=null&&h(e,["bigqueryUri"],r),e}function ox(n){const e={},t=f(n,["format"]);t!=null&&h(e,["predictionsFormat"],t);const s=f(n,["gcsUri"]);s!=null&&h(e,["gcsDestination","outputUriPrefix"],s);const r=f(n,["bigqueryUri"]);if(r!=null&&h(e,["bigqueryDestination","outputUri"],r),f(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(f(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Nc(n){const e={},t=f(n,["name"]);t!=null&&h(e,["name"],t);const s=f(n,["metadata","displayName"]);s!=null&&h(e,["displayName"],s);const r=f(n,["metadata","state"]);r!=null&&h(e,["state"],zT(r));const l=f(n,["metadata","createTime"]);l!=null&&h(e,["createTime"],l);const c=f(n,["metadata","endTime"]);c!=null&&h(e,["endTime"],c);const d=f(n,["metadata","updateTime"]);d!=null&&h(e,["updateTime"],d);const y=f(n,["metadata","model"]);y!=null&&h(e,["model"],y);const p=f(n,["metadata","output"]);return p!=null&&h(e,["dest"],ix(BT(p))),e}function Oh(n){const e={},t=f(n,["name"]);t!=null&&h(e,["name"],t);const s=f(n,["displayName"]);s!=null&&h(e,["displayName"],s);const r=f(n,["state"]);r!=null&&h(e,["state"],zT(r));const l=f(n,["error"]);l!=null&&h(e,["error"],l);const c=f(n,["createTime"]);c!=null&&h(e,["createTime"],c);const d=f(n,["startTime"]);d!=null&&h(e,["startTime"],d);const y=f(n,["endTime"]);y!=null&&h(e,["endTime"],y);const p=f(n,["updateTime"]);p!=null&&h(e,["updateTime"],p);const v=f(n,["model"]);v!=null&&h(e,["model"],v);const T=f(n,["inputConfig"]);T!=null&&h(e,["src"],rx(T));const S=f(n,["outputConfig"]);S!=null&&h(e,["dest"],sx(BT(S)));const R=f(n,["completionStats"]);return R!=null&&h(e,["completionStats"],R),e}function rx(n){const e={},t=f(n,["instancesFormat"]);t!=null&&h(e,["format"],t);const s=f(n,["gcsSource","uris"]);s!=null&&h(e,["gcsUri"],s);const r=f(n,["bigquerySource","inputUri"]);return r!=null&&h(e,["bigqueryUri"],r),e}function ax(n,e){const t={};if(f(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(f(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const s=f(e,["fileName"]);s!=null&&h(t,["fileName"],s);const r=f(e,["inlinedRequests"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Lx(n,c))),h(t,["requests","requests"],l)}return t}function lx(n){const e={},t=f(n,["format"]);t!=null&&h(e,["instancesFormat"],t);const s=f(n,["gcsUri"]);s!=null&&h(e,["gcsSource","uris"],s);const r=f(n,["bigqueryUri"]);if(r!=null&&h(e,["bigquerySource","inputUri"],r),f(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(f(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function ux(n){const e={},t=f(n,["data"]);if(t!=null&&h(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function cx(n,e){const t={},s=f(e,["name"]);return s!=null&&h(t,["_url","name"],sa(n,s)),t}function fx(n,e){const t={},s=f(e,["name"]);return s!=null&&h(t,["_url","name"],sa(n,s)),t}function dx(n){const e={},t=f(n,["content"]);t!=null&&h(e,["content"],t);const s=f(n,["citationMetadata"]);s!=null&&h(e,["citationMetadata"],hx(s));const r=f(n,["tokenCount"]);r!=null&&h(e,["tokenCount"],r);const l=f(n,["finishReason"]);l!=null&&h(e,["finishReason"],l);const c=f(n,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const d=f(n,["groundingMetadata"]);d!=null&&h(e,["groundingMetadata"],d);const y=f(n,["index"]);y!=null&&h(e,["index"],y);const p=f(n,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const v=f(n,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(R=>R)),h(e,["safetyRatings"],S)}const T=f(n,["urlContextMetadata"]);return T!=null&&h(e,["urlContextMetadata"],T),e}function hx(n){const e={},t=f(n,["citationSources"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(r=>r)),h(e,["citations"],s)}return e}function FT(n){const e={},t=f(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>Gx(l))),h(e,["parts"],r)}const s=f(n,["role"]);return s!=null&&h(e,["role"],s),e}function mx(n,e){const t={},s=f(n,["displayName"]);if(e!==void 0&&s!=null&&h(e,["batch","displayName"],s),f(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function px(n,e){const t={},s=f(n,["displayName"]);e!==void 0&&s!=null&&h(e,["displayName"],s);const r=f(n,["dest"]);return e!==void 0&&r!=null&&h(e,["outputConfig"],ox(nx(r))),t}function Wv(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["src"]);r!=null&&h(t,["batch","inputConfig"],ax(n,OT(n,r)));const l=f(e,["config"]);return l!=null&&mx(l,t),t}function gx(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["model"],$e(n,s));const r=f(e,["src"]);r!=null&&h(t,["inputConfig"],lx(OT(n,r)));const l=f(e,["config"]);return l!=null&&px(l,t),t}function yx(n,e){const t={},s=f(n,["displayName"]);return e!==void 0&&s!=null&&h(e,["batch","displayName"],s),t}function _x(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["src"]);r!=null&&h(t,["batch","inputConfig"],Ix(n,r));const l=f(e,["config"]);return l!=null&&yx(l,t),t}function vx(n,e){const t={},s=f(e,["name"]);return s!=null&&h(t,["_url","name"],sa(n,s)),t}function Tx(n,e){const t={},s=f(e,["name"]);return s!=null&&h(t,["_url","name"],sa(n,s)),t}function Ex(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["name"]);s!=null&&h(e,["name"],s);const r=f(n,["done"]);r!=null&&h(e,["done"],r);const l=f(n,["error"]);return l!=null&&h(e,["error"],l),e}function Sx(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["name"]);s!=null&&h(e,["name"],s);const r=f(n,["done"]);r!=null&&h(e,["done"],r);const l=f(n,["error"]);return l!=null&&h(e,["error"],l),e}function Ax(n,e){const t={},s=f(e,["contents"]);if(s!=null){let l=gm(n,s);Array.isArray(l)&&(l=l.map(c=>c)),h(t,["requests[]","request","content"],l)}const r=f(e,["config"]);return r!=null&&(h(t,["_self"],Cx(r,t)),TI(t,{"requests[].*":"requests[].request.*"})),t}function Cx(n,e){const t={},s=f(n,["taskType"]);e!==void 0&&s!=null&&h(e,["requests[]","taskType"],s);const r=f(n,["title"]);e!==void 0&&r!=null&&h(e,["requests[]","title"],r);const l=f(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),f(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Ix(n,e){const t={},s=f(e,["fileName"]);s!=null&&h(t,["file_name"],s);const r=f(e,["inlinedRequests"]);return r!=null&&h(t,["requests"],Ax(n,r)),t}function xx(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const s=f(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function Rx(n){const e={},t=f(n,["id"]);t!=null&&h(e,["id"],t);const s=f(n,["args"]);s!=null&&h(e,["args"],s);const r=f(n,["name"]);if(r!=null&&h(e,["name"],r),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function wx(n){const e={},t=f(n,["mode"]);t!=null&&h(e,["mode"],t);const s=f(n,["allowedFunctionNames"]);if(s!=null&&h(e,["allowedFunctionNames"],s),f(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function Nx(n,e,t){const s={},r=f(e,["systemInstruction"]);t!==void 0&&r!=null&&h(t,["systemInstruction"],FT(on(r)));const l=f(e,["temperature"]);l!=null&&h(s,["temperature"],l);const c=f(e,["topP"]);c!=null&&h(s,["topP"],c);const d=f(e,["topK"]);d!=null&&h(s,["topK"],d);const y=f(e,["candidateCount"]);y!=null&&h(s,["candidateCount"],y);const p=f(e,["maxOutputTokens"]);p!=null&&h(s,["maxOutputTokens"],p);const v=f(e,["stopSequences"]);v!=null&&h(s,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&h(s,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&h(s,["logprobs"],S);const R=f(e,["presencePenalty"]);R!=null&&h(s,["presencePenalty"],R);const O=f(e,["frequencyPenalty"]);O!=null&&h(s,["frequencyPenalty"],O);const H=f(e,["seed"]);H!=null&&h(s,["seed"],H);const z=f(e,["responseMimeType"]);z!=null&&h(s,["responseMimeType"],z);const ee=f(e,["responseSchema"]);ee!=null&&h(s,["responseSchema"],ym(ee));const re=f(e,["responseJsonSchema"]);if(re!=null&&h(s,["responseJsonSchema"],re),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const W=f(e,["safetySettings"]);if(t!==void 0&&W!=null){let q=W;Array.isArray(q)&&(q=q.map(D=>Yx(D))),h(t,["safetySettings"],q)}const ue=f(e,["tools"]);if(t!==void 0&&ue!=null){let q=ia(ue);Array.isArray(q)&&(q=q.map(D=>Kx(na(D)))),h(t,["tools"],q)}const he=f(e,["toolConfig"]);if(t!==void 0&&he!=null&&h(t,["toolConfig"],Jx(he)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=f(e,["cachedContent"]);t!==void 0&&j!=null&&h(t,["cachedContent"],ls(n,j));const M=f(e,["responseModalities"]);M!=null&&h(s,["responseModalities"],M);const b=f(e,["mediaResolution"]);b!=null&&h(s,["mediaResolution"],b);const N=f(e,["speechConfig"]);if(N!=null&&h(s,["speechConfig"],_m(N)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=f(e,["thinkingConfig"]);P!=null&&h(s,["thinkingConfig"],P);const U=f(e,["imageConfig"]);return U!=null&&h(s,["imageConfig"],Ux(U)),s}function bx(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(p=>dx(p))),h(e,["candidates"],y)}const r=f(n,["modelVersion"]);r!=null&&h(e,["modelVersion"],r);const l=f(n,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const c=f(n,["responseId"]);c!=null&&h(e,["responseId"],c);const d=f(n,["usageMetadata"]);return d!=null&&h(e,["usageMetadata"],d),e}function Mx(n,e){const t={},s=f(e,["name"]);return s!=null&&h(t,["_url","name"],sa(n,s)),t}function Dx(n,e){const t={},s=f(e,["name"]);return s!=null&&h(t,["_url","name"],sa(n,s)),t}function Px(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&h(e,["enableWidget"],t),e}function Vx(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&h(e,["timeRangeFilter"],t),e}function Ux(n){const e={},t=f(n,["aspectRatio"]);t!=null&&h(e,["aspectRatio"],t);const s=f(n,["imageSize"]);if(s!=null&&h(e,["imageSize"],s),f(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function Lx(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["request","model"],$e(n,s));const r=f(e,["contents"]);if(r!=null){let d=Fn(r);Array.isArray(d)&&(d=d.map(y=>FT(y))),h(t,["request","contents"],d)}const l=f(e,["metadata"]);l!=null&&h(t,["metadata"],l);const c=f(e,["config"]);return c!=null&&h(t,["request","generationConfig"],Nx(n,c,f(t,["request"],{}))),t}function kx(n){const e={},t=f(n,["response"]);t!=null&&h(e,["response"],bx(t));const s=f(n,["error"]);return s!=null&&h(e,["error"],s),e}function qx(n,e){const t={},s=f(n,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const r=f(n,["pageToken"]);if(e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),f(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function Ox(n,e){const t={},s=f(n,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const r=f(n,["pageToken"]);e!==void 0&&r!=null&&h(e,["_query","pageToken"],r);const l=f(n,["filter"]);return e!==void 0&&l!=null&&h(e,["_query","filter"],l),t}function Bx(n){const e={},t=f(n,["config"]);return t!=null&&qx(t,e),e}function zx(n){const e={},t=f(n,["config"]);return t!=null&&Ox(t,e),e}function Fx(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=f(n,["operations"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Nc(c))),h(e,["batchJobs"],l)}return e}function Hx(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=f(n,["batchPredictionJobs"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>Oh(c))),h(e,["batchJobs"],l)}return e}function Gx(n){const e={},t=f(n,["mediaResolution"]);t!=null&&h(e,["mediaResolution"],t);const s=f(n,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const r=f(n,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=f(n,["fileData"]);l!=null&&h(e,["fileData"],xx(l));const c=f(n,["functionCall"]);c!=null&&h(e,["functionCall"],Rx(c));const d=f(n,["functionResponse"]);d!=null&&h(e,["functionResponse"],d);const y=f(n,["inlineData"]);y!=null&&h(e,["inlineData"],ux(y));const p=f(n,["text"]);p!=null&&h(e,["text"],p);const v=f(n,["thought"]);v!=null&&h(e,["thought"],v);const T=f(n,["thoughtSignature"]);T!=null&&h(e,["thoughtSignature"],T);const S=f(n,["videoMetadata"]);return S!=null&&h(e,["videoMetadata"],S),e}function Yx(n){const e={},t=f(n,["category"]);if(t!=null&&h(e,["category"],t),f(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=f(n,["threshold"]);return s!=null&&h(e,["threshold"],s),e}function Jx(n){const e={},t=f(n,["functionCallingConfig"]);t!=null&&h(e,["functionCallingConfig"],wx(t));const s=f(n,["retrievalConfig"]);return s!=null&&h(e,["retrievalConfig"],s),e}function Kx(n){const e={},t=f(n,["functionDeclarations"]);if(t!=null){let v=t;Array.isArray(v)&&(v=v.map(T=>T)),h(e,["functionDeclarations"],v)}if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(n,["googleSearchRetrieval"]);s!=null&&h(e,["googleSearchRetrieval"],s);const r=f(n,["computerUse"]);r!=null&&h(e,["computerUse"],r);const l=f(n,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=f(n,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(n,["googleMaps"]);d!=null&&h(e,["googleMaps"],Px(d));const y=f(n,["googleSearch"]);y!=null&&h(e,["googleSearch"],Vx(y));const p=f(n,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ns;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(ns||(ns={}));class Bo{constructor(e,t,s,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,s,r)}init(e,t,s){var r,l;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let c={config:{}};!s||Object.keys(s).length===0?c={config:{}}:typeof s=="object"?c=Object.assign({},s):c=s,c.config&&(c.config.pageToken=t.nextPageToken),this.paramsInternal=c,this.pageInternalSize=(l=(r=c.config)===null||r===void 0?void 0:r.pageSize)!==null&&l!==void 0?l:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Qx extends as{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Bo(ns.PAGED_ITEM_BATCH_JOBS,s=>this.listInternal(s),await this.listInternal(t),t),this.create=async t=>(this.apiClient.isVertexAI()&&(t.config=this.formatDestination(t.src,t.config)),this.createInternal(t)),this.createEmbeddings=async t=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(t)}}createInlinedGenerateContentRequest(e){const t=Wv(this.apiClient,e),s=t._url,r=de("{model}:batchGenerateContent",s),d=t.batch.inputConfig.requests,y=d.requests,p=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const S=T.systemInstruction;delete T.systemInstruction;const R=T.request;R.systemInstruction=S,T.request=R}p.push(T)}return d.requests=p,delete t.config,delete t._url,delete t._query,{path:r,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const s=t?Object.assign({},t):{},r=Date.now().toString();if(s.displayName||(s.displayName=`genaiBatchJob_${r}`),s.dest===void 0){const l=this.getGcsUri(e),c=this.getBigqueryUri(e);if(l)l.endsWith(".jsonl")?s.dest=`${l.slice(0,-6)}/dest`:s.dest=`${l}_dest_${r}`;else if(c)s.dest=`${c}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return s}async createInternal(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=gx(this.apiClient,e);return d=de("batchPredictionJobs",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Oh(v))}else{const p=Wv(this.apiClient,e);return d=de("{model}:batchGenerateContent",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Nc(v))}}async createEmbeddingsInternal(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=_x(this.apiClient,e);return l=de("{model}:asyncBatchEmbedContent",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>Nc(y))}}async get(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=Dx(this.apiClient,e);return d=de("batchPredictionJobs/{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>Oh(v))}else{const p=Mx(this.apiClient,e);return d=de("batches/{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Nc(v))}}async cancel(e){var t,s,r,l;let c="",d={};if(this.apiClient.isVertexAI()){const y=fx(this.apiClient,e);c=de("batchPredictionJobs/{name}:cancel",y._url),d=y._query,delete y._url,delete y._query,await this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}else{const y=cx(this.apiClient,e);c=de("batches/{name}:cancel",y._url),d=y._query,delete y._url,delete y._query,await this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}}async listInternal(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=zx(e);return d=de("batchPredictionJobs",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=Hx(v),S=new Kv;return Object.assign(S,T),S})}else{const p=Bx(e);return d=de("batches",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=Fx(v),S=new Kv;return Object.assign(S,T),S})}}async delete(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=Tx(this.apiClient,e);return d=de("batchPredictionJobs/{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>Sx(v))}else{const p=vx(this.apiClient,e);return d=de("batches/{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>Ex(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $x(n){const e={},t=f(n,["data"]);if(t!=null&&h(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function Zv(n){const e={},t=f(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>_R(l))),h(e,["parts"],r)}const s=f(n,["role"]);return s!=null&&h(e,["role"],s),e}function Xx(n,e){const t={},s=f(n,["ttl"]);e!==void 0&&s!=null&&h(e,["ttl"],s);const r=f(n,["expireTime"]);e!==void 0&&r!=null&&h(e,["expireTime"],r);const l=f(n,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const c=f(n,["contents"]);if(e!==void 0&&c!=null){let v=Fn(c);Array.isArray(v)&&(v=v.map(T=>Zv(T))),h(e,["contents"],v)}const d=f(n,["systemInstruction"]);e!==void 0&&d!=null&&h(e,["systemInstruction"],Zv(on(d)));const y=f(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>TR(T))),h(e,["tools"],v)}const p=f(n,["toolConfig"]);if(e!==void 0&&p!=null&&h(e,["toolConfig"],vR(p)),f(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function Wx(n,e){const t={},s=f(n,["ttl"]);e!==void 0&&s!=null&&h(e,["ttl"],s);const r=f(n,["expireTime"]);e!==void 0&&r!=null&&h(e,["expireTime"],r);const l=f(n,["displayName"]);e!==void 0&&l!=null&&h(e,["displayName"],l);const c=f(n,["contents"]);if(e!==void 0&&c!=null){let T=Fn(c);Array.isArray(T)&&(T=T.map(S=>S)),h(e,["contents"],T)}const d=f(n,["systemInstruction"]);e!==void 0&&d!=null&&h(e,["systemInstruction"],on(d));const y=f(n,["tools"]);if(e!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(S=>ER(S))),h(e,["tools"],T)}const p=f(n,["toolConfig"]);e!==void 0&&p!=null&&h(e,["toolConfig"],p);const v=f(n,["kmsKeyName"]);return e!==void 0&&v!=null&&h(e,["encryption_spec","kmsKeyName"],v),t}function Zx(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["model"],bT(n,s));const r=f(e,["config"]);return r!=null&&Xx(r,t),t}function jx(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["model"],bT(n,s));const r=f(e,["config"]);return r!=null&&Wx(r,t),t}function eR(n,e){const t={},s=f(e,["name"]);return s!=null&&h(t,["_url","name"],ls(n,s)),t}function tR(n,e){const t={},s=f(e,["name"]);return s!=null&&h(t,["_url","name"],ls(n,s)),t}function nR(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function iR(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function sR(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const s=f(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function oR(n){const e={},t=f(n,["id"]);t!=null&&h(e,["id"],t);const s=f(n,["args"]);s!=null&&h(e,["args"],s);const r=f(n,["name"]);if(r!=null&&h(e,["name"],r),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function rR(n){const e={},t=f(n,["mode"]);t!=null&&h(e,["mode"],t);const s=f(n,["allowedFunctionNames"]);if(s!=null&&h(e,["allowedFunctionNames"],s),f(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function aR(n){const e={};if(f(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=f(n,["description"]);t!=null&&h(e,["description"],t);const s=f(n,["name"]);s!=null&&h(e,["name"],s);const r=f(n,["parameters"]);r!=null&&h(e,["parameters"],r);const l=f(n,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=f(n,["response"]);c!=null&&h(e,["response"],c);const d=f(n,["responseJsonSchema"]);return d!=null&&h(e,["responseJsonSchema"],d),e}function lR(n,e){const t={},s=f(e,["name"]);return s!=null&&h(t,["_url","name"],ls(n,s)),t}function uR(n,e){const t={},s=f(e,["name"]);return s!=null&&h(t,["_url","name"],ls(n,s)),t}function cR(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&h(e,["enableWidget"],t),e}function fR(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&h(e,["timeRangeFilter"],t),e}function dR(n,e){const t={},s=f(n,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const r=f(n,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),t}function hR(n,e){const t={},s=f(n,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const r=f(n,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),t}function mR(n){const e={},t=f(n,["config"]);return t!=null&&dR(t,e),e}function pR(n){const e={},t=f(n,["config"]);return t!=null&&hR(t,e),e}function gR(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=f(n,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["cachedContents"],l)}return e}function yR(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=f(n,["cachedContents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["cachedContents"],l)}return e}function _R(n){const e={},t=f(n,["mediaResolution"]);t!=null&&h(e,["mediaResolution"],t);const s=f(n,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const r=f(n,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=f(n,["fileData"]);l!=null&&h(e,["fileData"],sR(l));const c=f(n,["functionCall"]);c!=null&&h(e,["functionCall"],oR(c));const d=f(n,["functionResponse"]);d!=null&&h(e,["functionResponse"],d);const y=f(n,["inlineData"]);y!=null&&h(e,["inlineData"],$x(y));const p=f(n,["text"]);p!=null&&h(e,["text"],p);const v=f(n,["thought"]);v!=null&&h(e,["thought"],v);const T=f(n,["thoughtSignature"]);T!=null&&h(e,["thoughtSignature"],T);const S=f(n,["videoMetadata"]);return S!=null&&h(e,["videoMetadata"],S),e}function vR(n){const e={},t=f(n,["functionCallingConfig"]);t!=null&&h(e,["functionCallingConfig"],rR(t));const s=f(n,["retrievalConfig"]);return s!=null&&h(e,["retrievalConfig"],s),e}function TR(n){const e={},t=f(n,["functionDeclarations"]);if(t!=null){let v=t;Array.isArray(v)&&(v=v.map(T=>T)),h(e,["functionDeclarations"],v)}if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(n,["googleSearchRetrieval"]);s!=null&&h(e,["googleSearchRetrieval"],s);const r=f(n,["computerUse"]);r!=null&&h(e,["computerUse"],r);const l=f(n,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=f(n,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(n,["googleMaps"]);d!=null&&h(e,["googleMaps"],cR(d));const y=f(n,["googleSearch"]);y!=null&&h(e,["googleSearch"],fR(y));const p=f(n,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function ER(n){const e={},t=f(n,["functionDeclarations"]);if(t!=null){let T=t;Array.isArray(T)&&(T=T.map(S=>aR(S))),h(e,["functionDeclarations"],T)}const s=f(n,["retrieval"]);s!=null&&h(e,["retrieval"],s);const r=f(n,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const l=f(n,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),f(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(n,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const d=f(n,["enterpriseWebSearch"]);d!=null&&h(e,["enterpriseWebSearch"],d);const y=f(n,["googleMaps"]);y!=null&&h(e,["googleMaps"],y);const p=f(n,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const v=f(n,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function SR(n,e){const t={},s=f(n,["ttl"]);e!==void 0&&s!=null&&h(e,["ttl"],s);const r=f(n,["expireTime"]);return e!==void 0&&r!=null&&h(e,["expireTime"],r),t}function AR(n,e){const t={},s=f(n,["ttl"]);e!==void 0&&s!=null&&h(e,["ttl"],s);const r=f(n,["expireTime"]);return e!==void 0&&r!=null&&h(e,["expireTime"],r),t}function CR(n,e){const t={},s=f(e,["name"]);s!=null&&h(t,["_url","name"],ls(n,s));const r=f(e,["config"]);return r!=null&&SR(r,t),t}function IR(n,e){const t={},s=f(e,["name"]);s!=null&&h(t,["_url","name"],ls(n,s));const r=f(e,["config"]);return r!=null&&AR(r,t),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class xR extends as{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Bo(ns.PAGED_ITEM_CACHED_CONTENTS,s=>this.listInternal(s),await this.listInternal(t),t)}async create(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=jx(this.apiClient,e);return d=de("cachedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=Zx(this.apiClient,e);return d=de("cachedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async get(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=uR(this.apiClient,e);return d=de("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=lR(this.apiClient,e);return d=de("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async delete(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=tR(this.apiClient,e);return d=de("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=iR(v),S=new Yv;return Object.assign(S,T),S})}else{const p=eR(this.apiClient,e);return d=de("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=nR(v),S=new Yv;return Object.assign(S,T),S})}}async update(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=IR(this.apiClient,e);return d=de("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>v)}else{const p=CR(this.apiClient,e);return d=de("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>v)}}async listInternal(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=pR(e);return d=de("cachedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=yR(v),S=new Jv;return Object.assign(S,T),S})}else{const p=mR(e);return d=de("cachedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=gR(v),S=new Jv;return Object.assign(S,T),S})}}}function jv(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],s=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&s>=n.length&&(n=void 0),{value:n&&n[s++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function dt(n){return this instanceof dt?(this.v=n,this):new dt(n)}function Gr(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var s=t.apply(n,e||[]),r,l=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),d("next"),d("throw"),d("return",c),r[Symbol.asyncIterator]=function(){return this},r;function c(R){return function(O){return Promise.resolve(O).then(R,T)}}function d(R,O){s[R]&&(r[R]=function(H){return new Promise(function(z,ee){l.push([R,H,z,ee])>1||y(R,H)})},O&&(r[R]=O(r[R])))}function y(R,O){try{p(s[R](O))}catch(H){S(l[0][3],H)}}function p(R){R.value instanceof dt?Promise.resolve(R.value.v).then(v,T):S(l[0][2],R)}function v(R){y("next",R)}function T(R){y("throw",R)}function S(R,O){R(O),l.shift(),l.length&&y(l[0][0],l[0][1])}}function Rl(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof jv=="function"?jv(n):n[Symbol.iterator](),t={},s("next"),s("throw"),s("return"),t[Symbol.asyncIterator]=function(){return this},t);function s(l){t[l]=n[l]&&function(c){return new Promise(function(d,y){c=n[l](c),r(d,y,c.done,c.value)})}}function r(l,c,d,y){Promise.resolve(y).then(function(p){l({value:p,done:d})},c)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function RR(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:HT(t)}function HT(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function wR(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function e0(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let s=0;for(;s<t;)if(n[s].role==="user")e.push(n[s]),s++;else{const r=[];let l=!0;for(;s<t&&n[s].role==="model";)r.push(n[s]),l&&!HT(n[s])&&(l=!1),s++;l?e.push(...r):e.pop()}return e}class NR{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new bR(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class bR{constructor(e,t,s,r={},l=[]){this.apiClient=e,this.modelsModule=t,this.model=s,this.config=r,this.history=l,this.sendPromise=Promise.resolve(),wR(l)}async sendMessage(e){var t;await this.sendPromise;const s=on(e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(s),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var l,c,d;const y=await r,p=(c=(l=y.candidates)===null||l===void 0?void 0:l[0])===null||c===void 0?void 0:c.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let S=[];v!=null&&(S=(d=v.slice(T))!==null&&d!==void 0?d:[]);const R=p?[p]:[];this.recordHistory(s,R,S)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(e){var t;await this.sendPromise;const s=on(e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(s),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const l=await r;return this.processStreamResponse(l,s)}getHistory(e=!1){const t=e?e0(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var s,r;return Gr(this,arguments,function*(){var c,d,y,p;const v=[];try{for(var T=!0,S=Rl(e),R;R=yield dt(S.next()),c=R.done,!c;T=!0){p=R.value,T=!1;const O=p;if(RR(O)){const H=(r=(s=O.candidates)===null||s===void 0?void 0:s[0])===null||r===void 0?void 0:r.content;H!==void 0&&v.push(H)}yield yield dt(O)}}catch(O){d={error:O}}finally{try{!T&&!c&&(y=S.return)&&(yield dt(y.call(S)))}finally{if(d)throw d.error}}this.recordHistory(t,v)})}recordHistory(e,t,s){let r=[];t.length>0&&t.every(l=>l.role!==void 0)?r=t:r.push({role:"model",parts:[]}),s&&s.length>0?this.history.push(...e0(s)):this.history.push(e),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class tf extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,tf.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MR(n){const e={},t=f(n,["file"]);return t!=null&&h(e,["file"],t),e}function DR(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function PR(n){const e={},t=f(n,["name"]);return t!=null&&h(e,["_url","file"],LT(t)),e}function VR(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function UR(n){const e={},t=f(n,["name"]);return t!=null&&h(e,["_url","file"],LT(t)),e}function LR(n,e){const t={},s=f(n,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const r=f(n,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),t}function kR(n){const e={},t=f(n,["config"]);return t!=null&&LR(t,e),e}function qR(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=f(n,["files"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["files"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OR extends as{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Bo(ns.PAGED_ITEM_FILES,s=>this.listInternal(s),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>t)}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=kR(e);return l=de("files",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const p=qR(y),v=new HI;return Object.assign(v,p),v})}}async createInternal(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=MR(e);return l=de("upload/v1beta/files",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const p=DR(y),v=new GI;return Object.assign(v,p),v})}}async get(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=UR(e);return l=de("files/{file}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=PR(e);return l=de("files/{file}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const p=VR(y),v=new YI;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function bc(n){const e={},t=f(n,["data"]);if(t!=null&&h(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function BR(n){const e={},t=f(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>nw(l))),h(e,["parts"],r)}const s=f(n,["role"]);return s!=null&&h(e,["role"],s),e}function zR(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const s=f(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function FR(n){const e={},t=f(n,["id"]);t!=null&&h(e,["id"],t);const s=f(n,["args"]);s!=null&&h(e,["args"],s);const r=f(n,["name"]);if(r!=null&&h(e,["name"],r),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function HR(n){const e={};if(f(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=f(n,["description"]);t!=null&&h(e,["description"],t);const s=f(n,["name"]);s!=null&&h(e,["name"],s);const r=f(n,["parameters"]);r!=null&&h(e,["parameters"],r);const l=f(n,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=f(n,["response"]);c!=null&&h(e,["response"],c);const d=f(n,["responseJsonSchema"]);return d!=null&&h(e,["responseJsonSchema"],d),e}function GR(n){const e={},t=f(n,["modelSelectionConfig"]);t!=null&&h(e,["modelConfig"],t);const s=f(n,["responseJsonSchema"]);s!=null&&h(e,["responseJsonSchema"],s);const r=f(n,["audioTimestamp"]);r!=null&&h(e,["audioTimestamp"],r);const l=f(n,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const c=f(n,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const d=f(n,["frequencyPenalty"]);d!=null&&h(e,["frequencyPenalty"],d);const y=f(n,["logprobs"]);y!=null&&h(e,["logprobs"],y);const p=f(n,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const v=f(n,["mediaResolution"]);v!=null&&h(e,["mediaResolution"],v);const T=f(n,["presencePenalty"]);T!=null&&h(e,["presencePenalty"],T);const S=f(n,["responseLogprobs"]);S!=null&&h(e,["responseLogprobs"],S);const R=f(n,["responseMimeType"]);R!=null&&h(e,["responseMimeType"],R);const O=f(n,["responseModalities"]);O!=null&&h(e,["responseModalities"],O);const H=f(n,["responseSchema"]);H!=null&&h(e,["responseSchema"],H);const z=f(n,["routingConfig"]);z!=null&&h(e,["routingConfig"],z);const ee=f(n,["seed"]);ee!=null&&h(e,["seed"],ee);const re=f(n,["speechConfig"]);re!=null&&h(e,["speechConfig"],GT(re));const W=f(n,["stopSequences"]);W!=null&&h(e,["stopSequences"],W);const ue=f(n,["temperature"]);ue!=null&&h(e,["temperature"],ue);const he=f(n,["thinkingConfig"]);he!=null&&h(e,["thinkingConfig"],he);const j=f(n,["topK"]);j!=null&&h(e,["topK"],j);const M=f(n,["topP"]);if(M!=null&&h(e,["topP"],M),f(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function YR(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&h(e,["enableWidget"],t),e}function JR(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&h(e,["timeRangeFilter"],t),e}function KR(n,e){const t={},s=f(n,["generationConfig"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig"],s);const r=f(n,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const l=f(n,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=f(n,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const d=f(n,["topK"]);e!==void 0&&d!=null&&h(e,["setup","generationConfig","topK"],d);const y=f(n,["maxOutputTokens"]);e!==void 0&&y!=null&&h(e,["setup","generationConfig","maxOutputTokens"],y);const p=f(n,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const v=f(n,["seed"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","seed"],v);const T=f(n,["speechConfig"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","speechConfig"],vm(T));const S=f(n,["thinkingConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","thinkingConfig"],S);const R=f(n,["enableAffectiveDialog"]);e!==void 0&&R!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],R);const O=f(n,["systemInstruction"]);e!==void 0&&O!=null&&h(e,["setup","systemInstruction"],BR(on(O)));const H=f(n,["tools"]);if(e!==void 0&&H!=null){let j=ia(H);Array.isArray(j)&&(j=j.map(M=>sw(na(M)))),h(e,["setup","tools"],j)}const z=f(n,["sessionResumption"]);e!==void 0&&z!=null&&h(e,["setup","sessionResumption"],iw(z));const ee=f(n,["inputAudioTranscription"]);e!==void 0&&ee!=null&&h(e,["setup","inputAudioTranscription"],ee);const re=f(n,["outputAudioTranscription"]);e!==void 0&&re!=null&&h(e,["setup","outputAudioTranscription"],re);const W=f(n,["realtimeInputConfig"]);e!==void 0&&W!=null&&h(e,["setup","realtimeInputConfig"],W);const ue=f(n,["contextWindowCompression"]);e!==void 0&&ue!=null&&h(e,["setup","contextWindowCompression"],ue);const he=f(n,["proactivity"]);return e!==void 0&&he!=null&&h(e,["setup","proactivity"],he),t}function QR(n,e){const t={},s=f(n,["generationConfig"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig"],GR(s));const r=f(n,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const l=f(n,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=f(n,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const d=f(n,["topK"]);e!==void 0&&d!=null&&h(e,["setup","generationConfig","topK"],d);const y=f(n,["maxOutputTokens"]);e!==void 0&&y!=null&&h(e,["setup","generationConfig","maxOutputTokens"],y);const p=f(n,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const v=f(n,["seed"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","seed"],v);const T=f(n,["speechConfig"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","speechConfig"],GT(vm(T)));const S=f(n,["thinkingConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","thinkingConfig"],S);const R=f(n,["enableAffectiveDialog"]);e!==void 0&&R!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],R);const O=f(n,["systemInstruction"]);e!==void 0&&O!=null&&h(e,["setup","systemInstruction"],on(O));const H=f(n,["tools"]);if(e!==void 0&&H!=null){let j=ia(H);Array.isArray(j)&&(j=j.map(M=>ow(na(M)))),h(e,["setup","tools"],j)}const z=f(n,["sessionResumption"]);e!==void 0&&z!=null&&h(e,["setup","sessionResumption"],z);const ee=f(n,["inputAudioTranscription"]);e!==void 0&&ee!=null&&h(e,["setup","inputAudioTranscription"],ee);const re=f(n,["outputAudioTranscription"]);e!==void 0&&re!=null&&h(e,["setup","outputAudioTranscription"],re);const W=f(n,["realtimeInputConfig"]);e!==void 0&&W!=null&&h(e,["setup","realtimeInputConfig"],W);const ue=f(n,["contextWindowCompression"]);e!==void 0&&ue!=null&&h(e,["setup","contextWindowCompression"],ue);const he=f(n,["proactivity"]);return e!==void 0&&he!=null&&h(e,["setup","proactivity"],he),t}function $R(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["setup","model"],$e(n,s));const r=f(e,["config"]);return r!=null&&h(t,["config"],KR(r,t)),t}function XR(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["setup","model"],$e(n,s));const r=f(e,["config"]);return r!=null&&h(t,["config"],QR(r,t)),t}function WR(n){const e={},t=f(n,["musicGenerationConfig"]);return t!=null&&h(e,["musicGenerationConfig"],t),e}function ZR(n){const e={},t=f(n,["weightedPrompts"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(r=>r)),h(e,["weightedPrompts"],s)}return e}function jR(n){const e={},t=f(n,["media"]);if(t!=null){let p=MT(t);Array.isArray(p)&&(p=p.map(v=>bc(v))),h(e,["mediaChunks"],p)}const s=f(n,["audio"]);s!=null&&h(e,["audio"],bc(PT(s)));const r=f(n,["audioStreamEnd"]);r!=null&&h(e,["audioStreamEnd"],r);const l=f(n,["video"]);l!=null&&h(e,["video"],bc(DT(l)));const c=f(n,["text"]);c!=null&&h(e,["text"],c);const d=f(n,["activityStart"]);d!=null&&h(e,["activityStart"],d);const y=f(n,["activityEnd"]);return y!=null&&h(e,["activityEnd"],y),e}function ew(n){const e={},t=f(n,["media"]);if(t!=null){let p=MT(t);Array.isArray(p)&&(p=p.map(v=>v)),h(e,["mediaChunks"],p)}const s=f(n,["audio"]);s!=null&&h(e,["audio"],PT(s));const r=f(n,["audioStreamEnd"]);r!=null&&h(e,["audioStreamEnd"],r);const l=f(n,["video"]);l!=null&&h(e,["video"],DT(l));const c=f(n,["text"]);c!=null&&h(e,["text"],c);const d=f(n,["activityStart"]);d!=null&&h(e,["activityStart"],d);const y=f(n,["activityEnd"]);return y!=null&&h(e,["activityEnd"],y),e}function tw(n){const e={},t=f(n,["setupComplete"]);t!=null&&h(e,["setupComplete"],t);const s=f(n,["serverContent"]);s!=null&&h(e,["serverContent"],s);const r=f(n,["toolCall"]);r!=null&&h(e,["toolCall"],r);const l=f(n,["toolCallCancellation"]);l!=null&&h(e,["toolCallCancellation"],l);const c=f(n,["usageMetadata"]);c!=null&&h(e,["usageMetadata"],rw(c));const d=f(n,["goAway"]);d!=null&&h(e,["goAway"],d);const y=f(n,["sessionResumptionUpdate"]);return y!=null&&h(e,["sessionResumptionUpdate"],y),e}function nw(n){const e={},t=f(n,["mediaResolution"]);t!=null&&h(e,["mediaResolution"],t);const s=f(n,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const r=f(n,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=f(n,["fileData"]);l!=null&&h(e,["fileData"],zR(l));const c=f(n,["functionCall"]);c!=null&&h(e,["functionCall"],FR(c));const d=f(n,["functionResponse"]);d!=null&&h(e,["functionResponse"],d);const y=f(n,["inlineData"]);y!=null&&h(e,["inlineData"],bc(y));const p=f(n,["text"]);p!=null&&h(e,["text"],p);const v=f(n,["thought"]);v!=null&&h(e,["thought"],v);const T=f(n,["thoughtSignature"]);T!=null&&h(e,["thoughtSignature"],T);const S=f(n,["videoMetadata"]);return S!=null&&h(e,["videoMetadata"],S),e}function iw(n){const e={},t=f(n,["handle"]);if(t!=null&&h(e,["handle"],t),f(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function GT(n){const e={},t=f(n,["languageCode"]);t!=null&&h(e,["languageCode"],t);const s=f(n,["voiceConfig"]);if(s!=null&&h(e,["voiceConfig"],s),f(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function sw(n){const e={},t=f(n,["functionDeclarations"]);if(t!=null){let v=t;Array.isArray(v)&&(v=v.map(T=>T)),h(e,["functionDeclarations"],v)}if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(n,["googleSearchRetrieval"]);s!=null&&h(e,["googleSearchRetrieval"],s);const r=f(n,["computerUse"]);r!=null&&h(e,["computerUse"],r);const l=f(n,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=f(n,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(n,["googleMaps"]);d!=null&&h(e,["googleMaps"],YR(d));const y=f(n,["googleSearch"]);y!=null&&h(e,["googleSearch"],JR(y));const p=f(n,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function ow(n){const e={},t=f(n,["functionDeclarations"]);if(t!=null){let T=t;Array.isArray(T)&&(T=T.map(S=>HR(S))),h(e,["functionDeclarations"],T)}const s=f(n,["retrieval"]);s!=null&&h(e,["retrieval"],s);const r=f(n,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const l=f(n,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),f(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(n,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const d=f(n,["enterpriseWebSearch"]);d!=null&&h(e,["enterpriseWebSearch"],d);const y=f(n,["googleMaps"]);y!=null&&h(e,["googleMaps"],y);const p=f(n,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const v=f(n,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function rw(n){const e={},t=f(n,["promptTokenCount"]);t!=null&&h(e,["promptTokenCount"],t);const s=f(n,["cachedContentTokenCount"]);s!=null&&h(e,["cachedContentTokenCount"],s);const r=f(n,["candidatesTokenCount"]);r!=null&&h(e,["responseTokenCount"],r);const l=f(n,["toolUsePromptTokenCount"]);l!=null&&h(e,["toolUsePromptTokenCount"],l);const c=f(n,["thoughtsTokenCount"]);c!=null&&h(e,["thoughtsTokenCount"],c);const d=f(n,["totalTokenCount"]);d!=null&&h(e,["totalTokenCount"],d);const y=f(n,["promptTokensDetails"]);if(y!=null){let R=y;Array.isArray(R)&&(R=R.map(O=>O)),h(e,["promptTokensDetails"],R)}const p=f(n,["cacheTokensDetails"]);if(p!=null){let R=p;Array.isArray(R)&&(R=R.map(O=>O)),h(e,["cacheTokensDetails"],R)}const v=f(n,["candidatesTokensDetails"]);if(v!=null){let R=v;Array.isArray(R)&&(R=R.map(O=>O)),h(e,["responseTokensDetails"],R)}const T=f(n,["toolUsePromptTokensDetails"]);if(T!=null){let R=T;Array.isArray(R)&&(R=R.map(O=>O)),h(e,["toolUsePromptTokensDetails"],R)}const S=f(n,["trafficType"]);return S!=null&&h(e,["trafficType"],S),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aw(n){const e={},t=f(n,["data"]);if(t!=null&&h(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function lw(n){const e={},t=f(n,["content"]);t!=null&&h(e,["content"],t);const s=f(n,["citationMetadata"]);s!=null&&h(e,["citationMetadata"],uw(s));const r=f(n,["tokenCount"]);r!=null&&h(e,["tokenCount"],r);const l=f(n,["finishReason"]);l!=null&&h(e,["finishReason"],l);const c=f(n,["avgLogprobs"]);c!=null&&h(e,["avgLogprobs"],c);const d=f(n,["groundingMetadata"]);d!=null&&h(e,["groundingMetadata"],d);const y=f(n,["index"]);y!=null&&h(e,["index"],y);const p=f(n,["logprobsResult"]);p!=null&&h(e,["logprobsResult"],p);const v=f(n,["safetyRatings"]);if(v!=null){let S=v;Array.isArray(S)&&(S=S.map(R=>R)),h(e,["safetyRatings"],S)}const T=f(n,["urlContextMetadata"]);return T!=null&&h(e,["urlContextMetadata"],T),e}function uw(n){const e={},t=f(n,["citationSources"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(r=>r)),h(e,["citations"],s)}return e}function cw(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["contents"]);if(r!=null){let l=Fn(r);Array.isArray(l)&&(l=l.map(c=>c)),h(t,["contents"],l)}return t}function fw(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["tokensInfo"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>l)),h(e,["tokensInfo"],r)}return e}function dw(n){const e={},t=f(n,["values"]);t!=null&&h(e,["values"],t);const s=f(n,["statistics"]);return s!=null&&h(e,["statistics"],hw(s)),e}function hw(n){const e={},t=f(n,["truncated"]);t!=null&&h(e,["truncated"],t);const s=f(n,["token_count"]);return s!=null&&h(e,["tokenCount"],s),e}function nf(n){const e={},t=f(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>SN(l))),h(e,["parts"],r)}const s=f(n,["role"]);return s!=null&&h(e,["role"],s),e}function mw(n){const e={},t=f(n,["controlType"]);t!=null&&h(e,["controlType"],t);const s=f(n,["enableControlImageComputation"]);return s!=null&&h(e,["computeControl"],s),e}function pw(n){const e={};if(f(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(f(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(f(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function gw(n,e){const t={},s=f(n,["systemInstruction"]);e!==void 0&&s!=null&&h(e,["systemInstruction"],on(s));const r=f(n,["tools"]);if(e!==void 0&&r!=null){let c=r;Array.isArray(c)&&(c=c.map(d=>$T(d))),h(e,["tools"],c)}const l=f(n,["generationConfig"]);return e!==void 0&&l!=null&&h(e,["generationConfig"],aN(l)),t}function yw(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["contents"]);if(r!=null){let c=Fn(r);Array.isArray(c)&&(c=c.map(d=>nf(d))),h(t,["contents"],c)}const l=f(e,["config"]);return l!=null&&pw(l),t}function _w(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["contents"]);if(r!=null){let c=Fn(r);Array.isArray(c)&&(c=c.map(d=>d)),h(t,["contents"],c)}const l=f(e,["config"]);return l!=null&&gw(l,t),t}function vw(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["totalTokens"]);s!=null&&h(e,["totalTokens"],s);const r=f(n,["cachedContentTokenCount"]);return r!=null&&h(e,["cachedContentTokenCount"],r),e}function Tw(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["totalTokens"]);return s!=null&&h(e,["totalTokens"],s),e}function Ew(n,e){const t={},s=f(e,["model"]);return s!=null&&h(t,["_url","name"],$e(n,s)),t}function Sw(n,e){const t={},s=f(e,["model"]);return s!=null&&h(t,["_url","name"],$e(n,s)),t}function Aw(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function Cw(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}function Iw(n,e){const t={},s=f(n,["outputGcsUri"]);e!==void 0&&s!=null&&h(e,["parameters","storageUri"],s);const r=f(n,["negativePrompt"]);e!==void 0&&r!=null&&h(e,["parameters","negativePrompt"],r);const l=f(n,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const c=f(n,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const d=f(n,["guidanceScale"]);e!==void 0&&d!=null&&h(e,["parameters","guidanceScale"],d);const y=f(n,["seed"]);e!==void 0&&y!=null&&h(e,["parameters","seed"],y);const p=f(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const v=f(n,["personGeneration"]);e!==void 0&&v!=null&&h(e,["parameters","personGeneration"],v);const T=f(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&h(e,["parameters","includeSafetyAttributes"],T);const S=f(n,["includeRaiReason"]);e!==void 0&&S!=null&&h(e,["parameters","includeRaiReason"],S);const R=f(n,["language"]);e!==void 0&&R!=null&&h(e,["parameters","language"],R);const O=f(n,["outputMimeType"]);e!==void 0&&O!=null&&h(e,["parameters","outputOptions","mimeType"],O);const H=f(n,["outputCompressionQuality"]);e!==void 0&&H!=null&&h(e,["parameters","outputOptions","compressionQuality"],H);const z=f(n,["addWatermark"]);e!==void 0&&z!=null&&h(e,["parameters","addWatermark"],z);const ee=f(n,["labels"]);e!==void 0&&ee!=null&&h(e,["labels"],ee);const re=f(n,["editMode"]);e!==void 0&&re!=null&&h(e,["parameters","editMode"],re);const W=f(n,["baseSteps"]);return e!==void 0&&W!=null&&h(e,["parameters","editConfig","baseSteps"],W),t}function xw(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["prompt"]);r!=null&&h(t,["instances[0]","prompt"],r);const l=f(e,["referenceImages"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(y=>wN(y))),h(t,["instances[0]","referenceImages"],d)}const c=f(e,["config"]);return c!=null&&Iw(c,t),t}function Rw(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>sf(l))),h(e,["generatedImages"],r)}return e}function ww(n,e){const t={},s=f(n,["taskType"]);e!==void 0&&s!=null&&h(e,["requests[]","taskType"],s);const r=f(n,["title"]);e!==void 0&&r!=null&&h(e,["requests[]","title"],r);const l=f(n,["outputDimensionality"]);if(e!==void 0&&l!=null&&h(e,["requests[]","outputDimensionality"],l),f(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(f(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function Nw(n,e){const t={},s=f(n,["taskType"]);e!==void 0&&s!=null&&h(e,["instances[]","task_type"],s);const r=f(n,["title"]);e!==void 0&&r!=null&&h(e,["instances[]","title"],r);const l=f(n,["outputDimensionality"]);e!==void 0&&l!=null&&h(e,["parameters","outputDimensionality"],l);const c=f(n,["mimeType"]);e!==void 0&&c!=null&&h(e,["instances[]","mimeType"],c);const d=f(n,["autoTruncate"]);return e!==void 0&&d!=null&&h(e,["parameters","autoTruncate"],d),t}function bw(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["contents"]);if(r!=null){let d=gm(n,r);Array.isArray(d)&&(d=d.map(y=>y)),h(t,["requests[]","content"],d)}const l=f(e,["config"]);l!=null&&ww(l,t);const c=f(e,["model"]);return c!==void 0&&h(t,["requests[]","model"],$e(n,c)),t}function Mw(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["contents"]);if(r!=null){let c=gm(n,r);Array.isArray(c)&&(c=c.map(d=>d)),h(t,["instances[]","content"],c)}const l=f(e,["config"]);return l!=null&&Nw(l,t),t}function Dw(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["embeddings"],l)}const r=f(n,["metadata"]);return r!=null&&h(e,["metadata"],r),e}function Pw(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["predictions[]","embeddings"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>dw(c))),h(e,["embeddings"],l)}const r=f(n,["metadata"]);return r!=null&&h(e,["metadata"],r),e}function Vw(n){const e={},t=f(n,["endpoint"]);t!=null&&h(e,["name"],t);const s=f(n,["deployedModelId"]);return s!=null&&h(e,["deployedModelId"],s),e}function Uw(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const s=f(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function Lw(n){const e={},t=f(n,["id"]);t!=null&&h(e,["id"],t);const s=f(n,["args"]);s!=null&&h(e,["args"],s);const r=f(n,["name"]);if(r!=null&&h(e,["name"],r),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function kw(n){const e={},t=f(n,["mode"]);t!=null&&h(e,["mode"],t);const s=f(n,["allowedFunctionNames"]);if(s!=null&&h(e,["allowedFunctionNames"],s),f(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return e}function qw(n){const e={};if(f(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=f(n,["description"]);t!=null&&h(e,["description"],t);const s=f(n,["name"]);s!=null&&h(e,["name"],s);const r=f(n,["parameters"]);r!=null&&h(e,["parameters"],r);const l=f(n,["parametersJsonSchema"]);l!=null&&h(e,["parametersJsonSchema"],l);const c=f(n,["response"]);c!=null&&h(e,["response"],c);const d=f(n,["responseJsonSchema"]);return d!=null&&h(e,["responseJsonSchema"],d),e}function Ow(n,e,t){const s={},r=f(e,["systemInstruction"]);t!==void 0&&r!=null&&h(t,["systemInstruction"],nf(on(r)));const l=f(e,["temperature"]);l!=null&&h(s,["temperature"],l);const c=f(e,["topP"]);c!=null&&h(s,["topP"],c);const d=f(e,["topK"]);d!=null&&h(s,["topK"],d);const y=f(e,["candidateCount"]);y!=null&&h(s,["candidateCount"],y);const p=f(e,["maxOutputTokens"]);p!=null&&h(s,["maxOutputTokens"],p);const v=f(e,["stopSequences"]);v!=null&&h(s,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&h(s,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&h(s,["logprobs"],S);const R=f(e,["presencePenalty"]);R!=null&&h(s,["presencePenalty"],R);const O=f(e,["frequencyPenalty"]);O!=null&&h(s,["frequencyPenalty"],O);const H=f(e,["seed"]);H!=null&&h(s,["seed"],H);const z=f(e,["responseMimeType"]);z!=null&&h(s,["responseMimeType"],z);const ee=f(e,["responseSchema"]);ee!=null&&h(s,["responseSchema"],ym(ee));const re=f(e,["responseJsonSchema"]);if(re!=null&&h(s,["responseJsonSchema"],re),f(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(f(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const W=f(e,["safetySettings"]);if(t!==void 0&&W!=null){let q=W;Array.isArray(q)&&(q=q.map(D=>NN(D))),h(t,["safetySettings"],q)}const ue=f(e,["tools"]);if(t!==void 0&&ue!=null){let q=ia(ue);Array.isArray(q)&&(q=q.map(D=>LN(na(D)))),h(t,["tools"],q)}const he=f(e,["toolConfig"]);if(t!==void 0&&he!=null&&h(t,["toolConfig"],UN(he)),f(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const j=f(e,["cachedContent"]);t!==void 0&&j!=null&&h(t,["cachedContent"],ls(n,j));const M=f(e,["responseModalities"]);M!=null&&h(s,["responseModalities"],M);const b=f(e,["mediaResolution"]);b!=null&&h(s,["mediaResolution"],b);const N=f(e,["speechConfig"]);if(N!=null&&h(s,["speechConfig"],_m(N)),f(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const P=f(e,["thinkingConfig"]);P!=null&&h(s,["thinkingConfig"],P);const U=f(e,["imageConfig"]);return U!=null&&h(s,["imageConfig"],dN(U)),s}function Bw(n,e,t){const s={},r=f(e,["systemInstruction"]);t!==void 0&&r!=null&&h(t,["systemInstruction"],on(r));const l=f(e,["temperature"]);l!=null&&h(s,["temperature"],l);const c=f(e,["topP"]);c!=null&&h(s,["topP"],c);const d=f(e,["topK"]);d!=null&&h(s,["topK"],d);const y=f(e,["candidateCount"]);y!=null&&h(s,["candidateCount"],y);const p=f(e,["maxOutputTokens"]);p!=null&&h(s,["maxOutputTokens"],p);const v=f(e,["stopSequences"]);v!=null&&h(s,["stopSequences"],v);const T=f(e,["responseLogprobs"]);T!=null&&h(s,["responseLogprobs"],T);const S=f(e,["logprobs"]);S!=null&&h(s,["logprobs"],S);const R=f(e,["presencePenalty"]);R!=null&&h(s,["presencePenalty"],R);const O=f(e,["frequencyPenalty"]);O!=null&&h(s,["frequencyPenalty"],O);const H=f(e,["seed"]);H!=null&&h(s,["seed"],H);const z=f(e,["responseMimeType"]);z!=null&&h(s,["responseMimeType"],z);const ee=f(e,["responseSchema"]);ee!=null&&h(s,["responseSchema"],ym(ee));const re=f(e,["responseJsonSchema"]);re!=null&&h(s,["responseJsonSchema"],re);const W=f(e,["routingConfig"]);W!=null&&h(s,["routingConfig"],W);const ue=f(e,["modelSelectionConfig"]);ue!=null&&h(s,["modelConfig"],ue);const he=f(e,["safetySettings"]);if(t!==void 0&&he!=null){let J=he;Array.isArray(J)&&(J=J.map(oe=>oe)),h(t,["safetySettings"],J)}const j=f(e,["tools"]);if(t!==void 0&&j!=null){let J=ia(j);Array.isArray(J)&&(J=J.map(oe=>$T(na(oe)))),h(t,["tools"],J)}const M=f(e,["toolConfig"]);t!==void 0&&M!=null&&h(t,["toolConfig"],M);const b=f(e,["labels"]);t!==void 0&&b!=null&&h(t,["labels"],b);const N=f(e,["cachedContent"]);t!==void 0&&N!=null&&h(t,["cachedContent"],ls(n,N));const P=f(e,["responseModalities"]);P!=null&&h(s,["responseModalities"],P);const U=f(e,["mediaResolution"]);U!=null&&h(s,["mediaResolution"],U);const q=f(e,["speechConfig"]);q!=null&&h(s,["speechConfig"],QT(_m(q)));const D=f(e,["audioTimestamp"]);D!=null&&h(s,["audioTimestamp"],D);const ae=f(e,["thinkingConfig"]);ae!=null&&h(s,["thinkingConfig"],ae);const Ee=f(e,["imageConfig"]);return Ee!=null&&h(s,["imageConfig"],hN(Ee)),s}function t0(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["contents"]);if(r!=null){let c=Fn(r);Array.isArray(c)&&(c=c.map(d=>nf(d))),h(t,["contents"],c)}const l=f(e,["config"]);return l!=null&&h(t,["generationConfig"],Ow(n,l,t)),t}function n0(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["contents"]);if(r!=null){let c=Fn(r);Array.isArray(c)&&(c=c.map(d=>d)),h(t,["contents"],c)}const l=f(e,["config"]);return l!=null&&h(t,["generationConfig"],Bw(n,l,t)),t}function i0(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["candidates"]);if(s!=null){let y=s;Array.isArray(y)&&(y=y.map(p=>lw(p))),h(e,["candidates"],y)}const r=f(n,["modelVersion"]);r!=null&&h(e,["modelVersion"],r);const l=f(n,["promptFeedback"]);l!=null&&h(e,["promptFeedback"],l);const c=f(n,["responseId"]);c!=null&&h(e,["responseId"],c);const d=f(n,["usageMetadata"]);return d!=null&&h(e,["usageMetadata"],d),e}function s0(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["candidates"]);if(s!=null){let p=s;Array.isArray(p)&&(p=p.map(v=>v)),h(e,["candidates"],p)}const r=f(n,["createTime"]);r!=null&&h(e,["createTime"],r);const l=f(n,["modelVersion"]);l!=null&&h(e,["modelVersion"],l);const c=f(n,["promptFeedback"]);c!=null&&h(e,["promptFeedback"],c);const d=f(n,["responseId"]);d!=null&&h(e,["responseId"],d);const y=f(n,["usageMetadata"]);return y!=null&&h(e,["usageMetadata"],y),e}function zw(n,e){const t={};if(f(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=f(n,["numberOfImages"]);e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s);const r=f(n,["aspectRatio"]);e!==void 0&&r!=null&&h(e,["parameters","aspectRatio"],r);const l=f(n,["guidanceScale"]);if(e!==void 0&&l!=null&&h(e,["parameters","guidanceScale"],l),f(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=f(n,["safetyFilterLevel"]);e!==void 0&&c!=null&&h(e,["parameters","safetySetting"],c);const d=f(n,["personGeneration"]);e!==void 0&&d!=null&&h(e,["parameters","personGeneration"],d);const y=f(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&h(e,["parameters","includeSafetyAttributes"],y);const p=f(n,["includeRaiReason"]);e!==void 0&&p!=null&&h(e,["parameters","includeRaiReason"],p);const v=f(n,["language"]);e!==void 0&&v!=null&&h(e,["parameters","language"],v);const T=f(n,["outputMimeType"]);e!==void 0&&T!=null&&h(e,["parameters","outputOptions","mimeType"],T);const S=f(n,["outputCompressionQuality"]);if(e!==void 0&&S!=null&&h(e,["parameters","outputOptions","compressionQuality"],S),f(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(f(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=f(n,["imageSize"]);if(e!==void 0&&R!=null&&h(e,["parameters","sampleImageSize"],R),f(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function Fw(n,e){const t={},s=f(n,["outputGcsUri"]);e!==void 0&&s!=null&&h(e,["parameters","storageUri"],s);const r=f(n,["negativePrompt"]);e!==void 0&&r!=null&&h(e,["parameters","negativePrompt"],r);const l=f(n,["numberOfImages"]);e!==void 0&&l!=null&&h(e,["parameters","sampleCount"],l);const c=f(n,["aspectRatio"]);e!==void 0&&c!=null&&h(e,["parameters","aspectRatio"],c);const d=f(n,["guidanceScale"]);e!==void 0&&d!=null&&h(e,["parameters","guidanceScale"],d);const y=f(n,["seed"]);e!==void 0&&y!=null&&h(e,["parameters","seed"],y);const p=f(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&h(e,["parameters","safetySetting"],p);const v=f(n,["personGeneration"]);e!==void 0&&v!=null&&h(e,["parameters","personGeneration"],v);const T=f(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&h(e,["parameters","includeSafetyAttributes"],T);const S=f(n,["includeRaiReason"]);e!==void 0&&S!=null&&h(e,["parameters","includeRaiReason"],S);const R=f(n,["language"]);e!==void 0&&R!=null&&h(e,["parameters","language"],R);const O=f(n,["outputMimeType"]);e!==void 0&&O!=null&&h(e,["parameters","outputOptions","mimeType"],O);const H=f(n,["outputCompressionQuality"]);e!==void 0&&H!=null&&h(e,["parameters","outputOptions","compressionQuality"],H);const z=f(n,["addWatermark"]);e!==void 0&&z!=null&&h(e,["parameters","addWatermark"],z);const ee=f(n,["labels"]);e!==void 0&&ee!=null&&h(e,["labels"],ee);const re=f(n,["imageSize"]);e!==void 0&&re!=null&&h(e,["parameters","sampleImageSize"],re);const W=f(n,["enhancePrompt"]);return e!==void 0&&W!=null&&h(e,["parameters","enhancePrompt"],W),t}function Hw(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["prompt"]);r!=null&&h(t,["instances[0]","prompt"],r);const l=f(e,["config"]);return l!=null&&zw(l,t),t}function Gw(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["prompt"]);r!=null&&h(t,["instances[0]","prompt"],r);const l=f(e,["config"]);return l!=null&&Fw(l,t),t}function Yw(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>iN(c))),h(e,["generatedImages"],l)}const r=f(n,["positivePromptSafetyAttributes"]);return r!=null&&h(e,["positivePromptSafetyAttributes"],JT(r)),e}function Jw(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["predictions"]);if(s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>sf(c))),h(e,["generatedImages"],l)}const r=f(n,["positivePromptSafetyAttributes"]);return r!=null&&h(e,["positivePromptSafetyAttributes"],KT(r)),e}function Kw(n,e){const t={},s=f(n,["numberOfVideos"]);if(e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s),f(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(f(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=f(n,["durationSeconds"]);if(e!==void 0&&r!=null&&h(e,["parameters","durationSeconds"],r),f(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const l=f(n,["aspectRatio"]);e!==void 0&&l!=null&&h(e,["parameters","aspectRatio"],l);const c=f(n,["resolution"]);e!==void 0&&c!=null&&h(e,["parameters","resolution"],c);const d=f(n,["personGeneration"]);if(e!==void 0&&d!=null&&h(e,["parameters","personGeneration"],d),f(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=f(n,["negativePrompt"]);e!==void 0&&y!=null&&h(e,["parameters","negativePrompt"],y);const p=f(n,["enhancePrompt"]);if(e!==void 0&&p!=null&&h(e,["parameters","enhancePrompt"],p),f(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const v=f(n,["lastFrame"]);e!==void 0&&v!=null&&h(e,["instances[0]","lastFrame"],of(v));const T=f(n,["referenceImages"]);if(e!==void 0&&T!=null){let S=T;Array.isArray(S)&&(S=S.map(R=>$N(R))),h(e,["instances[0]","referenceImages"],S)}if(f(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(f(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function Qw(n,e){const t={},s=f(n,["numberOfVideos"]);e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s);const r=f(n,["outputGcsUri"]);e!==void 0&&r!=null&&h(e,["parameters","storageUri"],r);const l=f(n,["fps"]);e!==void 0&&l!=null&&h(e,["parameters","fps"],l);const c=f(n,["durationSeconds"]);e!==void 0&&c!=null&&h(e,["parameters","durationSeconds"],c);const d=f(n,["seed"]);e!==void 0&&d!=null&&h(e,["parameters","seed"],d);const y=f(n,["aspectRatio"]);e!==void 0&&y!=null&&h(e,["parameters","aspectRatio"],y);const p=f(n,["resolution"]);e!==void 0&&p!=null&&h(e,["parameters","resolution"],p);const v=f(n,["personGeneration"]);e!==void 0&&v!=null&&h(e,["parameters","personGeneration"],v);const T=f(n,["pubsubTopic"]);e!==void 0&&T!=null&&h(e,["parameters","pubsubTopic"],T);const S=f(n,["negativePrompt"]);e!==void 0&&S!=null&&h(e,["parameters","negativePrompt"],S);const R=f(n,["enhancePrompt"]);e!==void 0&&R!=null&&h(e,["parameters","enhancePrompt"],R);const O=f(n,["generateAudio"]);e!==void 0&&O!=null&&h(e,["parameters","generateAudio"],O);const H=f(n,["lastFrame"]);e!==void 0&&H!=null&&h(e,["instances[0]","lastFrame"],ai(H));const z=f(n,["referenceImages"]);if(e!==void 0&&z!=null){let W=z;Array.isArray(W)&&(W=W.map(ue=>XN(ue))),h(e,["instances[0]","referenceImages"],W)}const ee=f(n,["mask"]);e!==void 0&&ee!=null&&h(e,["instances[0]","mask"],QN(ee));const re=f(n,["compressionQuality"]);return e!==void 0&&re!=null&&h(e,["parameters","compressionQuality"],re),t}function $w(n){const e={},t=f(n,["name"]);t!=null&&h(e,["name"],t);const s=f(n,["metadata"]);s!=null&&h(e,["metadata"],s);const r=f(n,["done"]);r!=null&&h(e,["done"],r);const l=f(n,["error"]);l!=null&&h(e,["error"],l);const c=f(n,["response","generateVideoResponse"]);return c!=null&&h(e,["response"],jw(c)),e}function Xw(n){const e={},t=f(n,["name"]);t!=null&&h(e,["name"],t);const s=f(n,["metadata"]);s!=null&&h(e,["metadata"],s);const r=f(n,["done"]);r!=null&&h(e,["done"],r);const l=f(n,["error"]);l!=null&&h(e,["error"],l);const c=f(n,["response"]);return c!=null&&h(e,["response"],eN(c)),e}function Ww(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["prompt"]);r!=null&&h(t,["instances[0]","prompt"],r);const l=f(e,["image"]);l!=null&&h(t,["instances[0]","image"],of(l));const c=f(e,["video"]);c!=null&&h(t,["instances[0]","video"],XT(c));const d=f(e,["source"]);d!=null&&tN(d,t);const y=f(e,["config"]);return y!=null&&Kw(y,t),t}function Zw(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["prompt"]);r!=null&&h(t,["instances[0]","prompt"],r);const l=f(e,["image"]);l!=null&&h(t,["instances[0]","image"],ai(l));const c=f(e,["video"]);c!=null&&h(t,["instances[0]","video"],WT(c));const d=f(e,["source"]);d!=null&&nN(d,t);const y=f(e,["config"]);return y!=null&&Qw(y,t),t}function jw(n){const e={},t=f(n,["generatedSamples"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(c=>oN(c))),h(e,["generatedVideos"],l)}const s=f(n,["raiMediaFilteredCount"]);s!=null&&h(e,["raiMediaFilteredCount"],s);const r=f(n,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function eN(n){const e={},t=f(n,["videos"]);if(t!=null){let l=t;Array.isArray(l)&&(l=l.map(c=>rN(c))),h(e,["generatedVideos"],l)}const s=f(n,["raiMediaFilteredCount"]);s!=null&&h(e,["raiMediaFilteredCount"],s);const r=f(n,["raiMediaFilteredReasons"]);return r!=null&&h(e,["raiMediaFilteredReasons"],r),e}function tN(n,e){const t={},s=f(n,["prompt"]);e!==void 0&&s!=null&&h(e,["instances[0]","prompt"],s);const r=f(n,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],of(r));const l=f(n,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],XT(l)),t}function nN(n,e){const t={},s=f(n,["prompt"]);e!==void 0&&s!=null&&h(e,["instances[0]","prompt"],s);const r=f(n,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],ai(r));const l=f(n,["video"]);return e!==void 0&&l!=null&&h(e,["instances[0]","video"],WT(l)),t}function iN(n){const e={},t=f(n,["_self"]);t!=null&&h(e,["image"],mN(t));const s=f(n,["raiFilteredReason"]);s!=null&&h(e,["raiFilteredReason"],s);const r=f(n,["_self"]);return r!=null&&h(e,["safetyAttributes"],JT(r)),e}function sf(n){const e={},t=f(n,["_self"]);t!=null&&h(e,["image"],YT(t));const s=f(n,["raiFilteredReason"]);s!=null&&h(e,["raiFilteredReason"],s);const r=f(n,["_self"]);r!=null&&h(e,["safetyAttributes"],KT(r));const l=f(n,["prompt"]);return l!=null&&h(e,["enhancedPrompt"],l),e}function sN(n){const e={},t=f(n,["_self"]);t!=null&&h(e,["mask"],YT(t));const s=f(n,["labels"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>l)),h(e,["labels"],r)}return e}function oN(n){const e={},t=f(n,["video"]);return t!=null&&h(e,["video"],JN(t)),e}function rN(n){const e={},t=f(n,["_self"]);return t!=null&&h(e,["video"],KN(t)),e}function aN(n){const e={},t=f(n,["modelSelectionConfig"]);t!=null&&h(e,["modelConfig"],t);const s=f(n,["responseJsonSchema"]);s!=null&&h(e,["responseJsonSchema"],s);const r=f(n,["audioTimestamp"]);r!=null&&h(e,["audioTimestamp"],r);const l=f(n,["candidateCount"]);l!=null&&h(e,["candidateCount"],l);const c=f(n,["enableAffectiveDialog"]);c!=null&&h(e,["enableAffectiveDialog"],c);const d=f(n,["frequencyPenalty"]);d!=null&&h(e,["frequencyPenalty"],d);const y=f(n,["logprobs"]);y!=null&&h(e,["logprobs"],y);const p=f(n,["maxOutputTokens"]);p!=null&&h(e,["maxOutputTokens"],p);const v=f(n,["mediaResolution"]);v!=null&&h(e,["mediaResolution"],v);const T=f(n,["presencePenalty"]);T!=null&&h(e,["presencePenalty"],T);const S=f(n,["responseLogprobs"]);S!=null&&h(e,["responseLogprobs"],S);const R=f(n,["responseMimeType"]);R!=null&&h(e,["responseMimeType"],R);const O=f(n,["responseModalities"]);O!=null&&h(e,["responseModalities"],O);const H=f(n,["responseSchema"]);H!=null&&h(e,["responseSchema"],H);const z=f(n,["routingConfig"]);z!=null&&h(e,["routingConfig"],z);const ee=f(n,["seed"]);ee!=null&&h(e,["seed"],ee);const re=f(n,["speechConfig"]);re!=null&&h(e,["speechConfig"],QT(re));const W=f(n,["stopSequences"]);W!=null&&h(e,["stopSequences"],W);const ue=f(n,["temperature"]);ue!=null&&h(e,["temperature"],ue);const he=f(n,["thinkingConfig"]);he!=null&&h(e,["thinkingConfig"],he);const j=f(n,["topK"]);j!=null&&h(e,["topK"],j);const M=f(n,["topP"]);if(M!=null&&h(e,["topP"],M),f(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return e}function lN(n,e){const t={},s=f(e,["model"]);return s!=null&&h(t,["_url","name"],$e(n,s)),t}function uN(n,e){const t={},s=f(e,["model"]);return s!=null&&h(t,["_url","name"],$e(n,s)),t}function cN(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&h(e,["enableWidget"],t),e}function fN(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&h(e,["timeRangeFilter"],t),e}function dN(n){const e={},t=f(n,["aspectRatio"]);t!=null&&h(e,["aspectRatio"],t);const s=f(n,["imageSize"]);if(s!=null&&h(e,["imageSize"],s),f(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(f(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return e}function hN(n){const e={},t=f(n,["aspectRatio"]);t!=null&&h(e,["aspectRatio"],t);const s=f(n,["imageSize"]);s!=null&&h(e,["imageSize"],s);const r=f(n,["outputMimeType"]);r!=null&&h(e,["imageOutputOptions","mimeType"],r);const l=f(n,["outputCompressionQuality"]);return l!=null&&h(e,["imageOutputOptions","compressionQuality"],l),e}function mN(n){const e={},t=f(n,["bytesBase64Encoded"]);t!=null&&h(e,["imageBytes"],no(t));const s=f(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function YT(n){const e={},t=f(n,["gcsUri"]);t!=null&&h(e,["gcsUri"],t);const s=f(n,["bytesBase64Encoded"]);s!=null&&h(e,["imageBytes"],no(s));const r=f(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function of(n){const e={};if(f(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=f(n,["imageBytes"]);t!=null&&h(e,["bytesBase64Encoded"],no(t));const s=f(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function ai(n){const e={},t=f(n,["gcsUri"]);t!=null&&h(e,["gcsUri"],t);const s=f(n,["imageBytes"]);s!=null&&h(e,["bytesBase64Encoded"],no(s));const r=f(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function pN(n,e,t){const s={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const l=f(e,["pageToken"]);t!==void 0&&l!=null&&h(t,["_query","pageToken"],l);const c=f(e,["filter"]);t!==void 0&&c!=null&&h(t,["_query","filter"],c);const d=f(e,["queryBase"]);return t!==void 0&&d!=null&&h(t,["_url","models_url"],kT(n,d)),s}function gN(n,e,t){const s={},r=f(e,["pageSize"]);t!==void 0&&r!=null&&h(t,["_query","pageSize"],r);const l=f(e,["pageToken"]);t!==void 0&&l!=null&&h(t,["_query","pageToken"],l);const c=f(e,["filter"]);t!==void 0&&c!=null&&h(t,["_query","filter"],c);const d=f(e,["queryBase"]);return t!==void 0&&d!=null&&h(t,["_url","models_url"],kT(n,d)),s}function yN(n,e){const t={},s=f(e,["config"]);return s!=null&&pN(n,s,t),t}function _N(n,e){const t={},s=f(e,["config"]);return s!=null&&gN(n,s,t),t}function vN(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=f(n,["_self"]);if(r!=null){let l=qT(r);Array.isArray(l)&&(l=l.map(c=>Bh(c))),h(e,["models"],l)}return e}function TN(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=f(n,["_self"]);if(r!=null){let l=qT(r);Array.isArray(l)&&(l=l.map(c=>zh(c))),h(e,["models"],l)}return e}function EN(n){const e={},t=f(n,["maskMode"]);t!=null&&h(e,["maskMode"],t);const s=f(n,["segmentationClasses"]);s!=null&&h(e,["maskClasses"],s);const r=f(n,["maskDilation"]);return r!=null&&h(e,["dilation"],r),e}function Bh(n){const e={},t=f(n,["name"]);t!=null&&h(e,["name"],t);const s=f(n,["displayName"]);s!=null&&h(e,["displayName"],s);const r=f(n,["description"]);r!=null&&h(e,["description"],r);const l=f(n,["version"]);l!=null&&h(e,["version"],l);const c=f(n,["_self"]);c!=null&&h(e,["tunedModelInfo"],kN(c));const d=f(n,["inputTokenLimit"]);d!=null&&h(e,["inputTokenLimit"],d);const y=f(n,["outputTokenLimit"]);y!=null&&h(e,["outputTokenLimit"],y);const p=f(n,["supportedGenerationMethods"]);p!=null&&h(e,["supportedActions"],p);const v=f(n,["temperature"]);v!=null&&h(e,["temperature"],v);const T=f(n,["maxTemperature"]);T!=null&&h(e,["maxTemperature"],T);const S=f(n,["topP"]);S!=null&&h(e,["topP"],S);const R=f(n,["topK"]);R!=null&&h(e,["topK"],R);const O=f(n,["thinking"]);return O!=null&&h(e,["thinking"],O),e}function zh(n){const e={},t=f(n,["name"]);t!=null&&h(e,["name"],t);const s=f(n,["displayName"]);s!=null&&h(e,["displayName"],s);const r=f(n,["description"]);r!=null&&h(e,["description"],r);const l=f(n,["versionId"]);l!=null&&h(e,["version"],l);const c=f(n,["deployedModels"]);if(c!=null){let T=c;Array.isArray(T)&&(T=T.map(S=>Vw(S))),h(e,["endpoints"],T)}const d=f(n,["labels"]);d!=null&&h(e,["labels"],d);const y=f(n,["_self"]);y!=null&&h(e,["tunedModelInfo"],qN(y));const p=f(n,["defaultCheckpointId"]);p!=null&&h(e,["defaultCheckpointId"],p);const v=f(n,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(S=>S)),h(e,["checkpoints"],T)}return e}function SN(n){const e={},t=f(n,["mediaResolution"]);t!=null&&h(e,["mediaResolution"],t);const s=f(n,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const r=f(n,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=f(n,["fileData"]);l!=null&&h(e,["fileData"],Uw(l));const c=f(n,["functionCall"]);c!=null&&h(e,["functionCall"],Lw(c));const d=f(n,["functionResponse"]);d!=null&&h(e,["functionResponse"],d);const y=f(n,["inlineData"]);y!=null&&h(e,["inlineData"],aw(y));const p=f(n,["text"]);p!=null&&h(e,["text"],p);const v=f(n,["thought"]);v!=null&&h(e,["thought"],v);const T=f(n,["thoughtSignature"]);T!=null&&h(e,["thoughtSignature"],T);const S=f(n,["videoMetadata"]);return S!=null&&h(e,["videoMetadata"],S),e}function AN(n){const e={},t=f(n,["productImage"]);return t!=null&&h(e,["image"],ai(t)),e}function CN(n,e){const t={},s=f(n,["numberOfImages"]);e!==void 0&&s!=null&&h(e,["parameters","sampleCount"],s);const r=f(n,["baseSteps"]);e!==void 0&&r!=null&&h(e,["parameters","baseSteps"],r);const l=f(n,["outputGcsUri"]);e!==void 0&&l!=null&&h(e,["parameters","storageUri"],l);const c=f(n,["seed"]);e!==void 0&&c!=null&&h(e,["parameters","seed"],c);const d=f(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&h(e,["parameters","safetySetting"],d);const y=f(n,["personGeneration"]);e!==void 0&&y!=null&&h(e,["parameters","personGeneration"],y);const p=f(n,["addWatermark"]);e!==void 0&&p!=null&&h(e,["parameters","addWatermark"],p);const v=f(n,["outputMimeType"]);e!==void 0&&v!=null&&h(e,["parameters","outputOptions","mimeType"],v);const T=f(n,["outputCompressionQuality"]);e!==void 0&&T!=null&&h(e,["parameters","outputOptions","compressionQuality"],T);const S=f(n,["enhancePrompt"]);e!==void 0&&S!=null&&h(e,["parameters","enhancePrompt"],S);const R=f(n,["labels"]);return e!==void 0&&R!=null&&h(e,["labels"],R),t}function IN(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["source"]);r!=null&&RN(r,t);const l=f(e,["config"]);return l!=null&&CN(l,t),t}function xN(n){const e={},t=f(n,["predictions"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(r=>sf(r))),h(e,["generatedImages"],s)}return e}function RN(n,e){const t={},s=f(n,["prompt"]);e!==void 0&&s!=null&&h(e,["instances[0]","prompt"],s);const r=f(n,["personImage"]);e!==void 0&&r!=null&&h(e,["instances[0]","personImage","image"],ai(r));const l=f(n,["productImages"]);if(e!==void 0&&l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>AN(d))),h(e,["instances[0]","productImages"],c)}return t}function wN(n){const e={},t=f(n,["referenceImage"]);t!=null&&h(e,["referenceImage"],ai(t));const s=f(n,["referenceId"]);s!=null&&h(e,["referenceId"],s);const r=f(n,["referenceType"]);r!=null&&h(e,["referenceType"],r);const l=f(n,["maskImageConfig"]);l!=null&&h(e,["maskImageConfig"],EN(l));const c=f(n,["controlImageConfig"]);c!=null&&h(e,["controlImageConfig"],mw(c));const d=f(n,["styleImageConfig"]);d!=null&&h(e,["styleImageConfig"],d);const y=f(n,["subjectImageConfig"]);return y!=null&&h(e,["subjectImageConfig"],y),e}function JT(n){const e={},t=f(n,["safetyAttributes","categories"]);t!=null&&h(e,["categories"],t);const s=f(n,["safetyAttributes","scores"]);s!=null&&h(e,["scores"],s);const r=f(n,["contentType"]);return r!=null&&h(e,["contentType"],r),e}function KT(n){const e={},t=f(n,["safetyAttributes","categories"]);t!=null&&h(e,["categories"],t);const s=f(n,["safetyAttributes","scores"]);s!=null&&h(e,["scores"],s);const r=f(n,["contentType"]);return r!=null&&h(e,["contentType"],r),e}function NN(n){const e={},t=f(n,["category"]);if(t!=null&&h(e,["category"],t),f(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=f(n,["threshold"]);return s!=null&&h(e,["threshold"],s),e}function bN(n){const e={},t=f(n,["image"]);return t!=null&&h(e,["image"],ai(t)),e}function MN(n,e){const t={},s=f(n,["mode"]);e!==void 0&&s!=null&&h(e,["parameters","mode"],s);const r=f(n,["maxPredictions"]);e!==void 0&&r!=null&&h(e,["parameters","maxPredictions"],r);const l=f(n,["confidenceThreshold"]);e!==void 0&&l!=null&&h(e,["parameters","confidenceThreshold"],l);const c=f(n,["maskDilation"]);e!==void 0&&c!=null&&h(e,["parameters","maskDilation"],c);const d=f(n,["binaryColorThreshold"]);e!==void 0&&d!=null&&h(e,["parameters","binaryColorThreshold"],d);const y=f(n,["labels"]);return e!==void 0&&y!=null&&h(e,["labels"],y),t}function DN(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["source"]);r!=null&&VN(r,t);const l=f(e,["config"]);return l!=null&&MN(l,t),t}function PN(n){const e={},t=f(n,["predictions"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(r=>sN(r))),h(e,["generatedMasks"],s)}return e}function VN(n,e){const t={},s=f(n,["prompt"]);e!==void 0&&s!=null&&h(e,["instances[0]","prompt"],s);const r=f(n,["image"]);e!==void 0&&r!=null&&h(e,["instances[0]","image"],ai(r));const l=f(n,["scribbleImage"]);return e!==void 0&&l!=null&&h(e,["instances[0]","scribble"],bN(l)),t}function QT(n){const e={},t=f(n,["languageCode"]);t!=null&&h(e,["languageCode"],t);const s=f(n,["voiceConfig"]);if(s!=null&&h(e,["voiceConfig"],s),f(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");return e}function UN(n){const e={},t=f(n,["functionCallingConfig"]);t!=null&&h(e,["functionCallingConfig"],kw(t));const s=f(n,["retrievalConfig"]);return s!=null&&h(e,["retrievalConfig"],s),e}function LN(n){const e={},t=f(n,["functionDeclarations"]);if(t!=null){let v=t;Array.isArray(v)&&(v=v.map(T=>T)),h(e,["functionDeclarations"],v)}if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(n,["googleSearchRetrieval"]);s!=null&&h(e,["googleSearchRetrieval"],s);const r=f(n,["computerUse"]);r!=null&&h(e,["computerUse"],r);const l=f(n,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=f(n,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(n,["googleMaps"]);d!=null&&h(e,["googleMaps"],cN(d));const y=f(n,["googleSearch"]);y!=null&&h(e,["googleSearch"],fN(y));const p=f(n,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}function $T(n){const e={},t=f(n,["functionDeclarations"]);if(t!=null){let T=t;Array.isArray(T)&&(T=T.map(S=>qw(S))),h(e,["functionDeclarations"],T)}const s=f(n,["retrieval"]);s!=null&&h(e,["retrieval"],s);const r=f(n,["googleSearchRetrieval"]);r!=null&&h(e,["googleSearchRetrieval"],r);const l=f(n,["computerUse"]);if(l!=null&&h(e,["computerUse"],l),f(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=f(n,["codeExecution"]);c!=null&&h(e,["codeExecution"],c);const d=f(n,["enterpriseWebSearch"]);d!=null&&h(e,["enterpriseWebSearch"],d);const y=f(n,["googleMaps"]);y!=null&&h(e,["googleMaps"],y);const p=f(n,["googleSearch"]);p!=null&&h(e,["googleSearch"],p);const v=f(n,["urlContext"]);return v!=null&&h(e,["urlContext"],v),e}function kN(n){const e={},t=f(n,["baseModel"]);t!=null&&h(e,["baseModel"],t);const s=f(n,["createTime"]);s!=null&&h(e,["createTime"],s);const r=f(n,["updateTime"]);return r!=null&&h(e,["updateTime"],r),e}function qN(n){const e={},t=f(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&h(e,["baseModel"],t);const s=f(n,["createTime"]);s!=null&&h(e,["createTime"],s);const r=f(n,["updateTime"]);return r!=null&&h(e,["updateTime"],r),e}function ON(n,e){const t={},s=f(n,["displayName"]);e!==void 0&&s!=null&&h(e,["displayName"],s);const r=f(n,["description"]);e!==void 0&&r!=null&&h(e,["description"],r);const l=f(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),t}function BN(n,e){const t={},s=f(n,["displayName"]);e!==void 0&&s!=null&&h(e,["displayName"],s);const r=f(n,["description"]);e!==void 0&&r!=null&&h(e,["description"],r);const l=f(n,["defaultCheckpointId"]);return e!==void 0&&l!=null&&h(e,["defaultCheckpointId"],l),t}function zN(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","name"],$e(n,s));const r=f(e,["config"]);return r!=null&&ON(r,t),t}function FN(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["config"]);return r!=null&&BN(r,t),t}function HN(n,e){const t={},s=f(n,["outputGcsUri"]);e!==void 0&&s!=null&&h(e,["parameters","storageUri"],s);const r=f(n,["safetyFilterLevel"]);e!==void 0&&r!=null&&h(e,["parameters","safetySetting"],r);const l=f(n,["personGeneration"]);e!==void 0&&l!=null&&h(e,["parameters","personGeneration"],l);const c=f(n,["includeRaiReason"]);e!==void 0&&c!=null&&h(e,["parameters","includeRaiReason"],c);const d=f(n,["outputMimeType"]);e!==void 0&&d!=null&&h(e,["parameters","outputOptions","mimeType"],d);const y=f(n,["outputCompressionQuality"]);e!==void 0&&y!=null&&h(e,["parameters","outputOptions","compressionQuality"],y);const p=f(n,["enhanceInputImage"]);e!==void 0&&p!=null&&h(e,["parameters","upscaleConfig","enhanceInputImage"],p);const v=f(n,["imagePreservationFactor"]);e!==void 0&&v!=null&&h(e,["parameters","upscaleConfig","imagePreservationFactor"],v);const T=f(n,["labels"]);e!==void 0&&T!=null&&h(e,["labels"],T);const S=f(n,["numberOfImages"]);e!==void 0&&S!=null&&h(e,["parameters","sampleCount"],S);const R=f(n,["mode"]);return e!==void 0&&R!=null&&h(e,["parameters","mode"],R),t}function GN(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["_url","model"],$e(n,s));const r=f(e,["image"]);r!=null&&h(t,["instances[0]","image"],ai(r));const l=f(e,["upscaleFactor"]);l!=null&&h(t,["parameters","upscaleConfig","upscaleFactor"],l);const c=f(e,["config"]);return c!=null&&HN(c,t),t}function YN(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["predictions"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>sf(l))),h(e,["generatedImages"],r)}return e}function JN(n){const e={},t=f(n,["uri"]);t!=null&&h(e,["uri"],t);const s=f(n,["encodedVideo"]);s!=null&&h(e,["videoBytes"],no(s));const r=f(n,["encoding"]);return r!=null&&h(e,["mimeType"],r),e}function KN(n){const e={},t=f(n,["gcsUri"]);t!=null&&h(e,["uri"],t);const s=f(n,["bytesBase64Encoded"]);s!=null&&h(e,["videoBytes"],no(s));const r=f(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}function QN(n){const e={},t=f(n,["image"]);t!=null&&h(e,["_self"],ai(t));const s=f(n,["maskMode"]);return s!=null&&h(e,["maskMode"],s),e}function $N(n){const e={},t=f(n,["image"]);t!=null&&h(e,["image"],of(t));const s=f(n,["referenceType"]);return s!=null&&h(e,["referenceType"],s),e}function XN(n){const e={},t=f(n,["image"]);t!=null&&h(e,["image"],ai(t));const s=f(n,["referenceType"]);return s!=null&&h(e,["referenceType"],s),e}function XT(n){const e={},t=f(n,["uri"]);t!=null&&h(e,["uri"],t);const s=f(n,["videoBytes"]);s!=null&&h(e,["encodedVideo"],no(s));const r=f(n,["mimeType"]);return r!=null&&h(e,["encoding"],r),e}function WT(n){const e={},t=f(n,["uri"]);t!=null&&h(e,["gcsUri"],t);const s=f(n,["videoBytes"]);s!=null&&h(e,["bytesBase64Encoded"],no(s));const r=f(n,["mimeType"]);return r!=null&&h(e,["mimeType"],r),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function WN(n,e){const t={},s=f(n,["displayName"]);return e!==void 0&&s!=null&&h(e,["displayName"],s),t}function ZN(n){const e={},t=f(n,["config"]);return t!=null&&WN(t,e),e}function jN(n,e){const t={},s=f(n,["force"]);return e!==void 0&&s!=null&&h(e,["_query","force"],s),t}function eb(n){const e={},t=f(n,["name"]);t!=null&&h(e,["_url","name"],t);const s=f(n,["config"]);return s!=null&&jN(s,e),e}function tb(n){const e={},t=f(n,["name"]);return t!=null&&h(e,["_url","name"],t),e}function nb(n,e){const t={},s=f(n,["customMetadata"]);if(e!==void 0&&s!=null){let l=s;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["customMetadata"],l)}const r=f(n,["chunkingConfig"]);return e!==void 0&&r!=null&&h(e,["chunkingConfig"],r),t}function ib(n){const e={},t=f(n,["name"]);t!=null&&h(e,["name"],t);const s=f(n,["metadata"]);s!=null&&h(e,["metadata"],s);const r=f(n,["done"]);r!=null&&h(e,["done"],r);const l=f(n,["error"]);l!=null&&h(e,["error"],l);const c=f(n,["response"]);return c!=null&&h(e,["response"],ob(c)),e}function sb(n){const e={},t=f(n,["fileSearchStoreName"]);t!=null&&h(e,["_url","file_search_store_name"],t);const s=f(n,["fileName"]);s!=null&&h(e,["fileName"],s);const r=f(n,["config"]);return r!=null&&nb(r,e),e}function ob(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["parent"]);s!=null&&h(e,["parent"],s);const r=f(n,["documentName"]);return r!=null&&h(e,["documentName"],r),e}function rb(n,e){const t={},s=f(n,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const r=f(n,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),t}function ab(n){const e={},t=f(n,["config"]);return t!=null&&rb(t,e),e}function lb(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=f(n,["fileSearchStores"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["fileSearchStores"],l)}return e}function ZT(n,e){const t={},s=f(n,["mimeType"]);e!==void 0&&s!=null&&h(e,["mimeType"],s);const r=f(n,["displayName"]);e!==void 0&&r!=null&&h(e,["displayName"],r);const l=f(n,["customMetadata"]);if(e!==void 0&&l!=null){let d=l;Array.isArray(d)&&(d=d.map(y=>y)),h(e,["customMetadata"],d)}const c=f(n,["chunkingConfig"]);return e!==void 0&&c!=null&&h(e,["chunkingConfig"],c),t}function ub(n){const e={},t=f(n,["fileSearchStoreName"]);t!=null&&h(e,["_url","file_search_store_name"],t);const s=f(n,["config"]);return s!=null&&ZT(s,e),e}function cb(n){const e={},t=f(n,["sdkHttpResponse"]);return t!=null&&h(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const fb="Content-Type",db="X-Server-Timeout",hb="User-Agent",Fh="x-goog-api-client",mb="1.31.0",pb=`google-genai-sdk/${mb}`,gb="v1beta1",yb="v1beta",o0=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class _b{constructor(e){var t,s;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:gb,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:yb,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const s=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&s.push(e.apiVersion),s.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,s){const r=[this.getRequestUrlInternal(t)];return s&&r.push(this.getBaseResourcePath()),e!==""&&r.push(e),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,s);if(e.queryParams)for(const[c,d]of Object.entries(e.queryParams))r.searchParams.append(c,String(d));let l={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else l.body=e.body;return l=await this.includeExtraHttpOptionsToRequestInit(l,t,r.toString(),e.abortSignal),this.unaryApiCall(r,l,e.httpMethod)}patchHttpOptions(e,t){const s=JSON.parse(JSON.stringify(e));for(const[r,l]of Object.entries(t))typeof l=="object"?s[r]=Object.assign(Object.assign({},s[r]),l):l!==void 0&&(s[r]=l);return s}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const s=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,s);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let l={};return l.body=e.body,l=await this.includeExtraHttpOptionsToRequestInit(l,t,r.toString(),e.abortSignal),this.streamApiCall(r,l,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,s,r){if(t&&t.timeout||r){const l=new AbortController,c=l.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const d=setTimeout(()=>l.abort(),t.timeout);d&&typeof d.unref=="function"&&d.unref()}r&&r.addEventListener("abort",()=>{l.abort()}),e.signal=c}return t&&t.extraBody!==null&&vb(e,t.extraBody),e.headers=await this.getHeadersInternal(t,s),e}async unaryApiCall(e,t,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:s})).then(async r=>(await r0(r),new kh(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(e,t,s){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:s})).then(async r=>(await r0(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(e){var t;return Gr(this,arguments,function*(){const r=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),l=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let c="";for(;;){const{done:d,value:y}=yield dt(r.read());if(d){if(c.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=l.decode(y,{stream:!0});try{const T=JSON.parse(p);if("error"in T){const S=JSON.parse(JSON.stringify(T.error)),R=S.status,O=S.code,H=`got status: ${R}. ${JSON.stringify(T)}`;if(O>=400&&O<600)throw new tf({message:H,status:O})}}catch(T){if(T.name==="ApiError")throw T}c+=p;let v=c.match(o0);for(;v;){const T=v[1];try{const S=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield dt(new kh(S)),c=c.slice(v[0].length),v=c.match(o0)}catch(S){throw new Error(`exception parsing stream chunk ${T}. ${S}`)}}}}finally{r.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(s=>{throw new Error(`exception ${s} sending request`)})}getDefaultHeaders(){const e={},t=pb+" "+this.clientOptions.userAgentExtra;return e[hb]=t,e[Fh]=t,e[fb]="application/json",e}async getHeadersInternal(e,t){const s=new Headers;if(e&&e.headers){for(const[r,l]of Object.entries(e.headers))s.append(r,l);e.timeout&&e.timeout>0&&s.append(db,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(s,t),s}getFileName(e){var t;let s="";return typeof e=="string"&&(s=e.replace(/[/\\]+$/,""),s=(t=s.split(/[/\\]/).pop())!==null&&t!==void 0?t:""),s}async uploadFile(e,t){var s;const r={};t!=null&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const l=this.clientOptions.uploader,c=await l.stat(e);r.sizeBytes=String(c.size);const d=(s=t==null?void 0:t.mimeType)!==null&&s!==void 0?s:c.type;if(d===void 0||d==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=d;const y={file:r},p=this.getFileName(e),v=de("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(v,r.sizeBytes,r.mimeType,p,y,t==null?void 0:t.httpOptions);return l.upload(e,T,this)}async uploadFileToFileSearchStore(e,t,s){var r;const l=this.clientOptions.uploader,c=await l.stat(t),d=String(c.size),y=(r=s==null?void 0:s.mimeType)!==null&&r!==void 0?r:c.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const p=`upload/v1beta/${e}:uploadToFileSearchStore`,v=this.getFileName(t),T={};s!=null&&ZT(s,T);const S=await this.fetchUploadUrl(p,d,y,v,T,s==null?void 0:s.httpOptions);return l.uploadToFileSearchStore(t,S,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t,s,r,l,c){var d;let y={};c?y=c:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${t}`,"X-Goog-Upload-Header-Content-Type":`${s}`},r?{"X-Goog-Upload-File-Name":r}:{})};const p=await this.request({path:e,body:JSON.stringify(l),httpMethod:"POST",httpOptions:y});if(!p||!(p!=null&&p.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(d=p==null?void 0:p.headers)===null||d===void 0?void 0:d["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function r0(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let s;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?s=await n.json():s={error:{message:await n.text(),code:n.status,status:n.statusText}};const r=JSON.stringify(s);throw t>=400&&t<600?new tf({message:r,status:t}):new Error(r)}}function vb(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const l=JSON.parse(n.body);if(typeof l=="object"&&l!==null&&!Array.isArray(l))t=l;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function s(l,c){const d=Object.assign({},l);for(const y in c)if(Object.prototype.hasOwnProperty.call(c,y)){const p=c[y],v=d[y];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?d[y]=s(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),d[y]=p)}return d}const r=s(t,e);n.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Tb="mcp_used/unknown";let Eb=!1;function jT(n){for(const e of n)if(Sb(e)||typeof e=="object"&&"inputSchema"in e)return!0;return Eb}function eE(n){var e;const t=(e=n[Fh])!==null&&e!==void 0?e:"";n[Fh]=(t+` ${Tb}`).trimStart()}function Sb(n){return n!==null&&typeof n=="object"&&n instanceof Tm}function Ab(n,e=100){return Gr(this,arguments,function*(){let s,r=0;for(;r<e;){const l=yield dt(n.listTools({cursor:s}));for(const c of l.tools)yield yield dt(c),r++;if(!l.nextCursor)break;s=l.nextCursor}})}class Tm{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Tm(e,t)}async initialize(){var e,t,s,r;if(this.mcpTools.length>0)return;const l={},c=[];for(const v of this.mcpClients)try{for(var d=!0,y=(t=void 0,Rl(Ab(v))),p;p=await y.next(),e=p.done,!e;d=!0){r=p.value,d=!1;const T=r;c.push(T);const S=T.name;if(l[S])throw new Error(`Duplicate function name ${S} found in MCP tools. Please ensure function names are unique.`);l[S]=v}}catch(T){t={error:T}}finally{try{!d&&!e&&(s=y.return)&&await s.call(y)}finally{if(t)throw t.error}}this.mcpTools=c,this.functionNameToMcpClient=l}async tool(){return await this.initialize(),tx(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const s of e)if(s.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[s.name];let l;this.config.timeout&&(l={timeout:this.config.timeout});const c=await r.callTool({name:s.name,arguments:s.args},void 0,l);t.push({functionResponse:{name:s.name,response:c.isError?{error:c}:c}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Cb(n,e,t){const s=new KI;let r;t.data instanceof Blob?r=JSON.parse(await t.data.text()):r=JSON.parse(t.data),Object.assign(s,r),e(s)}class Ib{constructor(e,t,s){this.apiClient=e,this.auth=t,this.webSocketFactory=s}async connect(e){var t,s;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion(),c=wb(this.apiClient.getDefaultHeaders()),d=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${l}.GenerativeService.BidiGenerateMusic?key=${d}`;let p=()=>{};const v=new Promise(W=>{p=W}),T=e.callbacks,S=function(){p({})},R=this.apiClient,O={onopen:S,onmessage:W=>{Cb(R,T.onmessage,W)},onerror:(t=T==null?void 0:T.onerror)!==null&&t!==void 0?t:function(W){},onclose:(s=T==null?void 0:T.onclose)!==null&&s!==void 0?s:function(W){}},H=this.webSocketFactory.create(y,Rb(c),O);H.connect(),await v;const re={setup:{model:$e(this.apiClient,e.model)}};return H.send(JSON.stringify(re)),new xb(H,this.apiClient)}}class xb{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=ZR(e);this.conn.send(JSON.stringify({clientContent:t}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=WR(e);this.conn.send(JSON.stringify(t))}sendPlaybackControl(e){const t={playbackControl:e};this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Fr.PLAY)}pause(){this.sendPlaybackControl(Fr.PAUSE)}stop(){this.sendPlaybackControl(Fr.STOP)}resetContext(){this.sendPlaybackControl(Fr.RESET_CONTEXT)}close(){this.conn.close()}}function Rb(n){const e={};return n.forEach((t,s)=>{e[s]=t}),e}function wb(n){const e=new Headers;for(const[t,s]of Object.entries(n))e.append(t,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Nb="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function bb(n,e,t){const s=new JI;let r;t.data instanceof Blob?r=await t.data.text():t.data instanceof ArrayBuffer?r=new TextDecoder().decode(t.data):r=t.data;const l=JSON.parse(r);if(n.isVertexAI()){const c=tw(l);Object.assign(s,c)}else Object.assign(s,l);e(s)}class Mb{constructor(e,t,s){this.apiClient=e,this.auth=t,this.webSocketFactory=s,this.music=new Ib(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,s,r,l,c,d;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&jT(e.config.tools)&&eE(T);const S=Ub(T);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(S,v);else{const N=this.apiClient.getApiKey();let P="BidiGenerateContent",U="key";N!=null&&N.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),P="BidiGenerateContentConstrained",U="access_token"),v=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${P}?${U}=${N}`}let R=()=>{};const O=new Promise(N=>{R=N}),H=e.callbacks,z=function(){var N;(N=H==null?void 0:H.onopen)===null||N===void 0||N.call(H),R({})},ee=this.apiClient,re={onopen:z,onmessage:N=>{bb(ee,H.onmessage,N)},onerror:(t=H==null?void 0:H.onerror)!==null&&t!==void 0?t:function(N){},onclose:(s=H==null?void 0:H.onclose)!==null&&s!==void 0?s:function(N){}},W=this.webSocketFactory.create(v,Vb(S),re);W.connect(),await O;let ue=$e(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&ue.startsWith("publishers/")){const N=this.apiClient.getProject(),P=this.apiClient.getLocation();ue=`projects/${N}/locations/${P}/`+ue}let he={};this.apiClient.isVertexAI()&&((r=e.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[kc.AUDIO]}:e.config.responseModalities=[kc.AUDIO]),!((l=e.config)===null||l===void 0)&&l.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const j=(d=(c=e.config)===null||c===void 0?void 0:c.tools)!==null&&d!==void 0?d:[],M=[];for(const N of j)if(this.isCallableTool(N)){const P=N;M.push(await P.tool())}else M.push(N);M.length>0&&(e.config.tools=M);const b={model:ue,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?he=XR(this.apiClient,b):he=$R(this.apiClient,b),delete he.config,W.send(JSON.stringify(he)),new Pb(W,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Db={turnComplete:!0};class Pb{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let s=[];try{s=Fn(t.turns),e.isVertexAI()||(s=s.map(r=>nf(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:s,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let s=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?s=t.functionResponses:s=[t.functionResponses],s.length===0)throw new Error("functionResponses is required.");for(const l of s){if(typeof l!="object"||l===null||!("name"in l)||!("response"in l))throw new Error(`Could not parse function response, type '${typeof l}'.`);if(!e.isVertexAI()&&!("id"in l))throw new Error(Nb)}return{toolResponse:{functionResponses:s}}}sendClientContent(e){e=Object.assign(Object.assign({},Db),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:ew(e)}:t={realtimeInput:jR(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Vb(n){const e={};return n.forEach((t,s)=>{e[s]=t}),e}function Ub(n){const e=new Headers;for(const[t,s]of Object.entries(n))e.append(t,s);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const a0=10;function l0(n){var e,t,s;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let r=!1;for(const c of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(Yr(c)){r=!0;break}if(!r)return!0;const l=(s=n==null?void 0:n.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls;return l&&(l<0||!Number.isInteger(l))||l==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",l),!0):!1}function Yr(n){return"callTool"in n&&typeof n.callTool=="function"}function Lb(n){var e,t,s;return(s=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(r=>Yr(r)))!==null&&s!==void 0?s:!1}function u0(n){var e;const t=[];return!((e=n==null?void 0:n.config)===null||e===void 0)&&e.tools&&n.config.tools.forEach((s,r)=>{if(Yr(s))return;const l=s;l.functionDeclarations&&l.functionDeclarations.length>0&&t.push(r)}),t}function c0(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class kb extends as{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var s,r,l,c,d;const y=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!Lb(t)||l0(t.config))return await this.generateContentInternal(y);const p=u0(t);if(p.length>0){const H=p.map(z=>`tools[${z}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${H}.`)}let v,T;const S=Fn(y.contents),R=(l=(r=(s=y.config)===null||s===void 0?void 0:s.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&l!==void 0?l:a0;let O=0;for(;O<R&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const H=v.candidates[0].content,z=[];for(const ee of(d=(c=t.config)===null||c===void 0?void 0:c.tools)!==null&&d!==void 0?d:[])if(Yr(ee)){const W=await ee.callTool(v.functionCalls);z.push(...W)}O++,T={role:"user",parts:z},y.contents=Fn(y.contents),y.contents.push(H),y.contents.push(T),c0(y.config)&&(S.push(H),S.push(T))}return c0(y.config)&&(v.automaticFunctionCallingHistory=S),v},this.generateContentStream=async t=>{var s,r,l,c,d;if(this.maybeMoveToResponseJsonSchem(t),l0(t.config)){const T=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(T)}const y=u0(t);if(y.length>0){const T=y.map(S=>`tools[${S}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const p=(l=(r=(s=t==null?void 0:t.config)===null||s===void 0?void 0:s.toolConfig)===null||r===void 0?void 0:r.functionCallingConfig)===null||l===void 0?void 0:l.streamFunctionCallArguments,v=(d=(c=t==null?void 0:t.config)===null||c===void 0?void 0:c.automaticFunctionCalling)===null||d===void 0?void 0:d.disable;if(p&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(s=>{var r;let l;const c=[];if(s!=null&&s.generatedImages)for(const y of s.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?l=y==null?void 0:y.safetyAttributes:c.push(y);let d;return l?d={generatedImages:c,positivePromptSafetyAttributes:l,sdkHttpResponse:s.sdkHttpResponse}:d={generatedImages:c,sdkHttpResponse:s.sdkHttpResponse},d}),this.list=async t=>{var s;const c={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!c.config.queryBase){if(!((s=c.config)===null||s===void 0)&&s.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");c.config.filter="labels.tune-type:*"}return new Bo(ns.PAGED_ITEM_MODELS,d=>this.listInternal(d),await this.listInternal(c),c)},this.editImage=async t=>{const s={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(s.referenceImages=t.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(s)},this.upscaleImage=async t=>{let s={numberOfImages:1,mode:"upscale"};t.config&&(s=Object.assign(Object.assign({},s),t.config));const r={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:s};return await this.upscaleImageInternal(r)},this.generateVideos=async t=>{var s,r,l,c,d,y;if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((s=t.video)===null||s===void 0)&&s.uri&&(!((r=t.video)===null||r===void 0)&&r.videoBytes)?t.video={uri:t.video.uri,mimeType:t.video.mimeType}:!((c=(l=t.source)===null||l===void 0?void 0:l.video)===null||c===void 0)&&c.uri&&(!((y=(d=t.source)===null||d===void 0?void 0:d.video)===null||y===void 0)&&y.videoBytes)&&(t.source.video={uri:t.source.video.uri,mimeType:t.source.video.mimeType})),await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,s,r;const l=(t=e.config)===null||t===void 0?void 0:t.tools;if(!l)return e;const c=await Promise.all(l.map(async y=>Yr(y)?await y.tool():y)),d={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:c})};if(d.config.tools=c,e.config&&e.config.tools&&jT(e.config.tools)){const y=(r=(s=e.config.httpOptions)===null||s===void 0?void 0:s.headers)!==null&&r!==void 0?r:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),eE(p),d.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return d}async initAfcToolsMap(e){var t,s,r;const l=new Map;for(const c of(s=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&s!==void 0?s:[])if(Yr(c)){const d=c,y=await d.tool();for(const p of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!p.name)throw new Error("Function declaration name is required.");if(l.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);l.set(p.name,d)}}return l}async processAfcStream(e){var t,s,r;const l=(r=(s=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&r!==void 0?r:a0;let c=!1,d=0;const y=await this.initAfcToolsMap(e);return(function(p,v,T){var S,R;return Gr(this,arguments,function*(){for(var O,H,z,ee;d<l;){c&&(d++,c=!1);const he=yield dt(p.processParamsMaybeAddMcpUsage(T)),j=yield dt(p.generateContentStreamInternal(he)),M=[],b=[];try{for(var re=!0,W=(H=void 0,Rl(j)),ue;ue=yield dt(W.next()),O=ue.done,!O;re=!0){ee=ue.value,re=!1;const N=ee;if(yield yield dt(N),N.candidates&&(!((S=N.candidates[0])===null||S===void 0)&&S.content)){b.push(N.candidates[0].content);for(const P of(R=N.candidates[0].content.parts)!==null&&R!==void 0?R:[])if(d<l&&P.functionCall){if(!P.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(P.functionCall.name)){const U=yield dt(v.get(P.functionCall.name).callTool([P.functionCall]));M.push(...U)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${P.functionCall.name}`)}}}}catch(N){H={error:N}}finally{try{!re&&!O&&(z=W.return)&&(yield dt(z.call(W)))}finally{if(H)throw H.error}}if(M.length>0){c=!0;const N=new Tl;N.candidates=[{content:{role:"user",parts:M}}],yield yield dt(N);const P=[];P.push(...b),P.push({role:"user",parts:M});const U=Fn(T.contents).concat(P);T.contents=U}else break}})})(this,y,e)}async generateContentInternal(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=n0(this.apiClient,e);return d=de("{model}:generateContent",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=s0(v),S=new Tl;return Object.assign(S,T),S})}else{const p=t0(this.apiClient,e);return d=de("{model}:generateContent",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=i0(v),S=new Tl;return Object.assign(S,T),S})}}async generateContentStreamInternal(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=n0(this.apiClient,e);return d=de("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),c.then(function(T){return Gr(this,arguments,function*(){var S,R,O,H;try{for(var z=!0,ee=Rl(T),re;re=yield dt(ee.next()),S=re.done,!S;z=!0){H=re.value,z=!1;const W=H,ue=s0(yield dt(W.json()));ue.sdkHttpResponse={headers:W.headers};const he=new Tl;Object.assign(he,ue),yield yield dt(he)}}catch(W){R={error:W}}finally{try{!z&&!S&&(O=ee.return)&&(yield dt(O.call(ee)))}finally{if(R)throw R.error}}})})}else{const p=t0(this.apiClient,e);return d=de("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.requestStream({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),c.then(function(T){return Gr(this,arguments,function*(){var S,R,O,H;try{for(var z=!0,ee=Rl(T),re;re=yield dt(ee.next()),S=re.done,!S;z=!0){H=re.value,z=!1;const W=H,ue=i0(yield dt(W.json()));ue.sdkHttpResponse={headers:W.headers};const he=new Tl;Object.assign(he,ue),yield yield dt(he)}}catch(W){R={error:W}}finally{try{!z&&!S&&(O=ee.return)&&(yield dt(O.call(ee)))}finally{if(R)throw R.error}}})})}}async embedContent(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=Mw(this.apiClient,e);return d=de("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=Pw(v),S=new qv;return Object.assign(S,T),S})}else{const p=bw(this.apiClient,e);return d=de("{model}:batchEmbedContents",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=Dw(v),S=new qv;return Object.assign(S,T),S})}}async generateImagesInternal(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=Gw(this.apiClient,e);return d=de("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=Jw(v),S=new Ov;return Object.assign(S,T),S})}else{const p=Hw(this.apiClient,e);return d=de("{model}:predict",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=Yw(v),S=new Ov;return Object.assign(S,T),S})}}async editImageInternal(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=xw(this.apiClient,e);return l=de("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const p=Rw(y),v=new UI;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=GN(this.apiClient,e);return l=de("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const p=YN(y),v=new LI;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=IN(this.apiClient,e);return l=de("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const p=xN(y),v=new kI;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=DN(this.apiClient,e);return l=de("{model}:predict",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const p=PN(y),v=new qI;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=uN(this.apiClient,e);return d=de("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>zh(v))}else{const p=lN(this.apiClient,e);return d=de("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Bh(v))}}async listInternal(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=_N(this.apiClient,e);return d=de("{models_url}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=TN(v),S=new Bv;return Object.assign(S,T),S})}else{const p=yN(this.apiClient,e);return d=de("{models_url}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=vN(v),S=new Bv;return Object.assign(S,T),S})}}async update(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=FN(this.apiClient,e);return d=de("{model}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>zh(v))}else{const p=zN(this.apiClient,e);return d=de("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>Bh(v))}}async delete(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=Sw(this.apiClient,e);return d=de("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=Cw(v),S=new zv;return Object.assign(S,T),S})}else{const p=Ew(this.apiClient,e);return d=de("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=Aw(v),S=new zv;return Object.assign(S,T),S})}}async countTokens(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=_w(this.apiClient,e);return d=de("{model}:countTokens",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=Tw(v),S=new Fv;return Object.assign(S,T),S})}else{const p=yw(this.apiClient,e);return d=de("{model}:countTokens",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=vw(v),S=new Fv;return Object.assign(S,T),S})}}async computeTokens(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=cw(this.apiClient,e);return l=de("{model}:computeTokens",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>{const p=fw(y),v=new OI;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=Zw(this.apiClient,e);return d=de("{model}:predictLongRunning",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c.then(v=>{const T=Xw(v),S=new qc;return Object.assign(S,T),S})}else{const p=Ww(this.apiClient,e);return d=de("{model}:predictLongRunning",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c.then(v=>{const T=$w(v),S=new qc;return Object.assign(S,T),S})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class qb extends as{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,s=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:l}});return t._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:s});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async get(e){const t=e.operation,s=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=t.name.split("/operations/")[0];let l;s&&"httpOptions"in s&&(l=s.httpOptions);const c=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:r,config:{httpOptions:l}});return t._fromAPIResponse({apiResponse:c,_isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:t.name,config:s});return t._fromAPIResponse({apiResponse:r,_isVertexAI:!1})}}async getVideosOperationInternal(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=NI(e);return d=de("{operationName}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json()),c}else{const p=wI(e);return d=de("{operationName}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),c}}async fetchPredictVideosOperationInternal(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=EI(e);return l=de("{resourceName}:fetchPredictOperation",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ob(n){const e={},t=f(n,["data"]);if(t!=null&&h(e,["data"],t),f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=f(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function Bb(n){const e={},t=f(n,["parts"]);if(t!=null){let r=t;Array.isArray(r)&&(r=r.map(l=>$b(l))),h(e,["parts"],r)}const s=f(n,["role"]);return s!=null&&h(e,["role"],s),e}function zb(n,e,t){const s={},r=f(e,["expireTime"]);t!==void 0&&r!=null&&h(t,["expireTime"],r);const l=f(e,["newSessionExpireTime"]);t!==void 0&&l!=null&&h(t,["newSessionExpireTime"],l);const c=f(e,["uses"]);t!==void 0&&c!=null&&h(t,["uses"],c);const d=f(e,["liveConnectConstraints"]);t!==void 0&&d!=null&&h(t,["bidiGenerateContentSetup"],Qb(n,d));const y=f(e,["lockAdditionalFields"]);return t!==void 0&&y!=null&&h(t,["fieldMask"],y),s}function Fb(n,e){const t={},s=f(e,["config"]);return s!=null&&h(t,["config"],zb(n,s,t)),t}function Hb(n){const e={};if(f(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=f(n,["fileUri"]);t!=null&&h(e,["fileUri"],t);const s=f(n,["mimeType"]);return s!=null&&h(e,["mimeType"],s),e}function Gb(n){const e={},t=f(n,["id"]);t!=null&&h(e,["id"],t);const s=f(n,["args"]);s!=null&&h(e,["args"],s);const r=f(n,["name"]);if(r!=null&&h(e,["name"],r),f(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(f(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return e}function Yb(n){const e={};if(f(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const t=f(n,["enableWidget"]);return t!=null&&h(e,["enableWidget"],t),e}function Jb(n){const e={};if(f(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(f(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const t=f(n,["timeRangeFilter"]);return t!=null&&h(e,["timeRangeFilter"],t),e}function Kb(n,e){const t={},s=f(n,["generationConfig"]);e!==void 0&&s!=null&&h(e,["setup","generationConfig"],s);const r=f(n,["responseModalities"]);e!==void 0&&r!=null&&h(e,["setup","generationConfig","responseModalities"],r);const l=f(n,["temperature"]);e!==void 0&&l!=null&&h(e,["setup","generationConfig","temperature"],l);const c=f(n,["topP"]);e!==void 0&&c!=null&&h(e,["setup","generationConfig","topP"],c);const d=f(n,["topK"]);e!==void 0&&d!=null&&h(e,["setup","generationConfig","topK"],d);const y=f(n,["maxOutputTokens"]);e!==void 0&&y!=null&&h(e,["setup","generationConfig","maxOutputTokens"],y);const p=f(n,["mediaResolution"]);e!==void 0&&p!=null&&h(e,["setup","generationConfig","mediaResolution"],p);const v=f(n,["seed"]);e!==void 0&&v!=null&&h(e,["setup","generationConfig","seed"],v);const T=f(n,["speechConfig"]);e!==void 0&&T!=null&&h(e,["setup","generationConfig","speechConfig"],vm(T));const S=f(n,["thinkingConfig"]);e!==void 0&&S!=null&&h(e,["setup","generationConfig","thinkingConfig"],S);const R=f(n,["enableAffectiveDialog"]);e!==void 0&&R!=null&&h(e,["setup","generationConfig","enableAffectiveDialog"],R);const O=f(n,["systemInstruction"]);e!==void 0&&O!=null&&h(e,["setup","systemInstruction"],Bb(on(O)));const H=f(n,["tools"]);if(e!==void 0&&H!=null){let j=ia(H);Array.isArray(j)&&(j=j.map(M=>Wb(na(M)))),h(e,["setup","tools"],j)}const z=f(n,["sessionResumption"]);e!==void 0&&z!=null&&h(e,["setup","sessionResumption"],Xb(z));const ee=f(n,["inputAudioTranscription"]);e!==void 0&&ee!=null&&h(e,["setup","inputAudioTranscription"],ee);const re=f(n,["outputAudioTranscription"]);e!==void 0&&re!=null&&h(e,["setup","outputAudioTranscription"],re);const W=f(n,["realtimeInputConfig"]);e!==void 0&&W!=null&&h(e,["setup","realtimeInputConfig"],W);const ue=f(n,["contextWindowCompression"]);e!==void 0&&ue!=null&&h(e,["setup","contextWindowCompression"],ue);const he=f(n,["proactivity"]);return e!==void 0&&he!=null&&h(e,["setup","proactivity"],he),t}function Qb(n,e){const t={},s=f(e,["model"]);s!=null&&h(t,["setup","model"],$e(n,s));const r=f(e,["config"]);return r!=null&&h(t,["config"],Kb(r,t)),t}function $b(n){const e={},t=f(n,["mediaResolution"]);t!=null&&h(e,["mediaResolution"],t);const s=f(n,["codeExecutionResult"]);s!=null&&h(e,["codeExecutionResult"],s);const r=f(n,["executableCode"]);r!=null&&h(e,["executableCode"],r);const l=f(n,["fileData"]);l!=null&&h(e,["fileData"],Hb(l));const c=f(n,["functionCall"]);c!=null&&h(e,["functionCall"],Gb(c));const d=f(n,["functionResponse"]);d!=null&&h(e,["functionResponse"],d);const y=f(n,["inlineData"]);y!=null&&h(e,["inlineData"],Ob(y));const p=f(n,["text"]);p!=null&&h(e,["text"],p);const v=f(n,["thought"]);v!=null&&h(e,["thought"],v);const T=f(n,["thoughtSignature"]);T!=null&&h(e,["thoughtSignature"],T);const S=f(n,["videoMetadata"]);return S!=null&&h(e,["videoMetadata"],S),e}function Xb(n){const e={},t=f(n,["handle"]);if(t!=null&&h(e,["handle"],t),f(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Wb(n){const e={},t=f(n,["functionDeclarations"]);if(t!=null){let v=t;Array.isArray(v)&&(v=v.map(T=>T)),h(e,["functionDeclarations"],v)}if(f(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const s=f(n,["googleSearchRetrieval"]);s!=null&&h(e,["googleSearchRetrieval"],s);const r=f(n,["computerUse"]);r!=null&&h(e,["computerUse"],r);const l=f(n,["fileSearch"]);l!=null&&h(e,["fileSearch"],l);const c=f(n,["codeExecution"]);if(c!=null&&h(e,["codeExecution"],c),f(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=f(n,["googleMaps"]);d!=null&&h(e,["googleMaps"],Yb(d));const y=f(n,["googleSearch"]);y!=null&&h(e,["googleSearch"],Jb(y));const p=f(n,["urlContext"]);return p!=null&&h(e,["urlContext"],p),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Zb(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const s=n[t];if(typeof s=="object"&&s!=null&&Object.keys(s).length>0){const r=Object.keys(s).map(l=>`${t}.${l}`);e.push(...r)}else e.push(t)}return e.join(",")}function jb(n,e){let t=null;const s=n.bidiGenerateContentSetup;if(typeof s=="object"&&s!==null&&"setup"in s){const l=s.setup;typeof l=="object"&&l!==null?(n.bidiGenerateContentSetup=l,t=l):delete n.bidiGenerateContentSetup}else s!==void 0&&delete n.bidiGenerateContentSetup;const r=n.fieldMask;if(t){const l=Zb(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)l?n.fieldMask=l:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const c=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let d=[];r.length>0&&(d=r.map(p=>c.includes(p)?`generationConfig.${p}`:p));const y=[];l&&y.push(l),d.length>0&&y.push(...d),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?n.fieldMask=r.join(","):delete n.fieldMask;return n}class eM extends as{constructor(e){super(),this.apiClient=e}async create(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const d=Fb(this.apiClient,e);l=de("auth_tokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query;const y=jb(d,e.config);return r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(p=>p.json()),r.then(p=>p)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function tM(n,e){const t={},s=f(n,["force"]);return e!==void 0&&s!=null&&h(e,["_query","force"],s),t}function nM(n){const e={},t=f(n,["name"]);t!=null&&h(e,["_url","name"],t);const s=f(n,["config"]);return s!=null&&tM(s,e),e}function iM(n){const e={},t=f(n,["name"]);return t!=null&&h(e,["_url","name"],t),e}function sM(n,e){const t={},s=f(n,["pageSize"]);e!==void 0&&s!=null&&h(e,["_query","pageSize"],s);const r=f(n,["pageToken"]);return e!==void 0&&r!=null&&h(e,["_query","pageToken"],r),t}function oM(n){const e={},t=f(n,["parent"]);t!=null&&h(e,["_url","parent"],t);const s=f(n,["config"]);return s!=null&&sM(s,e),e}function rM(n){const e={},t=f(n,["sdkHttpResponse"]);t!=null&&h(e,["sdkHttpResponse"],t);const s=f(n,["nextPageToken"]);s!=null&&h(e,["nextPageToken"],s);const r=f(n,["documents"]);if(r!=null){let l=r;Array.isArray(l)&&(l=l.map(c=>c)),h(e,["documents"],l)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aM extends as{constructor(e){super(),this.apiClient=e,this.list=async t=>new Bo(ns.PAGED_ITEM_DOCUMENTS,s=>this.listInternal({parent:t.parent,config:s.config}),await this.listInternal(t),t)}async get(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=iM(e);return l=de("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(e){var t,s;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=nM(e);r=de("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=oM(e);return l=de("{parent}/documents",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const p=rM(y),v=new BI;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lM extends as{constructor(e,t=new aM(e)){super(),this.apiClient=e,this.documents=t,this.list=async(s={})=>new Bo(ns.PAGED_ITEM_FILE_SEARCH_STORES,r=>this.listInternal(r),await this.listInternal(s),s)}async uploadToFileSearchStore(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(e.fileSearchStoreName,e.file,e.config)}async create(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=ZN(e);return l=de("fileSearchStores",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async get(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=tb(e);return l=de("{name}",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(e){var t,s;let r="",l={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const c=eb(e);r=de("{name}",c._url),l=c._query,delete c._url,delete c._query,await this.apiClient.request({path:r,queryParams:l,body:JSON.stringify(c),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=ab(e);return l=de("fileSearchStores",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const p=lb(y),v=new zI;return Object.assign(v,p),v})}}async uploadToFileSearchStoreInternal(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=ub(e);return l=de("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const p=cb(y),v=new FI;return Object.assign(v,p),v})}}async importFile(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=sb(e);return l=de("{file_search_store_name}:importFile",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json()),r.then(y=>{const p=ib(y),v=new mm;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uM(n,e){const t={},s=f(n,["name"]);return s!=null&&h(t,["_url","name"],s),t}function cM(n,e){const t={},s=f(n,["name"]);return s!=null&&h(t,["_url","name"],s),t}function fM(n,e){const t={},s=f(n,["sdkHttpResponse"]);return s!=null&&h(t,["sdkHttpResponse"],s),t}function dM(n,e){const t={},s=f(n,["sdkHttpResponse"]);return s!=null&&h(t,["sdkHttpResponse"],s),t}function hM(n,e,t){const s={};if(f(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=f(n,["tunedModelDisplayName"]);if(e!==void 0&&r!=null&&h(e,["displayName"],r),f(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const l=f(n,["epochCount"]);e!==void 0&&l!=null&&h(e,["tuningTask","hyperparameters","epochCount"],l);const c=f(n,["learningRateMultiplier"]);if(c!=null&&h(s,["tuningTask","hyperparameters","learningRateMultiplier"],c),f(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(f(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(f(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const d=f(n,["batchSize"]);e!==void 0&&d!=null&&h(e,["tuningTask","hyperparameters","batchSize"],d);const y=f(n,["learningRate"]);if(e!==void 0&&y!=null&&h(e,["tuningTask","hyperparameters","learningRate"],y),f(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(f(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");return s}function mM(n,e,t){const s={};let r=f(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const R=f(n,["validationDataset"]);e!==void 0&&R!=null&&h(e,["supervisedTuningSpec"],f0(R))}else if(r==="PREFERENCE_TUNING"){const R=f(n,["validationDataset"]);e!==void 0&&R!=null&&h(e,["preferenceOptimizationSpec"],f0(R))}const l=f(n,["tunedModelDisplayName"]);e!==void 0&&l!=null&&h(e,["tunedModelDisplayName"],l);const c=f(n,["description"]);e!==void 0&&c!=null&&h(e,["description"],c);let d=f(t,["config","method"]);if(d===void 0&&(d="SUPERVISED_FINE_TUNING"),d==="SUPERVISED_FINE_TUNING"){const R=f(n,["epochCount"]);e!==void 0&&R!=null&&h(e,["supervisedTuningSpec","hyperParameters","epochCount"],R)}else if(d==="PREFERENCE_TUNING"){const R=f(n,["epochCount"]);e!==void 0&&R!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","epochCount"],R)}let y=f(t,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const R=f(n,["learningRateMultiplier"]);e!==void 0&&R!=null&&h(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],R)}else if(y==="PREFERENCE_TUNING"){const R=f(n,["learningRateMultiplier"]);e!==void 0&&R!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],R)}let p=f(t,["config","method"]);if(p===void 0&&(p="SUPERVISED_FINE_TUNING"),p==="SUPERVISED_FINE_TUNING"){const R=f(n,["exportLastCheckpointOnly"]);e!==void 0&&R!=null&&h(e,["supervisedTuningSpec","exportLastCheckpointOnly"],R)}else if(p==="PREFERENCE_TUNING"){const R=f(n,["exportLastCheckpointOnly"]);e!==void 0&&R!=null&&h(e,["preferenceOptimizationSpec","exportLastCheckpointOnly"],R)}let v=f(t,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const R=f(n,["adapterSize"]);e!==void 0&&R!=null&&h(e,["supervisedTuningSpec","hyperParameters","adapterSize"],R)}else if(v==="PREFERENCE_TUNING"){const R=f(n,["adapterSize"]);e!==void 0&&R!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","adapterSize"],R)}if(f(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(f(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=f(n,["labels"]);e!==void 0&&T!=null&&h(e,["labels"],T);const S=f(n,["beta"]);return e!==void 0&&S!=null&&h(e,["preferenceOptimizationSpec","hyperParameters","beta"],S),s}function pM(n,e){const t={},s=f(n,["baseModel"]);s!=null&&h(t,["baseModel"],s);const r=f(n,["preTunedModel"]);r!=null&&h(t,["preTunedModel"],r);const l=f(n,["trainingDataset"]);l!=null&&xM(l);const c=f(n,["config"]);return c!=null&&hM(c,t),t}function gM(n,e){const t={},s=f(n,["baseModel"]);s!=null&&h(t,["baseModel"],s);const r=f(n,["preTunedModel"]);r!=null&&h(t,["preTunedModel"],r);const l=f(n,["trainingDataset"]);l!=null&&RM(l,t,e);const c=f(n,["config"]);return c!=null&&mM(c,t,e),t}function yM(n,e){const t={},s=f(n,["name"]);return s!=null&&h(t,["_url","name"],s),t}function _M(n,e){const t={},s=f(n,["name"]);return s!=null&&h(t,["_url","name"],s),t}function vM(n,e,t){const s={},r=f(n,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const l=f(n,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const c=f(n,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),s}function TM(n,e,t){const s={},r=f(n,["pageSize"]);e!==void 0&&r!=null&&h(e,["_query","pageSize"],r);const l=f(n,["pageToken"]);e!==void 0&&l!=null&&h(e,["_query","pageToken"],l);const c=f(n,["filter"]);return e!==void 0&&c!=null&&h(e,["_query","filter"],c),s}function EM(n,e){const t={},s=f(n,["config"]);return s!=null&&vM(s,t),t}function SM(n,e){const t={},s=f(n,["config"]);return s!=null&&TM(s,t),t}function AM(n,e){const t={},s=f(n,["sdkHttpResponse"]);s!=null&&h(t,["sdkHttpResponse"],s);const r=f(n,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const l=f(n,["tunedModels"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>tE(d))),h(t,["tuningJobs"],c)}return t}function CM(n,e){const t={},s=f(n,["sdkHttpResponse"]);s!=null&&h(t,["sdkHttpResponse"],s);const r=f(n,["nextPageToken"]);r!=null&&h(t,["nextPageToken"],r);const l=f(n,["tuningJobs"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(d=>Hh(d))),h(t,["tuningJobs"],c)}return t}function IM(n,e){const t={},s=f(n,["name"]);s!=null&&h(t,["model"],s);const r=f(n,["name"]);return r!=null&&h(t,["endpoint"],r),t}function xM(n,e){const t={};if(f(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(f(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const s=f(n,["examples"]);if(s!=null){let r=s;Array.isArray(r)&&(r=r.map(l=>l)),h(t,["examples","examples"],r)}return t}function RM(n,e,t){const s={};let r=f(t,["config","method"]);if(r===void 0&&(r="SUPERVISED_FINE_TUNING"),r==="SUPERVISED_FINE_TUNING"){const c=f(n,["gcsUri"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(r==="PREFERENCE_TUNING"){const c=f(n,["gcsUri"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}let l=f(t,["config","method"]);if(l===void 0&&(l="SUPERVISED_FINE_TUNING"),l==="SUPERVISED_FINE_TUNING"){const c=f(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["supervisedTuningSpec","trainingDatasetUri"],c)}else if(l==="PREFERENCE_TUNING"){const c=f(n,["vertexDatasetResource"]);e!==void 0&&c!=null&&h(e,["preferenceOptimizationSpec","trainingDatasetUri"],c)}if(f(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return s}function tE(n,e){const t={},s=f(n,["sdkHttpResponse"]);s!=null&&h(t,["sdkHttpResponse"],s);const r=f(n,["name"]);r!=null&&h(t,["name"],r);const l=f(n,["state"]);l!=null&&h(t,["state"],UT(l));const c=f(n,["createTime"]);c!=null&&h(t,["createTime"],c);const d=f(n,["tuningTask","startTime"]);d!=null&&h(t,["startTime"],d);const y=f(n,["tuningTask","completeTime"]);y!=null&&h(t,["endTime"],y);const p=f(n,["updateTime"]);p!=null&&h(t,["updateTime"],p);const v=f(n,["description"]);v!=null&&h(t,["description"],v);const T=f(n,["baseModel"]);T!=null&&h(t,["baseModel"],T);const S=f(n,["_self"]);return S!=null&&h(t,["tunedModel"],IM(S)),t}function Hh(n,e){const t={},s=f(n,["sdkHttpResponse"]);s!=null&&h(t,["sdkHttpResponse"],s);const r=f(n,["name"]);r!=null&&h(t,["name"],r);const l=f(n,["state"]);l!=null&&h(t,["state"],UT(l));const c=f(n,["createTime"]);c!=null&&h(t,["createTime"],c);const d=f(n,["startTime"]);d!=null&&h(t,["startTime"],d);const y=f(n,["endTime"]);y!=null&&h(t,["endTime"],y);const p=f(n,["updateTime"]);p!=null&&h(t,["updateTime"],p);const v=f(n,["error"]);v!=null&&h(t,["error"],v);const T=f(n,["description"]);T!=null&&h(t,["description"],T);const S=f(n,["baseModel"]);S!=null&&h(t,["baseModel"],S);const R=f(n,["tunedModel"]);R!=null&&h(t,["tunedModel"],R);const O=f(n,["preTunedModel"]);O!=null&&h(t,["preTunedModel"],O);const H=f(n,["supervisedTuningSpec"]);H!=null&&h(t,["supervisedTuningSpec"],H);const z=f(n,["preferenceOptimizationSpec"]);z!=null&&h(t,["preferenceOptimizationSpec"],z);const ee=f(n,["tuningDataStats"]);ee!=null&&h(t,["tuningDataStats"],ee);const re=f(n,["encryptionSpec"]);re!=null&&h(t,["encryptionSpec"],re);const W=f(n,["partnerModelTuningSpec"]);W!=null&&h(t,["partnerModelTuningSpec"],W);const ue=f(n,["customBaseModel"]);ue!=null&&h(t,["customBaseModel"],ue);const he=f(n,["experiment"]);he!=null&&h(t,["experiment"],he);const j=f(n,["labels"]);j!=null&&h(t,["labels"],j);const M=f(n,["outputUri"]);M!=null&&h(t,["outputUri"],M);const b=f(n,["pipelineJob"]);b!=null&&h(t,["pipelineJob"],b);const N=f(n,["serviceAccount"]);N!=null&&h(t,["serviceAccount"],N);const P=f(n,["tunedModelDisplayName"]);P!=null&&h(t,["tunedModelDisplayName"],P);const U=f(n,["veoTuningSpec"]);return U!=null&&h(t,["veoTuningSpec"],U),t}function wM(n,e){const t={},s=f(n,["sdkHttpResponse"]);s!=null&&h(t,["sdkHttpResponse"],s);const r=f(n,["name"]);r!=null&&h(t,["name"],r);const l=f(n,["metadata"]);l!=null&&h(t,["metadata"],l);const c=f(n,["done"]);c!=null&&h(t,["done"],c);const d=f(n,["error"]);return d!=null&&h(t,["error"],d),t}function f0(n,e){const t={},s=f(n,["gcsUri"]);s!=null&&h(t,["validationDatasetUri"],s);const r=f(n,["vertexDatasetResource"]);return r!=null&&h(t,["validationDatasetUri"],r),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class NM extends as{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new Bo(ns.PAGED_ITEM_TUNING_JOBS,s=>this.listInternal(s),await this.listInternal(t),t),this.get=async t=>await this.getInternal(t),this.tune=async t=>{var s;if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const r={tunedModelName:t.baseModel};!((s=t.config)===null||s===void 0)&&s.preTunedModelCheckpointId&&(r.checkpointId=t.config.preTunedModelCheckpointId);const l=Object.assign(Object.assign({},t),{preTunedModel:r});return l.baseModel=void 0,await this.tuneInternal(l)}else{const r=Object.assign({},t);return await this.tuneInternal(r)}else{const r=Object.assign({},t),l=await this.tuneMldevInternal(r);let c="";return l.metadata!==void 0&&l.metadata.tunedModel!==void 0?c=l.metadata.tunedModel:l.name!==void 0&&l.name.includes("/operations/")&&(c=l.name.split("/operations/")[0]),{name:c,state:Lh.JOB_STATE_QUEUED}}}}async getInternal(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=_M(e);return d=de("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>Hh(v))}else{const p=yM(e);return d=de("{name}",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>tE(v))}}async listInternal(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=SM(e);return d=de("tuningJobs",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=CM(v),S=new Hv;return Object.assign(S,T),S})}else{const p=EM(e);return d=de("tunedModels",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=AM(v),S=new Hv;return Object.assign(S,T),S})}}async cancel(e){var t,s,r,l;let c,d="",y={};if(this.apiClient.isVertexAI()){const p=cM(e);return d=de("{name}:cancel",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=dM(v),S=new Gv;return Object.assign(S,T),S})}else{const p=uM(e);return d=de("{name}:cancel",p._url),y=p._query,delete p._url,delete p._query,c=this.apiClient.request({path:d,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(r=e.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const S=T;return S.sdkHttpResponse={headers:v.headers},S})),c.then(v=>{const T=fM(v),S=new Gv;return Object.assign(S,T),S})}}async tuneInternal(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI()){const d=gM(e,e);return l=de("tuningJobs",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>Hh(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,s;let r,l="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=pM(e);return l=de("tunedModels",d._url),c=d._query,delete d._url,delete d._query,r=this.apiClient.request({path:l,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),r.then(y=>wM(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class bM{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const MM=1024*1024*8,DM=3,PM=1e3,VM=2,Bc="x-goog-upload-status";async function UM(n,e,t){var s;const r=await nE(n,e,t),l=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Bc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return l.file}async function LM(n,e,t){var s;const r=await nE(n,e,t),l=await(r==null?void 0:r.json());if(((s=r==null?void 0:r.headers)===null||s===void 0?void 0:s[Bc])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const c=NT(l),d=new pm;return Object.assign(d,c),d}async function nE(n,e,t){var s,r;let l=0,c=0,d=new kh(new Response),y="upload";for(l=n.size;c<l;){const p=Math.min(MM,l-c),v=n.slice(c,c+p);c+p>=l&&(y+=", finalize");let T=0,S=PM;for(;T<DM&&(d=await t.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(c),"Content-Length":String(p)}}}),!(!((s=d==null?void 0:d.headers)===null||s===void 0)&&s[Bc]));)T++,await qM(S),S=S*VM;if(c+=p,((r=d==null?void 0:d.headers)===null||r===void 0?void 0:r[Bc])!=="active")break;if(l<=c)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return d}async function kM(n){return{size:n.size,type:n.type}}function qM(n){return new Promise(e=>setTimeout(e,n))}class OM{async upload(e,t,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await UM(e,t,s)}async uploadToFileSearchStore(e,t,s){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await LM(e,t,s)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await kM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class BM{create(e,t,s){return new zM(e,t,s)}}class zM{constructor(e,t,s){this.url=e,this.headers=t,this.callbacks=s}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const d0="x-goog-api-key";class FM{constructor(e){this.apiKey=e}async addAuthHeaders(e,t){if(e.get(d0)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(d0,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HM="gl-node/";class GM{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const s=vI(e.httpOptions,e.vertexai,void 0,void 0);s&&(e.httpOptions?e.httpOptions.baseUrl=s:e.httpOptions={baseUrl:s}),this.apiVersion=e.apiVersion,this.httpOptions=e.httpOptions;const r=new FM(this.apiKey);this.apiClient=new _b({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:HM+"web",uploader:new OM,downloader:new bM}),this.models=new kb(this.apiClient),this.live=new Mb(this.apiClient,r,new BM),this.batches=new Qx(this.apiClient),this.chats=new NR(this.models,this.apiClient),this.caches=new xR(this.apiClient),this.files=new OR(this.apiClient),this.operations=new qb(this.apiClient),this.authTokens=new eM(this.apiClient),this.tunings=new NM(this.apiClient),this.fileSearchStores=new lM(this.apiClient)}}const iE=()=>{const n="PLACEHOLDER_API_KEY";return new GM({apiKey:n})},YM=async(n,e)=>{const t=iE();if(!t)return"Error: API Key missing.";try{const s=`
      You are a sophisticated, helpful writing assistant for a high-end lifestyle blog.
      
      Task: ${n}
      
      ${e?`Context from previous paragraphs: ${e}`:""}

      Keep the tone elegant, minimal, and engaging. Do not use markdown formatting like **bold** or # headers in the response unless explicitly asked, just return plain text or simple paragraphs.
    `;return(await t.models.generateContent({model:"gemini-2.5-flash",contents:s})).text||""}catch(s){return console.error("Gemini generation error:",s),"Failed to generate content. Please try again."}},JM=async n=>{var t;const e=iE();if(!e)return"";try{return((t=(await e.models.generateContent({model:"gemini-2.5-flash",contents:`Generate a catchy, elegant, short blog post title based on this summary: ${n}. Return ONLY the title text.`})).text)==null?void 0:t.trim())||""}catch{return""}},Fs=({html:n,tagName:e,className:t,onChange:s,placeholder:r,onKeyDown:l,onPaste:c,readOnly:d,autoFocus:y,onFocus:p,style:v})=>{const T=ve.useRef(null);ve.useEffect(()=>{T.current&&n!==T.current.innerHTML&&document.activeElement!==T.current&&(T.current.innerHTML=n)},[n]),ve.useEffect(()=>{T.current&&T.current.innerHTML!==n&&(T.current.innerHTML=n)},[]);const S=R=>{s(R.currentTarget.innerHTML)};return ve.useEffect(()=>{if(y&&T.current){const R=document.createRange(),O=window.getSelection();R.selectNodeContents(T.current),R.collapse(!1),O&&(O.removeAllRanges(),O.addRange(R)),T.current.focus()}},[y]),RT.createElement(e,{ref:T,className:`${t} empty:before:content-[attr(data-placeholder)] empty:before:text-stone-300 cursor-text outline-none`,contentEditable:!d,suppressContentEditableWarning:!0,"data-placeholder":r,onInput:S,onBlur:S,onFocus:p,onKeyDown:l,onPaste:c,style:v})},KM=[{label:"Default",value:"#292524"},{label:"Rose",value:"#be185d"},{label:"Emerald",value:"#059669"},{label:"Blue",value:"#2563eb"},{label:"Amber",value:"#d97706"},{label:"Purple",value:"#7e22ce"},{label:"Gray",value:"#78716c"}],sE=({blocks:n,onChange:e,readOnly:t=!1})=>{const[s,r]=ve.useState(null),[l,c]=ve.useState(null),[d,y]=ve.useState(null),[p,v]=ve.useState(!1),[T,S]=ve.useState(""),[R,O]=ve.useState(null),[H,z]=ve.useState(!1),[ee,re]=ve.useState({top:0,left:0}),[W,ue]=ve.useState(!1),he=ve.useRef(null);ve.useEffect(()=>{const ae=Ee=>{d&&!Ee.target.closest(".block-menu-trigger")&&y(null),H&&he.current&&!he.current.contains(Ee.target)&&(z(!1),ue(!1))};return document.addEventListener("mousedown",ae),()=>document.removeEventListener("mousedown",ae)},[d,H]);const j=(ae,Ee)=>{if(t)return;const J=n.map(oe=>oe.id===ae?{...oe,...Ee}:oe);e(J),y(null)},M=(ae,Ee=Je.Paragraph)=>{if(t)return;const J={id:Math.random().toString(36).substr(2,9),type:Ee,content:"",width:100,align:"left"},oe=n.findIndex(be=>be.id===ae),fe=[...n];fe.splice(oe+1,0,J),e(fe),setTimeout(()=>r(J.id),10)},b=ae=>{if(t||n.length<=1)return;const Ee=n.findIndex(oe=>oe.id===ae),J=n.filter(oe=>oe.id!==ae);e(J),Ee>0&&r(J[Ee-1].id)},N=(ae,Ee=null)=>{if(document.execCommand(ae,!1,Ee),s){const J=document.getElementById(`block-${s}`);J&&j(s,{content:J.innerHTML})}},P=()=>{var fe,be;const ae=window.getSelection();if(!ae||ae.isCollapsed){z(!1),ue(!1);return}const J=ae.getRangeAt(0).getBoundingClientRect(),oe=(fe=he.current)==null?void 0:fe.getBoundingClientRect();oe&&((be=he.current)!=null&&be.contains(ae.anchorNode))&&(re({top:J.top-oe.top-50,left:J.left-oe.left+J.width/2-140}),z(!0))};ve.useEffect(()=>{if(!t)return document.addEventListener("selectionchange",P),()=>document.removeEventListener("selectionchange",P)},[t]);const U=(ae,Ee)=>{const J=ae.clipboardData.items;for(let oe=0;oe<J.length;oe++)if(J[oe].type.indexOf("image")!==-1){ae.preventDefault();const fe=J[oe].getAsFile();if(fe){const be=new FileReader;be.onload=Xe=>{var k;j(Ee,{type:Je.Image,src:(k=Xe.target)==null?void 0:k.result,content:""})},be.readAsDataURL(fe)}return}},q=async ae=>{if(!T.trim())return;v(!0);const Ee=n.findIndex(be=>be.id===ae)-1,J=Ee>=0?n[Ee].content:"",fe=(await YM(T,J)).replace(/```html/g,"").replace(/```/g,"");j(ae,{content:fe}),v(!1),O(null),S("")},D=ae=>{const Ee=`w-full bg-transparent resize-none placeholder:text-stone-300 ${ae.align==="center"?"text-center":ae.align==="right"?"text-right":"text-left"}`,J=s===ae.id,oe={html:ae.content,onChange:fe=>j(ae.id,{content:fe}),onFocus:()=>r(ae.id),onKeyDown:fe=>{fe.key==="Enter"&&!fe.shiftKey&&(fe.preventDefault(),M(ae.id,Je.Paragraph)),fe.key==="Backspace"&&!ae.content&&(fe.preventDefault(),b(ae.id))},onPaste:fe=>U(fe,ae.id),readOnly:t,className:Ee,autoFocus:J};switch(ae.type){case Je.Heading1:return C.jsx(Fs,{tagName:"h1",style:{fontSize:"3.75rem",lineHeight:"1.1",fontWeight:700},className:`font-serif mb-6 mt-10 text-stone-900 ${Ee}`,placeholder:"Heading 1",...oe});case Je.Heading2:return C.jsx(Fs,{tagName:"h2",style:{fontSize:"2.5rem",lineHeight:"1.2",fontWeight:700},className:`font-serif mb-4 mt-8 text-stone-800 ${Ee}`,placeholder:"Heading 2",...oe});case Je.Heading3:return C.jsx(Fs,{tagName:"h3",style:{fontSize:"1.75rem",lineHeight:"1.3",fontWeight:600},className:`font-serif mb-3 mt-6 text-stone-800 ${Ee}`,placeholder:"Heading 3",...oe});case Je.Quote:return C.jsxs("div",{className:"flex gap-4 border-l-4 border-rose-300 pl-4 py-2 bg-stone-50/50 rounded-r-lg my-4",children:[C.jsx(me.Quote,{className:"text-stone-300 flex-shrink-0",size:24}),C.jsx(Fs,{tagName:"div",className:`text-xl font-serif italic text-stone-700 ${Ee}`,placeholder:"Empty quote...",...oe})]});case Je.Code:return C.jsxs("div",{className:"bg-stone-900 rounded-lg p-4 my-4 relative group",children:[C.jsx("div",{className:"absolute right-2 top-2 text-xs text-stone-500",children:ae.language||"Code"}),C.jsx(Fs,{tagName:"pre",className:`font-mono text-sm text-stone-200 ${Ee}`,placeholder:"Write code...",...oe})]});case Je.List:return C.jsxs("div",{className:"flex gap-3 items-start my-2",children:[C.jsx("div",{className:"mt-2.5 w-1.5 h-1.5 rounded-full bg-stone-800 flex-shrink-0"}),C.jsx(Fs,{tagName:"div",className:`text-lg leading-relaxed ${Ee}`,placeholder:"List item",...oe})]});case Je.OrderedList:return C.jsxs("div",{className:"flex gap-3 items-start my-2",children:[C.jsx("span",{className:"mt-1 font-bold text-stone-400 select-none",children:"1."}),C.jsx(Fs,{tagName:"div",className:`text-lg leading-relaxed ${Ee}`,placeholder:"List item",...oe})]});case Je.Image:return C.jsx(h0,{block:ae,updateBlock:j,readOnly:t,isVideo:!1});case Je.Video:return C.jsx(h0,{block:ae,updateBlock:j,readOnly:t,isVideo:!0});case Je.Divider:return C.jsx("hr",{className:"border-stone-200 my-8"});default:return C.jsx(Fs,{tagName:"div",className:`text-lg leading-relaxed min-h-[1.5em] text-stone-700 ${Ee}`,placeholder:"Type '/' for commands...",...oe})}};return C.jsxs("div",{className:"relative max-w-3xl mx-auto pb-32",ref:he,children:[H&&!t&&C.jsxs("div",{className:"absolute z-50 bg-stone-900 text-white rounded-lg shadow-xl flex items-center p-1 gap-1 -translate-x-1/2 animate-fade-in",style:{top:ee.top,left:"50%"},children:[C.jsx(Hs,{icon:me.Bold,onClick:()=>N("bold")}),C.jsx(Hs,{icon:me.Italic,onClick:()=>N("italic")}),C.jsx(Hs,{icon:me.Underline,onClick:()=>N("underline")}),C.jsx(Hs,{icon:me.Link,onClick:()=>{const ae=prompt("Enter link URL:");ae&&N("createLink",ae)}}),C.jsxs("div",{className:"relative",children:[C.jsx(Hs,{icon:me.Palette,onClick:()=>ue(!W)}),W&&C.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 mt-2 bg-white p-2 rounded-lg shadow-xl border border-stone-200 flex gap-2 z-50 animate-fade-in",children:KM.map(ae=>C.jsx("button",{className:"w-6 h-6 rounded-full border border-stone-200 hover:scale-110 transition-transform",style:{backgroundColor:ae.value},title:ae.label,onMouseDown:Ee=>{Ee.preventDefault(),N("foreColor",ae.value),ue(!1)}},ae.value))})]}),C.jsx("div",{className:"w-px h-4 bg-stone-700 mx-1"}),C.jsx(Hs,{icon:me.AlignLeft,onClick:()=>N("justifyLeft")}),C.jsx(Hs,{icon:me.AlignCenter,onClick:()=>N("justifyCenter")}),C.jsx(Hs,{icon:me.AlignRight,onClick:()=>N("justifyRight")})]}),n.map(ae=>C.jsxs("div",{id:`block-${ae.id}`,className:"group relative flex items-start -ml-12 pl-12 mb-2",onMouseEnter:()=>!t&&c(ae.id),onMouseLeave:()=>!t&&c(null),children:[!t&&C.jsxs("div",{className:`absolute left-0 top-1.5 flex gap-1 transition-opacity duration-200 ${l===ae.id||d===ae.id?"opacity-100":"opacity-0"}`,children:[C.jsx("button",{onClick:()=>M(ae.id),className:"p-1 hover:bg-stone-100 rounded text-stone-400 hover:text-stone-600 transition-colors",children:C.jsx(me.Plus,{size:16})}),C.jsxs("div",{className:"relative",children:[C.jsx("button",{className:`p-1 rounded text-stone-400 hover:text-stone-600 cursor-pointer block-menu-trigger transition-colors ${d===ae.id?"bg-stone-100 text-stone-900":"hover:bg-stone-100"}`,onClick:Ee=>{Ee.stopPropagation(),y(d===ae.id?null:ae.id)},children:C.jsx(me.MoreHorizontal,{size:16})}),d===ae.id&&C.jsxs("div",{className:"absolute left-0 top-full mt-2 w-64 bg-white border border-stone-100 shadow-xl rounded-xl overflow-hidden z-20 py-1 animate-fade-in block-menu-trigger",children:[C.jsx("div",{className:"px-4 py-2 text-xs font-bold text-stone-400 uppercase tracking-wider bg-stone-50 border-b border-stone-50",children:"Turn into"}),C.jsx(ii,{label:"Text",icon:me.Type,onClick:()=>j(ae.id,{type:Je.Paragraph})}),C.jsx(ii,{label:"Heading 1",icon:me.Type,style:{fontSize:"1.5rem",fontWeight:"bold"},onClick:()=>j(ae.id,{type:Je.Heading1})}),C.jsx(ii,{label:"Heading 2",icon:me.Type,style:{fontSize:"1.25rem",fontWeight:"bold"},onClick:()=>j(ae.id,{type:Je.Heading2})}),C.jsx(ii,{label:"Heading 3",icon:me.Type,style:{fontSize:"1.1rem",fontWeight:"bold"},onClick:()=>j(ae.id,{type:Je.Heading3})}),C.jsx(ii,{label:"Bullet List",icon:me.List,onClick:()=>j(ae.id,{type:Je.List})}),C.jsx(ii,{label:"Numbered List",icon:me.ListOrdered,onClick:()=>j(ae.id,{type:Je.OrderedList})}),C.jsx(ii,{label:"Quote",icon:me.Quote,onClick:()=>j(ae.id,{type:Je.Quote})}),C.jsx(ii,{label:"Code Block",icon:me.Code,onClick:()=>j(ae.id,{type:Je.Code})}),C.jsx("div",{className:"px-4 py-2 text-xs font-bold text-stone-400 uppercase tracking-wider bg-stone-50 border-b border-stone-50 border-t mt-1",children:"Insert"}),C.jsx(ii,{label:"Image",icon:me.Image,onClick:()=>j(ae.id,{type:Je.Image})}),C.jsx(ii,{label:"Video Embed",icon:me.Video,onClick:()=>j(ae.id,{type:Je.Video})}),C.jsx(ii,{label:"Divider",icon:me.Minus,onClick:()=>j(ae.id,{type:Je.Divider})}),C.jsx("div",{className:"h-px bg-stone-100 my-1"}),C.jsxs("button",{onClick:()=>b(ae.id),className:"w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 flex items-center gap-2",children:[C.jsx(me.Trash2,{size:14})," Delete Block"]})]})]})]}),C.jsxs("div",{className:"w-full relative",children:[s===ae.id&&ae.type===Je.Paragraph&&!ae.content&&!t&&C.jsxs("button",{onClick:()=>O(ae.id),className:"absolute -top-7 left-0 text-[10px] font-bold text-purple-600 bg-purple-50 px-2 py-1 rounded-full flex items-center gap-1 hover:bg-purple-100 transition-colors",children:[C.jsx(me.Sparkles,{size:10})," AI WRITER"]}),D(ae)]}),R===ae.id&&C.jsxs("div",{className:"absolute top-full left-0 mt-2 z-30 w-full max-w-md bg-white rounded-xl shadow-2xl border border-purple-100 p-4 animate-fade-in",children:[C.jsxs("div",{className:"flex justify-between items-center mb-2",children:[C.jsxs("span",{className:"text-xs font-bold text-purple-600 uppercase tracking-wider flex items-center gap-1",children:[C.jsx(me.Sparkles,{size:12})," Gemini Assistant"]}),C.jsx("button",{onClick:()=>O(null),children:C.jsx(me.X,{size:14,className:"text-stone-400"})})]}),C.jsx("input",{type:"text",value:T,onChange:Ee=>S(Ee.target.value),placeholder:"Ask Gemini to write...",className:"w-full text-sm border-b border-stone-200 pb-2 mb-3 outline-none focus:border-purple-300",autoFocus:!0,onKeyDown:Ee=>Ee.key==="Enter"&&q(ae.id)}),C.jsx("div",{className:"flex justify-end gap-2",children:C.jsx("button",{onClick:()=>q(ae.id),disabled:p||!T,className:"bg-purple-600 text-white px-3 py-1.5 rounded-lg text-xs font-medium hover:bg-purple-700 disabled:opacity-50 flex items-center gap-2",children:p?"Thinking...":"Generate"})})]})]},ae.id)),!t&&C.jsxs("button",{onClick:()=>M(n[n.length-1].id,Je.Paragraph),className:"w-full py-4 text-stone-300 hover:text-stone-500 text-sm flex items-center justify-center gap-2 transition-colors border-t border-transparent hover:border-stone-100 mt-8",children:[C.jsx(me.Plus,{size:14})," Add block at end"]})]})},Hs=({icon:n,onClick:e})=>C.jsx("button",{onMouseDown:t=>{t.preventDefault(),e()},className:"p-1.5 hover:bg-stone-700 rounded text-stone-300 hover:text-white transition-colors",children:C.jsx(n,{size:14})}),ii=({label:n,icon:e,onClick:t,style:s})=>C.jsxs("button",{onClick:t,className:"w-full text-left px-4 py-2 text-sm hover:bg-stone-50 flex items-center gap-3 text-stone-700 transition-colors",children:[C.jsx(e,{size:14,className:"text-stone-400 flex-shrink-0"})," ",C.jsx("span",{style:s,children:n})]}),h0=({block:n,updateBlock:e,readOnly:t,isVideo:s})=>{const r=ve.useRef(null),l=c=>{var S,R,O;if(t)return;const d=c.clientX,y=((S=r.current)==null?void 0:S.offsetWidth)||0,p=((O=(R=r.current)==null?void 0:R.parentElement)==null?void 0:O.offsetWidth)||1,v=H=>{const z=H.clientX-d,ee=y+z,re=Math.min(100,Math.max(20,ee/p*100));e(n.id,{width:re})},T=()=>{window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",T)};window.addEventListener("mousemove",v),window.addEventListener("mouseup",T)};return!n.src&&!n.content?C.jsxs("div",{className:"bg-stone-50 border-2 border-dashed border-stone-200 rounded-xl p-8 text-center hover:bg-stone-100 transition-colors",children:[s?C.jsx(me.Video,{className:"mx-auto text-stone-300 mb-2",size:32}):C.jsx(me.Image,{className:"mx-auto text-stone-300 mb-2",size:32}),C.jsx("p",{className:"text-stone-500 text-sm mb-4",children:s?"Embed Video":"Upload Image"}),s?C.jsx("input",{type:"text",placeholder:"Paste YouTube URL...",className:"w-full max-w-sm mx-auto px-4 py-2 border border-stone-300 rounded-lg text-sm",onBlur:c=>{let d=c.target.value;d.includes("youtube.com/watch?v=")?d=d.replace("watch?v=","embed/"):d.includes("youtu.be/")&&(d=d.replace("youtu.be/","youtube.com/embed/")),e(n.id,{src:d})}}):C.jsxs("label",{className:"cursor-pointer bg-white border border-stone-300 text-stone-600 px-4 py-2 rounded-lg hover:bg-stone-50 transition-colors text-sm font-medium inline-block",children:["Choose File",C.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:c=>{var y;const d=(y=c.target.files)==null?void 0:y[0];if(d){const p=new FileReader;p.onloadend=()=>e(n.id,{src:p.result}),p.readAsDataURL(d)}}})]})]}):C.jsx("div",{className:`relative group/media my-6 flex ${n.align==="center"?"justify-center":n.align==="right"?"justify-end":"justify-start"}`,children:C.jsxs("div",{ref:r,className:"relative rounded-lg overflow-hidden shadow-sm",style:{width:`${n.width||100}%`},children:[s?C.jsx("iframe",{src:n.src,className:"w-full aspect-video",frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0}):C.jsx("img",{src:n.src,alt:"Block media",className:"w-full h-auto"}),!t&&C.jsx("div",{onMouseDown:l,className:"absolute right-2 bottom-2 w-6 h-6 bg-white rounded-full shadow cursor-ew-resize flex items-center justify-center opacity-0 group-hover/media:opacity-100 transition-opacity z-10",children:C.jsx(me.Move,{size:12})}),!t&&C.jsxs("div",{className:"absolute top-2 right-2 bg-white/90 backdrop-blur rounded-lg p-1 flex gap-1 opacity-0 group-hover/media:opacity-100 transition-opacity",children:[C.jsx("button",{onClick:()=>e(n.id,{align:"left"}),className:"p-1 hover:bg-stone-100 rounded",children:C.jsx(me.AlignLeft,{size:12})}),C.jsx("button",{onClick:()=>e(n.id,{align:"center"}),className:"p-1 hover:bg-stone-100 rounded",children:C.jsx(me.AlignCenter,{size:12})}),C.jsx("button",{onClick:()=>e(n.id,{align:"right"}),className:"p-1 hover:bg-stone-100 rounded",children:C.jsx(me.AlignRight,{size:12})})]})]})})},QM=()=>{};var m0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let r=n.charCodeAt(s);r<128?e[t++]=r:r<2048?(e[t++]=r>>6|192,e[t++]=r&63|128):(r&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=r>>18|240,e[t++]=r>>12&63|128,e[t++]=r>>6&63|128,e[t++]=r&63|128):(e[t++]=r>>12|224,e[t++]=r>>6&63|128,e[t++]=r&63|128)}return e},$M=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const r=n[t++];if(r<128)e[s++]=String.fromCharCode(r);else if(r>191&&r<224){const l=n[t++];e[s++]=String.fromCharCode((r&31)<<6|l&63)}else if(r>239&&r<365){const l=n[t++],c=n[t++],d=n[t++],y=((r&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(y>>10)),e[s++]=String.fromCharCode(56320+(y&1023))}else{const l=n[t++],c=n[t++];e[s++]=String.fromCharCode((r&15)<<12|(l&63)<<6|c&63)}}return e.join("")},rE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<n.length;r+=3){const l=n[r],c=r+1<n.length,d=c?n[r+1]:0,y=r+2<n.length,p=y?n[r+2]:0,v=l>>2,T=(l&3)<<4|d>>4;let S=(d&15)<<2|p>>6,R=p&63;y||(R=64,c||(S=64)),s.push(t[v],t[T],t[S],t[R])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(oE(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):$M(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<n.length;){const l=t[n.charAt(r++)],d=r<n.length?t[n.charAt(r)]:0;++r;const p=r<n.length?t[n.charAt(r)]:64;++r;const T=r<n.length?t[n.charAt(r)]:64;if(++r,l==null||d==null||p==null||T==null)throw new XM;const S=l<<2|d>>4;if(s.push(S),p!==64){const R=d<<4&240|p>>2;if(s.push(R),T!==64){const O=p<<6&192|T;s.push(O)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class XM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const WM=function(n){const e=oE(n);return rE.encodeByteArray(e,!0)},zc=function(n){return WM(n).replace(/\./g,"")},ZM=function(n){try{return rE.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=()=>jM().__FIREBASE_DEFAULTS__,t2=()=>{if(typeof process>"u"||typeof m0>"u")return;const n=m0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},n2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ZM(n[1]);return e&&JSON.parse(e)},Em=()=>{try{return QM()||e2()||t2()||n2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},i2=n=>{var e,t;return(t=(e=Em())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},s2=n=>{const e=i2(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},aE=()=>{var n;return(n=Em())==null?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o2{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sm(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function r2(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a2(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",r=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${s}`,aud:s,iat:r,exp:r+3600,auth_time:r,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...n};return[zc(JSON.stringify(t)),zc(JSON.stringify(c)),""].join(".")}const wl={};function l2(){const n={prod:[],emulator:[]};for(const e of Object.keys(wl))wl[e]?n.emulator.push(e):n.prod.push(e);return n}function u2(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let p0=!1;function c2(n,e){if(typeof window>"u"||typeof document>"u"||!Sm(window.location.host)||wl[n]===e||wl[n]||p0)return;wl[n]=e;function t(S){return`__firebase__banner__${S}`}const s="__firebase__banner",l=l2().prod.length>0;function c(){const S=document.getElementById(s);S&&S.remove()}function d(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function y(S,R){S.setAttribute("width","24"),S.setAttribute("id",R),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function p(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{p0=!0,c()},S}function v(S,R){S.setAttribute("id",R),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=u2(s),R=t("text"),O=document.getElementById(R)||document.createElement("span"),H=t("learnmore"),z=document.getElementById(H)||document.createElement("a"),ee=t("preprendIcon"),re=document.getElementById(ee)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const W=S.element;d(W),v(z,H);const ue=p();y(re,ee),W.append(re,O,z,ue),document.body.appendChild(W)}l?(O.innerText="Preview backend disconnected.",re.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(re.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",R)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f2(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function d2(){var e;const n=(e=Em())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function h2(){return!d2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function m2(){try{return typeof indexedDB=="object"}catch{return!1}}function p2(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},r.onupgradeneeded=()=>{t=!1},r.onerror=()=>{var l;e(((l=r.error)==null?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g2="FirebaseError";class oa extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=g2,Object.setPrototypeOf(this,oa.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,lE.prototype.create)}}class lE{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},r=`${this.service}/${e}`,l=this.errors[e],c=l?y2(l,s):"Error",d=`${this.serviceName}: ${c} (${r}).`;return new oa(r,d,s)}}function y2(n,e){return n.replace(_2,(t,s)=>{const r=e[s];return r!=null?String(r):`<${s}?>`})}const _2=/\{\$([^}]+)}/g;function Fc(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const r of t){if(!s.includes(r))return!1;const l=n[r],c=e[r];if(g0(l)&&g0(c)){if(!Fc(l,c))return!1}else if(l!==c)return!1}for(const r of s)if(!t.includes(r))return!1;return!0}function g0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $r(n){return n&&n._delegate?n._delegate:n}class Pl{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new o2;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:t});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(r){if(s)return null;throw r}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(E2(e))try{this.getOrInitializeService({instanceIdentifier:Uo})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:r});s.resolve(l)}catch{}}}}clearInstance(e=Uo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Uo){return this.instances.has(e)}getOptions(e=Uo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);s===d&&c.resolve(r)}return r}onInit(e,t){const s=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(s)??new Set;r.add(e),this.onInitCallbacks.set(s,r);const l=this.instances.get(s);return l&&e(l,s),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const r of s)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:T2(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Uo){return this.component?this.component.multipleInstances?e:Uo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function T2(n){return n===Uo?void 0:n}function E2(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new v2(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const A2={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},C2=Ye.INFO,I2={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},x2=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),r=I2[e];if(r)console[r](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class uE{constructor(e){this.name=e,this._logLevel=C2,this._logHandler=x2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?A2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}}const R2=(n,e)=>e.some(t=>n instanceof t);let y0,_0;function w2(){return y0||(y0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function N2(){return _0||(_0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cE=new WeakMap,Gh=new WeakMap,fE=new WeakMap,xh=new WeakMap,Am=new WeakMap;function b2(n){const e=new Promise((t,s)=>{const r=()=>{n.removeEventListener("success",l),n.removeEventListener("error",c)},l=()=>{t(Js(n.result)),r()},c=()=>{s(n.error),r()};n.addEventListener("success",l),n.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&cE.set(t,n)}).catch(()=>{}),Am.set(e,n),e}function M2(n){if(Gh.has(n))return;const e=new Promise((t,s)=>{const r=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",c),n.removeEventListener("abort",c)},l=()=>{t(),r()},c=()=>{s(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",l),n.addEventListener("error",c),n.addEventListener("abort",c)});Gh.set(n,e)}let Yh={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Gh.get(n);if(e==="objectStoreNames")return n.objectStoreNames||fE.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Js(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function D2(n){Yh=n(Yh)}function P2(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Rh(this),e,...t);return fE.set(s,e.sort?e.sort():[e]),Js(s)}:N2().includes(n)?function(...e){return n.apply(Rh(this),e),Js(cE.get(this))}:function(...e){return Js(n.apply(Rh(this),e))}}function V2(n){return typeof n=="function"?P2(n):(n instanceof IDBTransaction&&M2(n),R2(n,w2())?new Proxy(n,Yh):n)}function Js(n){if(n instanceof IDBRequest)return b2(n);if(xh.has(n))return xh.get(n);const e=V2(n);return e!==n&&(xh.set(n,e),Am.set(e,n)),e}const Rh=n=>Am.get(n);function U2(n,e,{blocked:t,upgrade:s,blocking:r,terminated:l}={}){const c=indexedDB.open(n,e),d=Js(c);return s&&c.addEventListener("upgradeneeded",y=>{s(Js(c.result),y.oldVersion,y.newVersion,Js(c.transaction),y)}),t&&c.addEventListener("blocked",y=>t(y.oldVersion,y.newVersion,y)),d.then(y=>{l&&y.addEventListener("close",()=>l()),r&&y.addEventListener("versionchange",p=>r(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const L2=["get","getKey","getAll","getAllKeys","count"],k2=["put","add","delete","clear"],wh=new Map;function v0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wh.get(e))return wh.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,r=k2.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(r||L2.includes(t)))return;const l=async function(c,...d){const y=this.transaction(c,r?"readwrite":"readonly");let p=y.store;return s&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),r&&y.done]))[0]};return wh.set(e,l),l}D2(n=>({...n,get:(e,t,s)=>v0(e,t)||n.get(e,t,s),has:(e,t)=>!!v0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(O2(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function O2(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Jh="@firebase/app",T0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const is=new uE("@firebase/app"),B2="@firebase/app-compat",z2="@firebase/analytics-compat",F2="@firebase/analytics",H2="@firebase/app-check-compat",G2="@firebase/app-check",Y2="@firebase/auth",J2="@firebase/auth-compat",K2="@firebase/database",Q2="@firebase/data-connect",$2="@firebase/database-compat",X2="@firebase/functions",W2="@firebase/functions-compat",Z2="@firebase/installations",j2="@firebase/installations-compat",eD="@firebase/messaging",tD="@firebase/messaging-compat",nD="@firebase/performance",iD="@firebase/performance-compat",sD="@firebase/remote-config",oD="@firebase/remote-config-compat",rD="@firebase/storage",aD="@firebase/storage-compat",lD="@firebase/firestore",uD="@firebase/ai",cD="@firebase/firestore-compat",fD="firebase",dD="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kh="[DEFAULT]",hD={[Jh]:"fire-core",[B2]:"fire-core-compat",[F2]:"fire-analytics",[z2]:"fire-analytics-compat",[G2]:"fire-app-check",[H2]:"fire-app-check-compat",[Y2]:"fire-auth",[J2]:"fire-auth-compat",[K2]:"fire-rtdb",[Q2]:"fire-data-connect",[$2]:"fire-rtdb-compat",[X2]:"fire-fn",[W2]:"fire-fn-compat",[Z2]:"fire-iid",[j2]:"fire-iid-compat",[eD]:"fire-fcm",[tD]:"fire-fcm-compat",[nD]:"fire-perf",[iD]:"fire-perf-compat",[sD]:"fire-rc",[oD]:"fire-rc-compat",[rD]:"fire-gcs",[aD]:"fire-gcs-compat",[lD]:"fire-fst",[cD]:"fire-fst-compat",[uD]:"fire-vertex","fire-js":"fire-js",[fD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hc=new Map,mD=new Map,Qh=new Map;function E0(n,e){try{n.container.addComponent(e)}catch(t){is.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Gc(n){const e=n.name;if(Qh.has(e))return is.debug(`There were multiple attempts to register component ${e}.`),!1;Qh.set(e,n);for(const t of Hc.values())E0(t,n);for(const t of mD.values())E0(t,n);return!0}function pD(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function gD(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ks=new lE("app","Firebase",yD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(e,t,s){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Pl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ks.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vD=dD;function dE(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s={name:Kh,automaticDataCollectionEnabled:!0,...e},r=s.name;if(typeof r!="string"||!r)throw Ks.create("bad-app-name",{appName:String(r)});if(t||(t=aE()),!t)throw Ks.create("no-options");const l=Hc.get(r);if(l){if(Fc(t,l.options)&&Fc(s,l.config))return l;throw Ks.create("duplicate-app",{appName:r})}const c=new S2(r);for(const y of Qh.values())c.addComponent(y);const d=new _D(t,s,c);return Hc.set(r,d),d}function TD(n=Kh){const e=Hc.get(n);if(!e&&n===Kh&&aE())return dE();if(!e)throw Ks.create("no-app",{appName:n});return e}function Jr(n,e,t){let s=hD[n]??n;t&&(s+=`-${t}`);const r=s.match(/\s|\//),l=e.match(/\s|\//);if(r||l){const c=[`Unable to register library "${s}" with version "${e}":`];r&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),r&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),is.warn(c.join(" "));return}Gc(new Pl(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED="firebase-heartbeat-database",SD=1,Vl="firebase-heartbeat-store";let Nh=null;function hE(){return Nh||(Nh=U2(ED,SD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Vl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ks.create("idb-open",{originalErrorMessage:n.message})})),Nh}async function AD(n){try{const t=(await hE()).transaction(Vl),s=await t.objectStore(Vl).get(mE(n));return await t.done,s}catch(e){if(e instanceof oa)is.warn(e.message);else{const t=Ks.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});is.warn(t.message)}}}async function S0(n,e){try{const s=(await hE()).transaction(Vl,"readwrite");await s.objectStore(Vl).put(e,mE(n)),await s.done}catch(t){if(t instanceof oa)is.warn(t.message);else{const s=Ks.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});is.warn(s.message)}}}function mE(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD=1024,ID=30;class xD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wD(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=A0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(c=>c.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:r}),this._heartbeatsCache.heartbeats.length>ID){const c=ND(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(c,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){is.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=A0(),{heartbeatsToSend:s,unsentEntries:r}=RD(this._heartbeatsCache.heartbeats),l=zc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return is.warn(t),""}}}function A0(){return new Date().toISOString().substring(0,10)}function RD(n,e=CD){const t=[];let s=n.slice();for(const r of n){const l=t.find(c=>c.agent===r.agent);if(l){if(l.dates.push(r.date),C0(t)>e){l.dates.pop();break}}else if(t.push({agent:r.agent,dates:[r.date]}),C0(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class wD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return m2()?p2().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await AD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return S0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function C0(n){return zc(JSON.stringify({version:2,heartbeats:n})).length}function ND(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bD(n){Gc(new Pl("platform-logger",e=>new q2(e),"PRIVATE")),Gc(new Pl("heartbeat",e=>new xD(e),"PRIVATE")),Jr(Jh,T0,n),Jr(Jh,T0,"esm2020"),Jr("fire-js","")}bD("");var MD="firebase",DD="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Jr(MD,DD,"app");var I0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Qs,pE;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(M,b){function N(){}N.prototype=b.prototype,M.F=b.prototype,M.prototype=new N,M.prototype.constructor=M,M.D=function(P,U,q){for(var D=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)D[ae-2]=arguments[ae];return b.prototype[U].apply(P,D)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,t),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,b,N){N||(N=0);const P=Array(16);if(typeof b=="string")for(var U=0;U<16;++U)P[U]=b.charCodeAt(N++)|b.charCodeAt(N++)<<8|b.charCodeAt(N++)<<16|b.charCodeAt(N++)<<24;else for(U=0;U<16;++U)P[U]=b[N++]|b[N++]<<8|b[N++]<<16|b[N++]<<24;b=M.g[0],N=M.g[1],U=M.g[2];let q=M.g[3],D;D=b+(q^N&(U^q))+P[0]+3614090360&4294967295,b=N+(D<<7&4294967295|D>>>25),D=q+(U^b&(N^U))+P[1]+3905402710&4294967295,q=b+(D<<12&4294967295|D>>>20),D=U+(N^q&(b^N))+P[2]+606105819&4294967295,U=q+(D<<17&4294967295|D>>>15),D=N+(b^U&(q^b))+P[3]+3250441966&4294967295,N=U+(D<<22&4294967295|D>>>10),D=b+(q^N&(U^q))+P[4]+4118548399&4294967295,b=N+(D<<7&4294967295|D>>>25),D=q+(U^b&(N^U))+P[5]+1200080426&4294967295,q=b+(D<<12&4294967295|D>>>20),D=U+(N^q&(b^N))+P[6]+2821735955&4294967295,U=q+(D<<17&4294967295|D>>>15),D=N+(b^U&(q^b))+P[7]+4249261313&4294967295,N=U+(D<<22&4294967295|D>>>10),D=b+(q^N&(U^q))+P[8]+1770035416&4294967295,b=N+(D<<7&4294967295|D>>>25),D=q+(U^b&(N^U))+P[9]+2336552879&4294967295,q=b+(D<<12&4294967295|D>>>20),D=U+(N^q&(b^N))+P[10]+4294925233&4294967295,U=q+(D<<17&4294967295|D>>>15),D=N+(b^U&(q^b))+P[11]+2304563134&4294967295,N=U+(D<<22&4294967295|D>>>10),D=b+(q^N&(U^q))+P[12]+1804603682&4294967295,b=N+(D<<7&4294967295|D>>>25),D=q+(U^b&(N^U))+P[13]+4254626195&4294967295,q=b+(D<<12&4294967295|D>>>20),D=U+(N^q&(b^N))+P[14]+2792965006&4294967295,U=q+(D<<17&4294967295|D>>>15),D=N+(b^U&(q^b))+P[15]+1236535329&4294967295,N=U+(D<<22&4294967295|D>>>10),D=b+(U^q&(N^U))+P[1]+4129170786&4294967295,b=N+(D<<5&4294967295|D>>>27),D=q+(N^U&(b^N))+P[6]+3225465664&4294967295,q=b+(D<<9&4294967295|D>>>23),D=U+(b^N&(q^b))+P[11]+643717713&4294967295,U=q+(D<<14&4294967295|D>>>18),D=N+(q^b&(U^q))+P[0]+3921069994&4294967295,N=U+(D<<20&4294967295|D>>>12),D=b+(U^q&(N^U))+P[5]+3593408605&4294967295,b=N+(D<<5&4294967295|D>>>27),D=q+(N^U&(b^N))+P[10]+38016083&4294967295,q=b+(D<<9&4294967295|D>>>23),D=U+(b^N&(q^b))+P[15]+3634488961&4294967295,U=q+(D<<14&4294967295|D>>>18),D=N+(q^b&(U^q))+P[4]+3889429448&4294967295,N=U+(D<<20&4294967295|D>>>12),D=b+(U^q&(N^U))+P[9]+568446438&4294967295,b=N+(D<<5&4294967295|D>>>27),D=q+(N^U&(b^N))+P[14]+3275163606&4294967295,q=b+(D<<9&4294967295|D>>>23),D=U+(b^N&(q^b))+P[3]+4107603335&4294967295,U=q+(D<<14&4294967295|D>>>18),D=N+(q^b&(U^q))+P[8]+1163531501&4294967295,N=U+(D<<20&4294967295|D>>>12),D=b+(U^q&(N^U))+P[13]+2850285829&4294967295,b=N+(D<<5&4294967295|D>>>27),D=q+(N^U&(b^N))+P[2]+4243563512&4294967295,q=b+(D<<9&4294967295|D>>>23),D=U+(b^N&(q^b))+P[7]+1735328473&4294967295,U=q+(D<<14&4294967295|D>>>18),D=N+(q^b&(U^q))+P[12]+2368359562&4294967295,N=U+(D<<20&4294967295|D>>>12),D=b+(N^U^q)+P[5]+4294588738&4294967295,b=N+(D<<4&4294967295|D>>>28),D=q+(b^N^U)+P[8]+2272392833&4294967295,q=b+(D<<11&4294967295|D>>>21),D=U+(q^b^N)+P[11]+1839030562&4294967295,U=q+(D<<16&4294967295|D>>>16),D=N+(U^q^b)+P[14]+4259657740&4294967295,N=U+(D<<23&4294967295|D>>>9),D=b+(N^U^q)+P[1]+2763975236&4294967295,b=N+(D<<4&4294967295|D>>>28),D=q+(b^N^U)+P[4]+1272893353&4294967295,q=b+(D<<11&4294967295|D>>>21),D=U+(q^b^N)+P[7]+4139469664&4294967295,U=q+(D<<16&4294967295|D>>>16),D=N+(U^q^b)+P[10]+3200236656&4294967295,N=U+(D<<23&4294967295|D>>>9),D=b+(N^U^q)+P[13]+681279174&4294967295,b=N+(D<<4&4294967295|D>>>28),D=q+(b^N^U)+P[0]+3936430074&4294967295,q=b+(D<<11&4294967295|D>>>21),D=U+(q^b^N)+P[3]+3572445317&4294967295,U=q+(D<<16&4294967295|D>>>16),D=N+(U^q^b)+P[6]+76029189&4294967295,N=U+(D<<23&4294967295|D>>>9),D=b+(N^U^q)+P[9]+3654602809&4294967295,b=N+(D<<4&4294967295|D>>>28),D=q+(b^N^U)+P[12]+3873151461&4294967295,q=b+(D<<11&4294967295|D>>>21),D=U+(q^b^N)+P[15]+530742520&4294967295,U=q+(D<<16&4294967295|D>>>16),D=N+(U^q^b)+P[2]+3299628645&4294967295,N=U+(D<<23&4294967295|D>>>9),D=b+(U^(N|~q))+P[0]+4096336452&4294967295,b=N+(D<<6&4294967295|D>>>26),D=q+(N^(b|~U))+P[7]+1126891415&4294967295,q=b+(D<<10&4294967295|D>>>22),D=U+(b^(q|~N))+P[14]+2878612391&4294967295,U=q+(D<<15&4294967295|D>>>17),D=N+(q^(U|~b))+P[5]+4237533241&4294967295,N=U+(D<<21&4294967295|D>>>11),D=b+(U^(N|~q))+P[12]+1700485571&4294967295,b=N+(D<<6&4294967295|D>>>26),D=q+(N^(b|~U))+P[3]+2399980690&4294967295,q=b+(D<<10&4294967295|D>>>22),D=U+(b^(q|~N))+P[10]+4293915773&4294967295,U=q+(D<<15&4294967295|D>>>17),D=N+(q^(U|~b))+P[1]+2240044497&4294967295,N=U+(D<<21&4294967295|D>>>11),D=b+(U^(N|~q))+P[8]+1873313359&4294967295,b=N+(D<<6&4294967295|D>>>26),D=q+(N^(b|~U))+P[15]+4264355552&4294967295,q=b+(D<<10&4294967295|D>>>22),D=U+(b^(q|~N))+P[6]+2734768916&4294967295,U=q+(D<<15&4294967295|D>>>17),D=N+(q^(U|~b))+P[13]+1309151649&4294967295,N=U+(D<<21&4294967295|D>>>11),D=b+(U^(N|~q))+P[4]+4149444226&4294967295,b=N+(D<<6&4294967295|D>>>26),D=q+(N^(b|~U))+P[11]+3174756917&4294967295,q=b+(D<<10&4294967295|D>>>22),D=U+(b^(q|~N))+P[2]+718787259&4294967295,U=q+(D<<15&4294967295|D>>>17),D=N+(q^(U|~b))+P[9]+3951481745&4294967295,M.g[0]=M.g[0]+b&4294967295,M.g[1]=M.g[1]+(U+(D<<21&4294967295|D>>>11))&4294967295,M.g[2]=M.g[2]+U&4294967295,M.g[3]=M.g[3]+q&4294967295}s.prototype.v=function(M,b){b===void 0&&(b=M.length);const N=b-this.blockSize,P=this.C;let U=this.h,q=0;for(;q<b;){if(U==0)for(;q<=N;)r(this,M,q),q+=this.blockSize;if(typeof M=="string"){for(;q<b;)if(P[U++]=M.charCodeAt(q++),U==this.blockSize){r(this,P),U=0;break}}else for(;q<b;)if(P[U++]=M[q++],U==this.blockSize){r(this,P),U=0;break}}this.h=U,this.o+=b},s.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var b=1;b<M.length-8;++b)M[b]=0;b=this.o*8;for(var N=M.length-8;N<M.length;++N)M[N]=b&255,b/=256;for(this.v(M),M=Array(16),b=0,N=0;N<4;++N)for(let P=0;P<32;P+=8)M[b++]=this.g[N]>>>P&255;return M};function l(M,b){var N=d;return Object.prototype.hasOwnProperty.call(N,M)?N[M]:N[M]=b(M)}function c(M,b){this.h=b;const N=[];let P=!0;for(let U=M.length-1;U>=0;U--){const q=M[U]|0;P&&q==b||(N[U]=q,P=!1)}this.g=N}var d={};function y(M){return-128<=M&&M<128?l(M,function(b){return new c([b|0],b<0?-1:0)}):new c([M|0],M<0?-1:0)}function p(M){if(isNaN(M)||!isFinite(M))return T;if(M<0)return z(p(-M));const b=[];let N=1;for(let P=0;M>=N;P++)b[P]=M/N|0,N*=4294967296;return new c(b,0)}function v(M,b){if(M.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(M.charAt(0)=="-")return z(v(M.substring(1),b));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=p(Math.pow(b,8));let P=T;for(let q=0;q<M.length;q+=8){var U=Math.min(8,M.length-q);const D=parseInt(M.substring(q,q+U),b);U<8?(U=p(Math.pow(b,U)),P=P.j(U).add(p(D))):(P=P.j(N),P=P.add(p(D)))}return P}var T=y(0),S=y(1),R=y(16777216);n=c.prototype,n.m=function(){if(H(this))return-z(this).m();let M=0,b=1;for(let N=0;N<this.g.length;N++){const P=this.i(N);M+=(P>=0?P:4294967296+P)*b,b*=4294967296}return M},n.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(O(this))return"0";if(H(this))return"-"+z(this).toString(M);const b=p(Math.pow(M,6));var N=this;let P="";for(;;){const U=ue(N,b).g;N=ee(N,U.j(b));let q=((N.g.length>0?N.g[0]:N.h)>>>0).toString(M);if(N=U,O(N))return q+P;for(;q.length<6;)q="0"+q;P=q+P}},n.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function O(M){if(M.h!=0)return!1;for(let b=0;b<M.g.length;b++)if(M.g[b]!=0)return!1;return!0}function H(M){return M.h==-1}n.l=function(M){return M=ee(this,M),H(M)?-1:O(M)?0:1};function z(M){const b=M.g.length,N=[];for(let P=0;P<b;P++)N[P]=~M.g[P];return new c(N,~M.h).add(S)}n.abs=function(){return H(this)?z(this):this},n.add=function(M){const b=Math.max(this.g.length,M.g.length),N=[];let P=0;for(let U=0;U<=b;U++){let q=P+(this.i(U)&65535)+(M.i(U)&65535),D=(q>>>16)+(this.i(U)>>>16)+(M.i(U)>>>16);P=D>>>16,q&=65535,D&=65535,N[U]=D<<16|q}return new c(N,N[N.length-1]&-2147483648?-1:0)};function ee(M,b){return M.add(z(b))}n.j=function(M){if(O(this)||O(M))return T;if(H(this))return H(M)?z(this).j(z(M)):z(z(this).j(M));if(H(M))return z(this.j(z(M)));if(this.l(R)<0&&M.l(R)<0)return p(this.m()*M.m());const b=this.g.length+M.g.length,N=[];for(var P=0;P<2*b;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(let U=0;U<M.g.length;U++){const q=this.i(P)>>>16,D=this.i(P)&65535,ae=M.i(U)>>>16,Ee=M.i(U)&65535;N[2*P+2*U]+=D*Ee,re(N,2*P+2*U),N[2*P+2*U+1]+=q*Ee,re(N,2*P+2*U+1),N[2*P+2*U+1]+=D*ae,re(N,2*P+2*U+1),N[2*P+2*U+2]+=q*ae,re(N,2*P+2*U+2)}for(M=0;M<b;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=b;M<2*b;M++)N[M]=0;return new c(N,0)};function re(M,b){for(;(M[b]&65535)!=M[b];)M[b+1]+=M[b]>>>16,M[b]&=65535,b++}function W(M,b){this.g=M,this.h=b}function ue(M,b){if(O(b))throw Error("division by zero");if(O(M))return new W(T,T);if(H(M))return b=ue(z(M),b),new W(z(b.g),z(b.h));if(H(b))return b=ue(M,z(b)),new W(z(b.g),b.h);if(M.g.length>30){if(H(M)||H(b))throw Error("slowDivide_ only works with positive integers.");for(var N=S,P=b;P.l(M)<=0;)N=he(N),P=he(P);var U=j(N,1),q=j(P,1);for(P=j(P,2),N=j(N,2);!O(P);){var D=q.add(P);D.l(M)<=0&&(U=U.add(N),q=D),P=j(P,1),N=j(N,1)}return b=ee(M,U.j(b)),new W(U,b)}for(U=T;M.l(b)>=0;){for(N=Math.max(1,Math.floor(M.m()/b.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),q=p(N),D=q.j(b);H(D)||D.l(M)>0;)N-=P,q=p(N),D=q.j(b);O(q)&&(q=S),U=U.add(q),M=ee(M,D)}return new W(U,M)}n.B=function(M){return ue(this,M).h},n.and=function(M){const b=Math.max(this.g.length,M.g.length),N=[];for(let P=0;P<b;P++)N[P]=this.i(P)&M.i(P);return new c(N,this.h&M.h)},n.or=function(M){const b=Math.max(this.g.length,M.g.length),N=[];for(let P=0;P<b;P++)N[P]=this.i(P)|M.i(P);return new c(N,this.h|M.h)},n.xor=function(M){const b=Math.max(this.g.length,M.g.length),N=[];for(let P=0;P<b;P++)N[P]=this.i(P)^M.i(P);return new c(N,this.h^M.h)};function he(M){const b=M.g.length+1,N=[];for(let P=0;P<b;P++)N[P]=M.i(P)<<1|M.i(P-1)>>>31;return new c(N,M.h)}function j(M,b){const N=b>>5;b%=32;const P=M.g.length-N,U=[];for(let q=0;q<P;q++)U[q]=b>0?M.i(q+N)>>>b|M.i(q+N+1)<<32-b:M.i(q+N);return new c(U,M.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,pE=s,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=v,Qs=c}).apply(typeof I0<"u"?I0:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gE,Al,yE,Mc,$h,_E,vE,TE;(function(){var n,e=Object.defineProperty;function t(m){m=[typeof globalThis=="object"&&globalThis,m,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var E=0;E<m.length;++E){var I=m[E];if(I&&I.Math==Math)return I}throw Error("Cannot find global object")}var s=t(this);function r(m,E){if(E)e:{var I=s;m=m.split(".");for(var w=0;w<m.length-1;w++){var F=m[w];if(!(F in I))break e;I=I[F]}m=m[m.length-1],w=I[m],E=E(w),E!=w&&E!=null&&e(I,m,{configurable:!0,writable:!0,value:E})}}r("Symbol.dispose",function(m){return m||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(m){return m||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(m){return m||function(E){var I=[],w;for(w in E)Object.prototype.hasOwnProperty.call(E,w)&&I.push([w,E[w]]);return I}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function d(m){var E=typeof m;return E=="object"&&m!=null||E=="function"}function y(m,E,I){return m.call.apply(m.bind,arguments)}function p(m,E,I){return p=y,p.apply(null,arguments)}function v(m,E){var I=Array.prototype.slice.call(arguments,1);return function(){var w=I.slice();return w.push.apply(w,arguments),m.apply(this,w)}}function T(m,E){function I(){}I.prototype=E.prototype,m.Z=E.prototype,m.prototype=new I,m.prototype.constructor=m,m.Ob=function(w,F,Q){for(var le=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)le[Me-2]=arguments[Me];return E.prototype[F].apply(w,le)}}var S=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?m=>m&&AsyncContext.Snapshot.wrap(m):m=>m;function R(m){const E=m.length;if(E>0){const I=Array(E);for(let w=0;w<E;w++)I[w]=m[w];return I}return[]}function O(m,E){for(let w=1;w<arguments.length;w++){const F=arguments[w];var I=typeof F;if(I=I!="object"?I:F?Array.isArray(F)?"array":I:"null",I=="array"||I=="object"&&typeof F.length=="number"){I=m.length||0;const Q=F.length||0;m.length=I+Q;for(let le=0;le<Q;le++)m[I+le]=F[le]}else m.push(F)}}class H{constructor(E,I){this.i=E,this.j=I,this.h=0,this.g=null}get(){let E;return this.h>0?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function z(m){c.setTimeout(()=>{throw m},0)}function ee(){var m=M;let E=null;return m.g&&(E=m.g,m.g=m.g.next,m.g||(m.h=null),E.next=null),E}class re{constructor(){this.h=this.g=null}add(E,I){const w=W.get();w.set(E,I),this.h?this.h.next=w:this.g=w,this.h=w}}var W=new H(()=>new ue,m=>m.reset());class ue{constructor(){this.next=this.g=this.h=null}set(E,I){this.h=E,this.g=I,this.next=null}reset(){this.next=this.g=this.h=null}}let he,j=!1,M=new re,b=()=>{const m=Promise.resolve(void 0);he=()=>{m.then(N)}};function N(){for(var m;m=ee();){try{m.h.call(m.g)}catch(I){z(I)}var E=W;E.j(m),E.h<100&&(E.h++,m.next=E.g,E.g=m)}j=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function U(m,E){this.type=m,this.g=this.target=E,this.defaultPrevented=!1}U.prototype.h=function(){this.defaultPrevented=!0};var q=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var m=!1,E=Object.defineProperty({},"passive",{get:function(){m=!0}});try{const I=()=>{};c.addEventListener("test",I,E),c.removeEventListener("test",I,E)}catch{}return m})();function D(m){return/^[\s\xa0]*$/.test(m)}function ae(m,E){U.call(this,m?m.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,m&&this.init(m,E)}T(ae,U),ae.prototype.init=function(m,E){const I=this.type=m.type,w=m.changedTouches&&m.changedTouches.length?m.changedTouches[0]:null;this.target=m.target||m.srcElement,this.g=E,E=m.relatedTarget,E||(I=="mouseover"?E=m.fromElement:I=="mouseout"&&(E=m.toElement)),this.relatedTarget=E,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=m.clientX!==void 0?m.clientX:m.pageX,this.clientY=m.clientY!==void 0?m.clientY:m.pageY,this.screenX=m.screenX||0,this.screenY=m.screenY||0),this.button=m.button,this.key=m.key||"",this.ctrlKey=m.ctrlKey,this.altKey=m.altKey,this.shiftKey=m.shiftKey,this.metaKey=m.metaKey,this.pointerId=m.pointerId||0,this.pointerType=m.pointerType,this.state=m.state,this.i=m,m.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const m=this.i;m.preventDefault?m.preventDefault():m.returnValue=!1};var Ee="closure_listenable_"+(Math.random()*1e6|0),J=0;function oe(m,E,I,w,F){this.listener=m,this.proxy=null,this.src=E,this.type=I,this.capture=!!w,this.ha=F,this.key=++J,this.da=this.fa=!1}function fe(m){m.da=!0,m.listener=null,m.proxy=null,m.src=null,m.ha=null}function be(m,E,I){for(const w in m)E.call(I,m[w],w,m)}function Xe(m,E){for(const I in m)E.call(void 0,m[I],I,m)}function k(m){const E={};for(const I in m)E[I]=m[I];return E}const ie="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ce(m,E){let I,w;for(let F=1;F<arguments.length;F++){w=arguments[F];for(I in w)m[I]=w[I];for(let Q=0;Q<ie.length;Q++)I=ie[Q],Object.prototype.hasOwnProperty.call(w,I)&&(m[I]=w[I])}}function ye(m){this.src=m,this.g={},this.h=0}ye.prototype.add=function(m,E,I,w,F){const Q=m.toString();m=this.g[Q],m||(m=this.g[Q]=[],this.h++);const le=Pe(m,E,w,F);return le>-1?(E=m[le],I||(E.fa=!1)):(E=new oe(E,this.src,Q,!!w,F),E.fa=I,m.push(E)),E};function xe(m,E){const I=E.type;if(I in m.g){var w=m.g[I],F=Array.prototype.indexOf.call(w,E,void 0),Q;(Q=F>=0)&&Array.prototype.splice.call(w,F,1),Q&&(fe(E),m.g[I].length==0&&(delete m.g[I],m.h--))}}function Pe(m,E,I,w){for(let F=0;F<m.length;++F){const Q=m[F];if(!Q.da&&Q.listener==E&&Q.capture==!!I&&Q.ha==w)return F}return-1}var He="closure_lm_"+(Math.random()*1e6|0),kt={};function ht(m,E,I,w,F){if(Array.isArray(E)){for(let Q=0;Q<E.length;Q++)ht(m,E[Q],I,w,F);return null}return I=ga(I),m&&m[Ee]?m.J(E,I,d(w)?!!w.capture:!1,F):io(m,E,I,!1,w,F)}function io(m,E,I,w,F,Q){if(!E)throw Error("Invalid event type");const le=d(F)?!!F.capture:!!F;let Me=so(m);if(Me||(m[He]=Me=new ye(m)),I=Me.add(E,I,w,le,Q),I.proxy)return I;if(w=Ko(),I.proxy=w,w.src=m,w.listener=I,m.addEventListener)q||(F=le),F===void 0&&(F=!1),m.addEventListener(E.toString(),w,F);else if(m.attachEvent)m.attachEvent(li(E.toString()),w);else if(m.addListener&&m.removeListener)m.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return I}function Ko(){function m(I){return E.call(m.src,m.listener,I)}const E=ma;return m}function Qo(m,E,I,w,F){if(Array.isArray(E))for(var Q=0;Q<E.length;Q++)Qo(m,E[Q],I,w,F);else w=d(w)?!!w.capture:!!w,I=ga(I),m&&m[Ee]?(m=m.i,Q=String(E).toString(),Q in m.g&&(E=m.g[Q],I=Pe(E,I,w,F),I>-1&&(fe(E[I]),Array.prototype.splice.call(E,I,1),E.length==0&&(delete m.g[Q],m.h--)))):m&&(m=so(m))&&(E=m.g[E.toString()],m=-1,E&&(m=Pe(E,I,w,F)),(I=m>-1?E[m]:null)&&$o(I))}function $o(m){if(typeof m!="number"&&m&&!m.da){var E=m.src;if(E&&E[Ee])xe(E.i,m);else{var I=m.type,w=m.proxy;E.removeEventListener?E.removeEventListener(I,w,m.capture):E.detachEvent?E.detachEvent(li(I),w):E.addListener&&E.removeListener&&E.removeListener(w),(I=so(E))?(xe(I,m),I.h==0&&(I.src=null,E[He]=null)):fe(m)}}}function li(m){return m in kt?kt[m]:kt[m]="on"+m}function ma(m,E){if(m.da)m=!0;else{E=new ae(E,this);const I=m.listener,w=m.ha||m.src;m.fa&&$o(m),m=I.call(w,E)}return m}function so(m){return m=m[He],m instanceof ye?m:null}var pa="__closure_events_fn_"+(Math.random()*1e9>>>0);function ga(m){return typeof m=="function"?m:(m[pa]||(m[pa]=function(E){return m.handleEvent(E)}),m[pa])}function Ct(){P.call(this),this.i=new ye(this),this.M=this,this.G=null}T(Ct,P),Ct.prototype[Ee]=!0,Ct.prototype.removeEventListener=function(m,E,I,w){Qo(this,m,E,I,w)};function qt(m,E){var I,w=m.G;if(w)for(I=[];w;w=w.G)I.push(w);if(m=m.M,w=E.type||E,typeof E=="string")E=new U(E,m);else if(E instanceof U)E.target=E.target||m;else{var F=E;E=new U(w,m),ce(E,F)}F=!0;let Q,le;if(I)for(le=I.length-1;le>=0;le--)Q=E.g=I[le],F=us(Q,w,!0,E)&&F;if(Q=E.g=m,F=us(Q,w,!0,E)&&F,F=us(Q,w,!1,E)&&F,I)for(le=0;le<I.length;le++)Q=E.g=I[le],F=us(Q,w,!1,E)&&F}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var m=this.i;for(const E in m.g){const I=m.g[E];for(let w=0;w<I.length;w++)fe(I[w]);delete m.g[E],m.h--}}this.G=null},Ct.prototype.J=function(m,E,I,w){return this.i.add(String(m),E,!1,I,w)},Ct.prototype.K=function(m,E,I,w){return this.i.add(String(m),E,!0,I,w)};function us(m,E,I,w){if(E=m.i.g[String(E)],!E)return!0;E=E.concat();let F=!0;for(let Q=0;Q<E.length;++Q){const le=E[Q];if(le&&!le.da&&le.capture==I){const Me=le.listener,Tt=le.ha||le.src;le.fa&&xe(m.i,le),F=Me.call(Tt,w)!==!1&&F}}return F&&!w.defaultPrevented}function Sf(m,E){if(typeof m!="function")if(m&&typeof m.handleEvent=="function")m=p(m.handleEvent,m);else throw Error("Invalid listener argument");return Number(E)>2147483647?-1:c.setTimeout(m,E||0)}function $l(m){m.g=Sf(()=>{m.g=null,m.i&&(m.i=!1,$l(m))},m.l);const E=m.h;m.h=null,m.m.apply(null,E)}class rn extends P{constructor(E,I){super(),this.m=E,this.l=I,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:$l(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oo(m){P.call(this),this.h=m,this.g={}}T(oo,P);var ya=[];function _a(m){be(m.g,function(E,I){this.g.hasOwnProperty(I)&&$o(E)},m),m.g={}}oo.prototype.N=function(){oo.Z.N.call(this),_a(this)},oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=c.JSON.stringify,Af=c.JSON.parse,Xl=class{stringify(m){return c.JSON.stringify(m,void 0)}parse(m){return c.JSON.parse(m,void 0)}};function Wl(){}function Zl(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Yt(){U.call(this,"d")}T(Yt,U);function xn(){U.call(this,"c")}T(xn,U);var vt={},jl=null;function Xo(){return jl=jl||new Ct}vt.Ia="serverreachability";function eu(m){U.call(this,vt.Ia,m)}T(eu,U);function ui(m){const E=Xo();qt(E,new eu(E))}vt.STAT_EVENT="statevent";function ro(m,E){U.call(this,vt.STAT_EVENT,m),this.stat=E}T(ro,U);function It(m){const E=Xo();qt(E,new ro(E,m))}vt.Ja="timingevent";function ci(m,E){U.call(this,vt.Ja,m),this.size=E}T(ci,U);function fi(m,E){if(typeof m!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){m()},E)}function Jn(){this.g=!0}Jn.prototype.ua=function(){this.g=!1};function Cf(m,E,I,w,F,Q){m.info(function(){if(m.g)if(Q){var le="",Me=Q.split("&");for(let We=0;We<Me.length;We++){var Tt=Me[We].split("=");if(Tt.length>1){const mt=Tt[0];Tt=Tt[1];const bn=mt.split("_");le=bn.length>=2&&bn[1]=="type"?le+(mt+"="+Tt+"&"):le+(mt+"=redacted&")}}}else le=null;else le=Q;return"XMLHTTP REQ ("+w+") [attempt "+F+"]: "+E+`
`+I+`
`+le})}function tu(m,E,I,w,F,Q,le){m.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+F+"]: "+E+`
`+I+`
`+Q+" "+le})}function di(m,E,I,w){m.info(function(){return"XMLHTTP TEXT ("+E+"): "+If(m,I)+(w?" "+w:"")})}function ao(m,E){m.info(function(){return"TIMEOUT: "+E})}Jn.prototype.info=function(){};function If(m,E){if(!m.g)return E;if(!E)return null;try{const Q=JSON.parse(E);if(Q){for(m=0;m<Q.length;m++)if(Array.isArray(Q[m])){var I=Q[m];if(!(I.length<2)){var w=I[1];if(Array.isArray(w)&&!(w.length<1)){var F=w[0];if(F!="noop"&&F!="stop"&&F!="close")for(let le=1;le<w.length;le++)w[le]=""}}}}return cs(Q)}catch{return E}}var lo={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},va={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ta;function uo(){}T(uo,Wl),uo.prototype.g=function(){return new XMLHttpRequest},Ta=new uo;function Li(m){return encodeURIComponent(String(m))}function nu(m){var E=1;m=m.split(":");const I=[];for(;E>0&&m.length;)I.push(m.shift()),E--;return m.length&&I.push(m.join(":")),I}function Kn(m,E,I,w){this.j=m,this.i=E,this.l=I,this.S=w||1,this.V=new oo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Qn}function Qn(){this.i=null,this.g="",this.h=!1}var xt={},zt={};function hi(m,E,I){m.M=1,m.A=co(wt(E)),m.u=I,m.R=!0,Wo(m,null)}function Wo(m,E){m.F=Date.now(),mi(m),m.B=wt(m.A);var I=m.B,w=m.S;Array.isArray(w)||(w=[String(w)]),tr(I.i,"t",w),m.C=0,I=m.j.L,m.h=new Qn,m.g=yu(m.j,I?E:null,!m.u),m.P>0&&(m.O=new rn(p(m.Y,m,m.g),m.P)),E=m.V,I=m.g,w=m.ba;var F="readystatechange";Array.isArray(F)||(F&&(ya[0]=F.toString()),F=ya);for(let Q=0;Q<F.length;Q++){const le=ht(I,F[Q],w||E.handleEvent,!1,E.h||E);if(!le)break;E.g[le.key]=le}E=m.J?k(m.J):{},m.u?(m.v||(m.v="POST"),E["Content-Type"]="application/x-www-form-urlencoded",m.g.ea(m.B,m.v,m.u,E)):(m.v="GET",m.g.ea(m.B,m.v,null,E)),ui(),Cf(m.i,m.v,m.B,m.l,m.S,m.u)}Kn.prototype.ba=function(m){m=m.target;const E=this.O;E&&Wn(m)==3?E.j():this.Y(m)},Kn.prototype.Y=function(m){try{if(m==this.g)e:{const Me=Wn(this.g),Tt=this.g.ya(),We=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||Me!=4||Tt==7||(Tt==8||We<=0?ui(3):ui(2)),pi(this);var E=this.g.ca();this.X=E;var I=xf(this);if(this.o=E==200,tu(this.i,this.v,this.B,this.l,this.S,Me,E),this.o){if(this.U&&!this.L){t:{if(this.g){var w,F=this.g;if((w=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(w)){var Q=w;break t}}Q=null}if(m=Q)di(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,m);else{this.o=!1,this.m=3,It(12),yn(this),Rn(this);break e}}if(this.R){m=!0;let mt;for(;!this.K&&this.C<I.length;)if(mt=su(this,I),mt==zt){Me==4&&(this.m=4,It(14),m=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==xt){this.m=4,It(15),di(this.i,this.l,I,"[Invalid Chunk]"),m=!1;break}else di(this.i,this.l,mt,null),gi(this,mt);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||I.length!=0||this.h.h||(this.m=1,It(16),m=!1),this.o=this.o&&m,!m)di(this.i,this.l,I,"[Invalid Chunked Response]"),yn(this),Rn(this);else if(I.length>0&&!this.W){this.W=!0;var le=this.j;le.g==this&&le.aa&&!le.P&&(le.j.info("Great, no buffering proxy detected. Bytes received: "+I.length),Ua(le),le.P=!0,It(11))}}else di(this.i,this.l,I,null),gi(this,I);Me==4&&yn(this),this.o&&!this.K&&(Me==4?hu(this.j,this):(this.o=!1,mi(this)))}else qi(this.g),E==400&&I.indexOf("Unknown SID")>0?(this.m=3,It(12)):(this.m=0,It(13)),yn(this),Rn(this)}}}catch{}finally{}};function xf(m){if(!iu(m))return m.g.la();const E=Jt(m.g);if(E==="")return"";let I="";const w=E.length,F=Wn(m.g)==4;if(!m.h.i){if(typeof TextDecoder>"u")return yn(m),Rn(m),"";m.h.i=new c.TextDecoder}for(let Q=0;Q<w;Q++)m.h.h=!0,I+=m.h.i.decode(E[Q],{stream:!(F&&Q==w-1)});return E.length=0,m.h.g+=I,m.C=0,m.h.g}function iu(m){return m.g?m.v=="GET"&&m.M!=2&&m.j.Aa:!1}function su(m,E){var I=m.C,w=E.indexOf(`
`,I);return w==-1?zt:(I=Number(E.substring(I,w)),isNaN(I)?xt:(w+=1,w+I>E.length?zt:(E=E.slice(w,w+I),m.C=w+I,E)))}Kn.prototype.cancel=function(){this.K=!0,yn(this)};function mi(m){m.T=Date.now()+m.H,Zo(m,m.H)}function Zo(m,E){if(m.D!=null)throw Error("WatchDog timer not null");m.D=fi(p(m.aa,m),E)}function pi(m){m.D&&(c.clearTimeout(m.D),m.D=null)}Kn.prototype.aa=function(){this.D=null;const m=Date.now();m-this.T>=0?(ao(this.i,this.B),this.M!=2&&(ui(),It(17)),yn(this),this.m=2,Rn(this)):Zo(this,this.T-m)};function Rn(m){m.j.I==0||m.K||hu(m.j,m)}function yn(m){pi(m);var E=m.O;E&&typeof E.dispose=="function"&&E.dispose(),m.O=null,_a(m.V),m.g&&(E=m.g,m.g=null,E.abort(),E.dispose())}function gi(m,E){try{var I=m.j;if(I.I!=0&&(I.g==m||_i(I.h,m))){if(!m.L&&_i(I.h,m)&&I.I==3){try{var w=I.Ba.g.parse(E)}catch{w=null}if(Array.isArray(w)&&w.length==3){var F=w;if(F[0]==0){e:if(!I.v){if(I.g)if(I.g.F+3e3<m.F)rr(I),_s(I);else break e;_o(I),It(18)}}else I.xa=F[1],0<I.xa-I.K&&F[2]<37500&&I.F&&I.A==0&&!I.C&&(I.C=fi(p(I.Va,I),6e3));yi(I.h)<=1&&I.ta&&(I.ta=void 0)}else Ci(I,11)}else if((m.L||I.g==m)&&rr(I),!D(E))for(F=I.Ba.g.parse(E),E=0;E<F.length;E++){let We=F[E];const mt=We[0];if(!(mt<=I.K))if(I.K=mt,We=We[1],I.I==2)if(We[0]=="c"){I.M=We[1],I.ba=We[2];const bn=We[3];bn!=null&&(I.ka=bn,I.j.info("VER="+I.ka));const Ii=We[4];Ii!=null&&(I.za=Ii,I.j.info("SVER="+I.za));const Zn=We[5];Zn!=null&&typeof Zn=="number"&&Zn>0&&(w=1.5*Zn,I.O=w,I.j.info("backChannelRequestTimeoutMs_="+w)),w=I;const jn=m.g;if(jn){const vo=jn.g?jn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vo){var Q=w.h;Q.g||vo.indexOf("spdy")==-1&&vo.indexOf("quic")==-1&&vo.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Aa(Q,Q.h),Q.h=null))}if(w.G){const ar=jn.g?jn.g.getResponseHeader("X-HTTP-Session-Id"):null;ar&&(w.wa=ar,et(w.J,w.G,ar))}}I.I=3,I.l&&I.l.ra(),I.aa&&(I.T=Date.now()-m.F,I.j.info("Handshake RTT: "+I.T+"ms")),w=I;var le=m;if(w.na=gu(w,w.L?w.ba:null,w.W),le.L){Ca(w.h,le);var Me=le,Tt=w.O;Tt&&(Me.H=Tt),Me.D&&(pi(Me),mi(Me)),w.g=le}else fu(w);I.i.length>0&&Ai(I)}else We[0]!="stop"&&We[0]!="close"||Ci(I,7);else I.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?Ci(I,7):Pa(I):We[0]!="noop"&&I.l&&I.l.qa(We),I.A=0)}}ui(4)}catch{}}var Rt=class{constructor(m,E){this.g=m,this.map=E}};function Ea(m){this.l=m||10,c.PerformanceNavigationTiming?(m=c.performance.getEntriesByType("navigation"),m=m.length>0&&(m[0].nextHopProtocol=="hq"||m[0].nextHopProtocol=="h2")):m=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=m?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Sa(m){return m.h?!0:m.g?m.g.size>=m.j:!1}function yi(m){return m.h?1:m.g?m.g.size:0}function _i(m,E){return m.h?m.h==E:m.g?m.g.has(E):!1}function Aa(m,E){m.g?m.g.add(E):m.h=E}function Ca(m,E){m.h&&m.h==E?m.h=null:m.g&&m.g.has(E)&&m.g.delete(E)}Ea.prototype.cancel=function(){if(this.i=Ia(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const m of this.g.values())m.cancel();this.g.clear()}};function Ia(m){if(m.h!=null)return m.i.concat(m.h.G);if(m.g!=null&&m.g.size!==0){let E=m.i;for(const I of m.g.values())E=E.concat(I.G);return E}return R(m.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function jo(m,E){if(m){m=m.split("&");for(let I=0;I<m.length;I++){const w=m[I].indexOf("=");let F,Q=null;w>=0?(F=m[I].substring(0,w),Q=m[I].substring(w+1)):F=m[I],E(F,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function _n(m){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let E;m instanceof _n?(this.l=m.l,Ft(this,m.j),this.o=m.o,this.g=m.g,fs(this,m.u),this.h=m.h,xa(this,uu(m.i)),this.m=m.m):m&&(E=String(m).match(ou))?(this.l=!1,Ft(this,E[1]||"",!0),this.o=vi(E[2]||""),this.g=vi(E[3]||"",!0),fs(this,E[4]),this.h=vi(E[5]||"",!0),xa(this,E[6]||"",!0),this.m=vi(E[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}_n.prototype.toString=function(){const m=[];var E=this.j;E&&m.push(fo(E,er,!0),":");var I=this.g;return(I||E=="file")&&(m.push("//"),(E=this.o)&&m.push(fo(E,er,!0),"@"),m.push(Li(I).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),I=this.u,I!=null&&m.push(":",String(I))),(I=this.h)&&(this.g&&I.charAt(0)!="/"&&m.push("/"),m.push(fo(I,I.charAt(0)=="/"?Ra:ru,!0))),(I=this.i.toString())&&m.push("?",I),(I=this.m)&&m.push("#",fo(I,au)),m.join("")},_n.prototype.resolve=function(m){const E=wt(this);let I=!!m.j;I?Ft(E,m.j):I=!!m.o,I?E.o=m.o:I=!!m.g,I?E.g=m.g:I=m.u!=null;var w=m.h;if(I)fs(E,m.u);else if(I=!!m.h){if(w.charAt(0)!="/")if(this.g&&!this.h)w="/"+w;else{var F=E.h.lastIndexOf("/");F!=-1&&(w=E.h.slice(0,F+1)+w)}if(F=w,F==".."||F==".")w="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){w=F.lastIndexOf("/",0)==0,F=F.split("/");const Q=[];for(let le=0;le<F.length;){const Me=F[le++];Me=="."?w&&le==F.length&&Q.push(""):Me==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),w&&le==F.length&&Q.push("")):(Q.push(Me),w=!0)}w=Q.join("/")}else w=F}return I?E.h=w:I=m.i.toString()!=="",I?xa(E,uu(m.i)):I=!!m.m,I&&(E.m=m.m),E};function wt(m){return new _n(m)}function Ft(m,E,I){m.j=I?vi(E,!0):E,m.j&&(m.j=m.j.replace(/:$/,""))}function fs(m,E){if(E){if(E=Number(E),isNaN(E)||E<0)throw Error("Bad port number "+E);m.u=E}else m.u=null}function xa(m,E,I){E instanceof hs?(m.i=E,nr(m.i,m.l)):(I||(E=fo(E,ds)),m.i=new hs(E,m.l))}function et(m,E,I){m.i.set(E,I)}function co(m){return et(m,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),m}function vi(m,E){return m?E?decodeURI(m.replace(/%25/g,"%2525")):decodeURIComponent(m):""}function fo(m,E,I){return typeof m=="string"?(m=encodeURI(m).replace(E,un),I&&(m=m.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m):null}function un(m){return m=m.charCodeAt(0),"%"+(m>>4&15).toString(16)+(m&15).toString(16)}var er=/[#\/\?@]/g,ru=/[#\?:]/g,Ra=/[#\?]/g,ds=/[#\?@]/g,au=/#/g;function hs(m,E){this.h=this.g=null,this.i=m||null,this.j=!!E}function cn(m){m.g||(m.g=new Map,m.h=0,m.i&&jo(m.i,function(E,I){m.add(decodeURIComponent(E.replace(/\+/g," ")),I)}))}n=hs.prototype,n.add=function(m,E){cn(this),this.i=null,m=ms(this,m);let I=this.g.get(m);return I||this.g.set(m,I=[]),I.push(E),this.h+=1,this};function lu(m,E){cn(m),E=ms(m,E),m.g.has(E)&&(m.i=null,m.h-=m.g.get(E).length,m.g.delete(E))}function wa(m,E){return cn(m),E=ms(m,E),m.g.has(E)}n.forEach=function(m,E){cn(this),this.g.forEach(function(I,w){I.forEach(function(F){m.call(E,F,w,this)},this)},this)};function Na(m,E){cn(m);let I=[];if(typeof E=="string")wa(m,E)&&(I=I.concat(m.g.get(ms(m,E))));else for(m=Array.from(m.g.values()),E=0;E<m.length;E++)I=I.concat(m[E]);return I}n.set=function(m,E){return cn(this),this.i=null,m=ms(this,m),wa(this,m)&&(this.h-=this.g.get(m).length),this.g.set(m,[E]),this.h+=1,this},n.get=function(m,E){return m?(m=Na(this,m),m.length>0?String(m[0]):E):E};function tr(m,E,I){lu(m,E),I.length>0&&(m.i=null,m.g.set(ms(m,E),R(I)),m.h+=I.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const m=[],E=Array.from(this.g.keys());for(let w=0;w<E.length;w++){var I=E[w];const F=Li(I);I=Na(this,I);for(let Q=0;Q<I.length;Q++){let le=F;I[Q]!==""&&(le+="="+Li(I[Q])),m.push(le)}}return this.i=m.join("&")};function uu(m){const E=new hs;return E.i=m.i,m.g&&(E.g=new Map(m.g),E.h=m.h),E}function ms(m,E){return E=String(E),m.j&&(E=E.toLowerCase()),E}function nr(m,E){E&&!m.j&&(cn(m),m.i=null,m.g.forEach(function(I,w){const F=w.toLowerCase();w!=F&&(lu(this,w),tr(this,F,I))},m)),m.j=E}function $n(m,E){const I=new Jn;if(c.Image){const w=new Image;w.onload=v(wn,I,"TestLoadImage: loaded",!0,E,w),w.onerror=v(wn,I,"TestLoadImage: error",!1,E,w),w.onabort=v(wn,I,"TestLoadImage: abort",!1,E,w),w.ontimeout=v(wn,I,"TestLoadImage: timeout",!1,E,w),c.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=m}else E(!1)}function ba(m,E){const I=new Jn,w=new AbortController,F=setTimeout(()=>{w.abort(),wn(I,"TestPingServer: timeout",!1,E)},1e4);fetch(m,{signal:w.signal}).then(Q=>{clearTimeout(F),Q.ok?wn(I,"TestPingServer: ok",!0,E):wn(I,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(F),wn(I,"TestPingServer: error",!1,E)})}function wn(m,E,I,w,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),w(I)}catch{}}function ps(){this.g=new Xl}function Ti(m){this.i=m.Sb||null,this.h=m.ab||!1}T(Ti,Wl),Ti.prototype.g=function(){return new ho(this.i,this.h)};function ho(m,E){Ct.call(this),this.H=m,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(ho,Ct),n=ho.prototype,n.open=function(m,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=m,this.D=E,this.readyState=1,Xn(this)},n.send=function(m){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const E={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};m&&(E.body=m),(this.H||c).fetch(new Request(this.D,E)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},n.Pa=function(m){if(this.g&&(this.l=m,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=m.headers,this.readyState=2,Xn(this)),this.g&&(this.readyState=3,Xn(this),this.g)))if(this.responseType==="arraybuffer")m.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in m){if(this.j=m.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ir(this)}else m.text().then(this.Oa.bind(this),this.ga.bind(this))};function ir(m){m.j.read().then(m.Ma.bind(m)).catch(m.ga.bind(m))}n.Ma=function(m){if(this.g){if(this.o&&m.value)this.response.push(m.value);else if(!this.o){var E=m.value?m.value:new Uint8Array(0);(E=this.B.decode(E,{stream:!m.done}))&&(this.response=this.responseText+=E)}m.done?gs(this):Xn(this),this.readyState==3&&ir(this)}},n.Oa=function(m){this.g&&(this.response=this.responseText=m,gs(this))},n.Na=function(m){this.g&&(this.response=m,gs(this))},n.ga=function(){this.g&&gs(this)};function gs(m){m.readyState=4,m.l=null,m.j=null,m.B=null,Xn(m)}n.setRequestHeader=function(m,E){this.A.append(m,E)},n.getResponseHeader=function(m){return this.h&&this.h.get(m.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const m=[],E=this.h.entries();for(var I=E.next();!I.done;)I=I.value,m.push(I[0]+": "+I[1]),I=E.next();return m.join(`\r
`)};function Xn(m){m.onreadystatechange&&m.onreadystatechange.call(m)}Object.defineProperty(ho.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(m){this.m=m?"include":"same-origin"}});function Nn(m){let E="";return be(m,function(I,w){E+=w,E+=":",E+=I,E+=`\r
`}),E}function mo(m,E,I){e:{for(w in I){var w=!1;break e}w=!0}w||(I=Nn(I),typeof m=="string"?I!=null&&Li(I):et(m,E,I))}function it(m){Ct.call(this),this.headers=new Map,this.L=m||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(it,Ct);var Ei=/^https?$/i,Ma=["POST","PUT"];n=it.prototype,n.Fa=function(m){this.H=m},n.ea=function(m,E,I,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+m);E=E?E.toUpperCase():"GET",this.D=m,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ta.g(),this.g.onreadystatechange=S(p(this.Ca,this));try{this.B=!0,this.g.open(E,String(m),!0),this.B=!1}catch(Q){po(this,Q);return}if(m=I||"",I=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var F in w)I.set(F,w[F]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const Q of w.keys())I.set(Q,w.get(Q));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(I.keys()).find(Q=>Q.toLowerCase()=="content-type"),F=c.FormData&&m instanceof c.FormData,!(Array.prototype.indexOf.call(Ma,E,void 0)>=0)||w||F||I.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,le]of I)this.g.setRequestHeader(Q,le);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(m),this.v=!1}catch(Q){po(this,Q)}};function po(m,E){m.h=!1,m.g&&(m.j=!0,m.g.abort(),m.j=!1),m.l=E,m.o=5,Da(m),ki(m)}function Da(m){m.A||(m.A=!0,qt(m,"complete"),qt(m,"error"))}n.abort=function(m){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=m||7,qt(this,"complete"),qt(this,"abort"),ki(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),it.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?go(this):this.Xa())},n.Xa=function(){go(this)};function go(m){if(m.h&&typeof l<"u"){if(m.v&&Wn(m)==4)setTimeout(m.Ca.bind(m),0);else if(qt(m,"readystatechange"),Wn(m)==4){m.h=!1;try{const Q=m.ca();e:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var I;if(!(I=E)){var w;if(w=Q===0){let le=String(m.D).match(ou)[1]||null;!le&&c.self&&c.self.location&&(le=c.self.location.protocol.slice(0,-1)),w=!Ei.test(le?le.toLowerCase():"")}I=w}if(I)qt(m,"complete"),qt(m,"success");else{m.o=6;try{var F=Wn(m)>2?m.g.statusText:""}catch{F=""}m.l=F+" ["+m.ca()+"]",Da(m)}}finally{ki(m)}}}}function ki(m,E){if(m.g){m.m&&(clearTimeout(m.m),m.m=null);const I=m.g;m.g=null,E||qt(m,"ready");try{I.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Wn(m){return m.g?m.g.readyState:0}n.ca=function(){try{return Wn(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(m){if(this.g){var E=this.g.responseText;return m&&E.indexOf(m)==0&&(E=E.substring(m.length)),Af(E)}};function Jt(m){try{if(!m.g)return null;if("response"in m.g)return m.g.response;switch(m.F){case"":case"text":return m.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in m.g)return m.g.mozResponseArrayBuffer}return null}catch{return null}}function qi(m){const E={};m=(m.g&&Wn(m)>=2&&m.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<m.length;w++){if(D(m[w]))continue;var I=nu(m[w]);const F=I[0];if(I=I[1],typeof I!="string")continue;I=I.trim();const Q=E[F]||[];E[F]=Q,Q.push(I)}Xe(E,function(w){return w.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(m,E,I){return I&&I.internalChannelParams&&I.internalChannelParams[m]||E}function ys(m){this.za=0,this.i=[],this.j=new Jn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,m),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,m),this.Za=Si("retryDelaySeedMs",1e4,m),this.Ta=Si("forwardChannelMaxRetries",2,m),this.va=Si("forwardChannelRequestTimeoutMs",2e4,m),this.ma=m&&m.xmlHttpFactory||void 0,this.Ua=m&&m.Rb||void 0,this.Aa=m&&m.useFetchStreams||!1,this.O=void 0,this.L=m&&m.supportsCrossDomainXhr||!1,this.M="",this.h=new Ea(m&&m.concurrentRequestLimit),this.Ba=new ps,this.S=m&&m.fastHandshake||!1,this.R=m&&m.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=m&&m.Pb||!1,m&&m.ua&&this.j.ua(),m&&m.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&m&&m.detectBufferingProxy||!1,this.ia=void 0,m&&m.longPollingTimeout&&m.longPollingTimeout>0&&(this.ia=m.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=ys.prototype,n.ka=8,n.I=1,n.connect=function(m,E,I,w){It(0),this.W=m,this.H=E||{},I&&w!==void 0&&(this.H.OSID=I,this.H.OAID=w),this.F=this.X,this.J=gu(this,null,this.W),Ai(this)};function Pa(m){if(sr(m),m.I==3){var E=m.V++,I=wt(m.J);if(et(I,"SID",m.M),et(I,"RID",E),et(I,"TYPE","terminate"),yo(m,I),E=new Kn(m,m.j,E),E.M=2,E.A=co(wt(I)),I=!1,c.navigator&&c.navigator.sendBeacon)try{I=c.navigator.sendBeacon(E.A.toString(),"")}catch{}!I&&c.Image&&(new Image().src=E.A,I=!0),I||(E.g=yu(E.j,null),E.g.ea(E.A)),E.F=Date.now(),mi(E)}pu(m)}function _s(m){m.g&&(Ua(m),m.g.cancel(),m.g=null)}function sr(m){_s(m),m.v&&(c.clearTimeout(m.v),m.v=null),rr(m),m.h.cancel(),m.m&&(typeof m.m=="number"&&c.clearTimeout(m.m),m.m=null)}function Ai(m){if(!Sa(m.h)&&!m.m){m.m=!0;var E=m.Ea;he||b(),j||(he(),j=!0),M.add(E,m),m.D=0}}function or(m,E){return yi(m.h)>=m.h.j-(m.m?1:0)?!1:m.m?(m.i=E.G.concat(m.i),!0):m.I==1||m.I==2||m.D>=(m.Sa?0:m.Ta)?!1:(m.m=fi(p(m.Ea,m,E),mu(m,m.D)),m.D++,!0)}n.Ea=function(m){if(this.m)if(this.m=null,this.I==1){if(!m){this.V=Math.floor(Math.random()*1e5),m=this.V++;const F=new Kn(this,this.j,m);let Q=this.o;if(this.U&&(Q?(Q=k(Q),ce(Q,this.U)):Q=this.U),this.u!==null||this.R||(F.J=Q,Q=null),this.S)e:{for(var E=0,I=0;I<this.i.length;I++){t:{var w=this.i[I];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(E+=w,E>4096){E=I;break e}if(E===4096||I===this.i.length-1){E=I+1;break e}}E=1e3}else E=1e3;E=cu(this,F,E),I=wt(this.J),et(I,"RID",m),et(I,"CVER",22),this.G&&et(I,"X-HTTP-Session-Id",this.G),yo(this,I),Q&&(this.R?E="headers="+Li(Nn(Q))+"&"+E:this.u&&mo(I,this.u,Q)),Aa(this.h,F),this.Ra&&et(I,"TYPE","init"),this.S?(et(I,"$req",E),et(I,"SID","null"),F.U=!0,hi(F,I,null)):hi(F,I,E),this.I=2}}else this.I==3&&(m?Va(this,m):this.i.length==0||Sa(this.h)||Va(this))};function Va(m,E){var I;E?I=E.l:I=m.V++;const w=wt(m.J);et(w,"SID",m.M),et(w,"RID",I),et(w,"AID",m.K),yo(m,w),m.u&&m.o&&mo(w,m.u,m.o),I=new Kn(m,m.j,I,m.D+1),m.u===null&&(I.J=m.o),E&&(m.i=E.G.concat(m.i)),E=cu(m,I,1e3),I.H=Math.round(m.va*.5)+Math.round(m.va*.5*Math.random()),Aa(m.h,I),hi(I,w,E)}function yo(m,E){m.H&&be(m.H,function(I,w){et(E,w,I)}),m.l&&be({},function(I,w){et(E,w,I)})}function cu(m,E,I){I=Math.min(m.i.length,I);const w=m.l?p(m.l.Ka,m.l,m):null;e:{var F=m.i;let Me=-1;for(;;){const Tt=["count="+I];Me==-1?I>0?(Me=F[0].g,Tt.push("ofs="+Me)):Me=0:Tt.push("ofs="+Me);let We=!0;for(let mt=0;mt<I;mt++){var Q=F[mt].g;const bn=F[mt].map;if(Q-=Me,Q<0)Me=Math.max(0,F[mt].g-100),We=!1;else try{Q="req"+Q+"_"||"";try{var le=bn instanceof Map?bn:Object.entries(bn);for(const[Ii,Zn]of le){let jn=Zn;d(Zn)&&(jn=cs(Zn)),Tt.push(Q+Ii+"="+encodeURIComponent(jn))}}catch(Ii){throw Tt.push(Q+"type="+encodeURIComponent("_badmap")),Ii}}catch{w&&w(bn)}}if(We){le=Tt.join("&");break e}}le=void 0}return m=m.i.splice(0,I),E.G=m,le}function fu(m){if(!m.g&&!m.v){m.Y=1;var E=m.Da;he||b(),j||(he(),j=!0),M.add(E,m),m.A=0}}function _o(m){return m.g||m.v||m.A>=3?!1:(m.Y++,m.v=fi(p(m.Da,m),mu(m,m.A)),m.A++,!0)}n.Da=function(){if(this.v=null,du(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var m=4*this.T;this.j.info("BP detection timer enabled: "+m),this.B=fi(p(this.Wa,this),m)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,It(10),_s(this),du(this))};function Ua(m){m.B!=null&&(c.clearTimeout(m.B),m.B=null)}function du(m){m.g=new Kn(m,m.j,"rpc",m.Y),m.u===null&&(m.g.J=m.o),m.g.P=0;var E=wt(m.na);et(E,"RID","rpc"),et(E,"SID",m.M),et(E,"AID",m.K),et(E,"CI",m.F?"0":"1"),!m.F&&m.ia&&et(E,"TO",m.ia),et(E,"TYPE","xmlhttp"),yo(m,E),m.u&&m.o&&mo(E,m.u,m.o),m.O&&(m.g.H=m.O);var I=m.g;m=m.ba,I.M=1,I.A=co(wt(E)),I.u=null,I.R=!0,Wo(I,m)}n.Va=function(){this.C!=null&&(this.C=null,_s(this),_o(this),It(19))};function rr(m){m.C!=null&&(c.clearTimeout(m.C),m.C=null)}function hu(m,E){var I=null;if(m.g==E){rr(m),Ua(m),m.g=null;var w=2}else if(_i(m.h,E))I=E.G,Ca(m.h,E),w=1;else return;if(m.I!=0){if(E.o)if(w==1){I=E.u?E.u.length:0,E=Date.now()-E.F;var F=m.D;w=Xo(),qt(w,new ci(w,I)),Ai(m)}else fu(m);else if(F=E.m,F==3||F==0&&E.X>0||!(w==1&&or(m,E)||w==2&&_o(m)))switch(I&&I.length>0&&(E=m.h,E.i=E.i.concat(I)),F){case 1:Ci(m,5);break;case 4:Ci(m,10);break;case 3:Ci(m,6);break;default:Ci(m,2)}}}function mu(m,E){let I=m.Qa+Math.floor(Math.random()*m.Za);return m.isActive()||(I*=2),I*E}function Ci(m,E){if(m.j.info("Error code "+E),E==2){var I=p(m.bb,m),w=m.Ua;const F=!w;w=new _n(w||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Ft(w,"https"),co(w),F?$n(w.toString(),I):ba(w.toString(),I)}else It(2);m.I=0,m.l&&m.l.pa(E),pu(m),sr(m)}n.bb=function(m){m?(this.j.info("Successfully pinged google.com"),It(2)):(this.j.info("Failed to ping google.com"),It(1))};function pu(m){if(m.I=0,m.ja=[],m.l){const E=Ia(m.h);(E.length!=0||m.i.length!=0)&&(O(m.ja,E),O(m.ja,m.i),m.h.i.length=0,R(m.i),m.i.length=0),m.l.oa()}}function gu(m,E,I){var w=I instanceof _n?wt(I):new _n(I);if(w.g!="")E&&(w.g=E+"."+w.g),fs(w,w.u);else{var F=c.location;w=F.protocol,E=E?E+"."+F.hostname:F.hostname,F=+F.port;const Q=new _n(null);w&&Ft(Q,w),E&&(Q.g=E),F&&fs(Q,F),I&&(Q.h=I),w=Q}return I=m.G,E=m.wa,I&&E&&et(w,I,E),et(w,"VER",m.ka),yo(m,w),w}function yu(m,E,I){if(E&&!m.L)throw Error("Can't create secondary domain capable XhrIo object.");return E=m.Aa&&!m.ma?new it(new Ti({ab:I})):new it(m.ma),E.Fa(m.L),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}n=_u.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function vs(){}vs.prototype.g=function(m,E){return new an(m,E)};function an(m,E){Ct.call(this),this.g=new ys(E),this.l=m,this.h=E&&E.messageUrlParams||null,m=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(m?m["X-Client-Protocol"]="webchannel":m={"X-Client-Protocol":"webchannel"}),this.g.o=m,m=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(m?m["X-WebChannel-Content-Type"]=E.messageContentType:m={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.sa&&(m?m["X-WebChannel-Client-Profile"]=E.sa:m={"X-WebChannel-Client-Profile":E.sa}),this.g.U=m,(m=E&&E.Qb)&&!D(m)&&(this.g.u=m),this.A=E&&E.supportsCrossDomainXhr||!1,this.v=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!D(E)&&(this.g.G=E,m=this.h,m!==null&&E in m&&(m=this.h,E in m&&delete m[E])),this.j=new Oi(this)}T(an,Ct),an.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},an.prototype.close=function(){Pa(this.g)},an.prototype.o=function(m){var E=this.g;if(typeof m=="string"){var I={};I.__data__=m,m=I}else this.v&&(I={},I.__data__=cs(m),m=I);E.i.push(new Rt(E.Ya++,m)),E.I==3&&Ai(E)},an.prototype.N=function(){this.g.l=null,delete this.j,Pa(this.g),delete this.g,an.Z.N.call(this)};function vu(m){Yt.call(this),m.__headers__&&(this.headers=m.__headers__,this.statusCode=m.__status__,delete m.__headers__,delete m.__status__);var E=m.__sm__;if(E){e:{for(const I in E){m=I;break e}m=void 0}(this.i=m)&&(m=this.i,E=E!==null&&m in E?E[m]:void 0),this.data=E}else this.data=m}T(vu,Yt);function Tu(){xn.call(this),this.status=1}T(Tu,xn);function Oi(m){this.g=m}T(Oi,_u),Oi.prototype.ra=function(){qt(this.g,"a")},Oi.prototype.qa=function(m){qt(this.g,new vu(m))},Oi.prototype.pa=function(m){qt(this.g,new Tu)},Oi.prototype.oa=function(){qt(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,an.prototype.send=an.prototype.o,an.prototype.open=an.prototype.m,an.prototype.close=an.prototype.close,TE=function(){return new vs},vE=function(){return Xo()},_E=vt,$h={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},lo.NO_ERROR=0,lo.TIMEOUT=8,lo.HTTP_ERROR=6,Mc=lo,va.COMPLETE="complete",yE=va,Zl.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,Al=Zl,it.prototype.listenOnce=it.prototype.K,it.prototype.getLastError=it.prototype.Ha,it.prototype.getLastErrorCode=it.prototype.ya,it.prototype.getStatus=it.prototype.ca,it.prototype.getResponseJson=it.prototype.La,it.prototype.getResponseText=it.prototype.la,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Fa,gE=it}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const x0="@firebase/firestore",R0="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ra="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new uE("@firebase/firestore");function kr(){return qo.logLevel}function ge(n,...e){if(qo.logLevel<=Ye.DEBUG){const t=e.map(Cm);qo.debug(`Firestore (${ra}): ${n}`,...t)}}function ss(n,...e){if(qo.logLevel<=Ye.ERROR){const t=e.map(Cm);qo.error(`Firestore (${ra}): ${n}`,...t)}}function Xr(n,...e){if(qo.logLevel<=Ye.WARN){const t=e.map(Cm);qo.warn(`Firestore (${ra}): ${n}`,...t)}}function Cm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,EE(n,s,t)}function EE(n,e,t){let s=`FIRESTORE (${ra}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw ss(s),new Error(s)}function je(n,e,t,s){let r="Unexpected state";typeof t=="string"?r=t:s=t,n||EE(e,r,s)}function Ne(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends oa{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(nn.UNAUTHENTICATED)))}shutdown(){}}class VD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class UD{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){je(this.o===void 0,42304);let s=this.i;const r=y=>this.i!==s?(s=this.i,t(y)):Promise.resolve();let l=new ts;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new ts,e.enqueueRetryable((()=>r(this.currentUser)))};const c=()=>{const y=l;e.enqueueRetryable((async()=>{await y.promise,await r(this.currentUser)}))},d=y=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((y=>d(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?d(y):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new ts)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(je(typeof s.accessToken=="string",31837,{l:s}),new SE(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class LD{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class kD{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new LD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(nn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class w0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class qD{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,gD(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){je(this.o===void 0,3512);const s=l=>{l.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ge("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const r=l=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>r(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?r(l):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new w0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(je(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new w0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OD(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Im{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const r=OD(40);for(let l=0;l<r.length;++l)s.length<20&&r[l]<t&&(s+=e.charAt(r[l]%62))}return s}}function Be(n,e){return n<e?-1:n>e?1:0}function Xh(n,e){const t=Math.min(n.length,e.length);for(let s=0;s<t;s++){const r=n.charAt(s),l=e.charAt(s);if(r!==l)return bh(r)===bh(l)?Be(r,l):bh(r)?1:-1}return Be(n.length,e.length)}const BD=55296,zD=57343;function bh(n){const e=n.charCodeAt(0);return e>=BD&&e<=zD}function Wr(n,e,t){return n.length===e.length&&n.every(((s,r)=>t(s,e[r])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N0="__name__";class bi{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ie(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let r=0;r<s;r++){const l=bi.compareSegments(e.get(r),t.get(r));if(l!==0)return l}return Be(e.length,t.length)}static compareSegments(e,t){const s=bi.isNumericId(e),r=bi.isNumericId(t);return s&&!r?-1:!s&&r?1:s&&r?bi.extractNumericId(e).compare(bi.extractNumericId(t)):Xh(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Qs.fromString(e.substring(4,e.length-2))}}class lt extends bi{construct(e,t,s){return new lt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new pe(te.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((r=>r.length>0)))}return new lt(t)}static emptyPath(){return new lt([])}}const FD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Zt extends bi{construct(e,t,s){return new Zt(e,t,s)}static isValidIdentifier(e){return FD.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===N0}static keyField(){return new Zt([N0])}static fromServerFormat(e){const t=[];let s="",r=0;const l=()=>{if(s.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let c=!1;for(;r<e.length;){const d=e[r];if(d==="\\"){if(r+1===e.length)throw new pe(te.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const y=e[r+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new pe(te.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=y,r+=2}else d==="`"?(c=!c,r++):d!=="."||c?(s+=d,r++):(l(),r++)}if(l(),c)throw new pe(te.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Zt(t)}static emptyPath(){return new Zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(lt.fromString(e))}static fromName(e){return new Ae(lt.fromString(e).popFirst(5))}static empty(){return new Ae(lt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&lt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return lt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new lt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(n,e,t){if(!t)throw new pe(te.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HD(n,e,t,s){if(e===!0&&s===!0)throw new pe(te.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function b0(n){if(!Ae.isDocumentKey(n))throw new pe(te.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function M0(n){if(Ae.isDocumentKey(n))throw new pe(te.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function CE(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function rf(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ie(12329,{type:typeof n})}function os(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(te.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=rf(n);throw new pe(te.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(n,e){const t={typeString:n};return e&&(t.value=e),t}function Hl(n,e){if(!CE(n))throw new pe(te.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const r=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const c=n[s];if(r&&typeof c!==r){t=`JSON field '${s}' must be a ${r}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new pe(te.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D0=-62135596800,P0=1e6;class ut{static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*P0);return new ut(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(te.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<D0)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(te.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P0}_compareTo(e){return this.seconds===e.seconds?Be(this.nanoseconds,e.nanoseconds):Be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ut._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Hl(e,ut._jsonSchema))return new ut(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-D0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ut._jsonSchemaVersion="firestore/timestamp/1.0",ut._jsonSchema={type:Ut("string",ut._jsonSchemaVersion),seconds:Ut("number"),nanoseconds:Ut("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new ut(0,0))}static max(){return new Re(new ut(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ul=-1;function GD(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,r=Re.fromTimestamp(s===1e9?new ut(t+1,0):new ut(t,s));return new Xs(r,Ae.empty(),e)}function YD(n){return new Xs(n.readTime,n.key,Ul)}class Xs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Xs(Re.min(),Ae.empty(),Ul)}static max(){return new Xs(Re.max(),Ae.empty(),Ul)}}function JD(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ae.comparator(n.documentKey,e.documentKey),t!==0?t:Be(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class QD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aa(n){if(n.code!==te.FAILED_PRECONDITION||n.message!==KD)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new se(((s,r)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,r)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof se?t:se.resolve(t)}catch(t){return se.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):se.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):se.reject(t)}static resolve(e){return new se(((t,s)=>{t(e)}))}static reject(e){return new se(((t,s)=>{s(e)}))}static waitFor(e){return new se(((t,s)=>{let r=0,l=0,c=!1;e.forEach((d=>{++r,d.next((()=>{++l,c&&l===r&&t()}),(y=>s(y)))})),c=!0,l===r&&t()}))}static or(e){let t=se.resolve(!1);for(const s of e)t=t.next((r=>r?se.resolve(r):s()));return t}static forEach(e,t){const s=[];return e.forEach(((r,l)=>{s.push(t.call(this,r,l))})),this.waitFor(s)}static mapArray(e,t){return new se(((s,r)=>{const l=e.length,c=new Array(l);let d=0;for(let y=0;y<l;y++){const p=y;t(e[p]).next((v=>{c[p]=v,++d,d===l&&s(c)}),(v=>r(v)))}}))}static doWhile(e,t){return new se(((s,r)=>{const l=()=>{e()===!0?t().next((()=>{l()}),r):s()};l()}))}}function $D(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function la(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>t.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}af.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xm=-1;function lf(n){return n==null}function Yc(n){return n===0&&1/n==-1/0}function XD(n){return typeof n=="number"&&Number.isInteger(n)&&!Yc(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="";function WD(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=V0(e)),e=ZD(n.get(t),e);return V0(e)}function ZD(n,e){let t=e;const s=n.length;for(let r=0;r<s;r++){const l=n.charAt(r);switch(l){case"\0":t+="";break;case IE:t+="";break;default:t+=l}}return t}function V0(n){return n+IE+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function zo(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function xE(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||Wt.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Wt.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Wt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const r=this.comparator(e,s.key);if(r===0)return t+s.left.size;r<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ic(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ic(this.root,e,this.comparator,!0)}}class Ic{constructor(e,t,s,r){this.isReverse=r,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&r&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Wt{constructor(e,t,s,r,l){this.key=e,this.value=t,this.color=s??Wt.RED,this.left=r??Wt.EMPTY,this.right=l??Wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,r,l){return new Wt(e??this.key,t??this.value,s??this.color,r??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let r=this;const l=s(e,r.key);return r=l<0?r.copy(null,null,null,r.left.insert(e,t,s),null):l===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,s)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),t(e,r.key)===0){if(r.right.isEmpty())return Wt.EMPTY;s=r.right.min(),r=r.copy(s.key,s.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Wt.EMPTY=null,Wt.RED=!0,Wt.BLACK=!1;Wt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,s,r,l){return this}insert(e,t,s){return new Wt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const r=s.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new L0(this.data.getIterator())}getIteratorFrom(e){return new L0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof Bt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const r=t.getNext().key,l=s.getNext().key;if(this.comparator(r,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Bt(this.comparator);return t.data=e,t}}class L0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.fields=e,e.sort(Zt.comparator)}static empty(){return new si([])}unionWith(e){let t=new Bt(Zt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new si(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Wr(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(r){try{return atob(r)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new RE("Invalid base64 string: "+l):l}})(e);return new jt(t)}static fromUint8Array(e){const t=(function(r){let l="";for(let c=0;c<r.length;++c)l+=String.fromCharCode(r[c]);return l})(e);return new jt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let r=0;r<t.length;r++)s[r]=t.charCodeAt(r);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const jD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ws(n){if(je(!!n,39018),typeof n=="string"){let e=0;const t=jD.exec(n);if(je(!!t,46558,{timestamp:n}),t[1]){let r=t[1];r=(r+"000000000").substr(0,9),e=Number(r)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:At(n.seconds),nanos:At(n.nanos)}}function At(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zs(n){return typeof n=="string"?jt.fromBase64String(n):jt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wE="server_timestamp",NE="__type__",bE="__previous_value__",ME="__local_write_time__";function Rm(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[NE])==null?void 0:s.stringValue)===wE}function uf(n){const e=n.mapValue.fields[bE];return Rm(e)?uf(e):e}function Ll(n){const e=Ws(n.mapValue.fields[ME].timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eP{constructor(e,t,s,r,l,c,d,y,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=r,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=y,this.useFetchStreams=p,this.isUsingEmulator=v}}const Jc="(default)";class kl{constructor(e,t){this.projectId=e,this.database=t||Jc}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(e){return e instanceof kl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DE="__type__",tP="__max__",xc={mapValue:{}},PE="__vector__",Kc="value";function js(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rm(n)?4:iP(n)?9007199254740991:nP(n)?10:11:Ie(28295,{value:n})}function Ui(n,e){if(n===e)return!0;const t=js(n);if(t!==js(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Ll(n).isEqual(Ll(e));case 3:return(function(r,l){if(typeof r.timestampValue=="string"&&typeof l.timestampValue=="string"&&r.timestampValue.length===l.timestampValue.length)return r.timestampValue===l.timestampValue;const c=Ws(r.timestampValue),d=Ws(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(r,l){return Zs(r.bytesValue).isEqual(Zs(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(r,l){return At(r.geoPointValue.latitude)===At(l.geoPointValue.latitude)&&At(r.geoPointValue.longitude)===At(l.geoPointValue.longitude)})(n,e);case 2:return(function(r,l){if("integerValue"in r&&"integerValue"in l)return At(r.integerValue)===At(l.integerValue);if("doubleValue"in r&&"doubleValue"in l){const c=At(r.doubleValue),d=At(l.doubleValue);return c===d?Yc(c)===Yc(d):isNaN(c)&&isNaN(d)}return!1})(n,e);case 9:return Wr(n.arrayValue.values||[],e.arrayValue.values||[],Ui);case 10:case 11:return(function(r,l){const c=r.mapValue.fields||{},d=l.mapValue.fields||{};if(U0(c)!==U0(d))return!1;for(const y in c)if(c.hasOwnProperty(y)&&(d[y]===void 0||!Ui(c[y],d[y])))return!1;return!0})(n,e);default:return Ie(52216,{left:n})}}function ql(n,e){return(n.values||[]).find((t=>Ui(t,e)))!==void 0}function Zr(n,e){if(n===e)return 0;const t=js(n),s=js(e);if(t!==s)return Be(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Be(n.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=At(l.integerValue||l.doubleValue),y=At(c.integerValue||c.doubleValue);return d<y?-1:d>y?1:d===y?0:isNaN(d)?isNaN(y)?0:-1:1})(n,e);case 3:return k0(n.timestampValue,e.timestampValue);case 4:return k0(Ll(n),Ll(e));case 5:return Xh(n.stringValue,e.stringValue);case 6:return(function(l,c){const d=Zs(l),y=Zs(c);return d.compareTo(y)})(n.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),y=c.split("/");for(let p=0;p<d.length&&p<y.length;p++){const v=Be(d[p],y[p]);if(v!==0)return v}return Be(d.length,y.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Be(At(l.latitude),At(c.latitude));return d!==0?d:Be(At(l.longitude),At(c.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return q0(n.arrayValue,e.arrayValue);case 10:return(function(l,c){var S,R,O,H;const d=l.fields||{},y=c.fields||{},p=(S=d[Kc])==null?void 0:S.arrayValue,v=(R=y[Kc])==null?void 0:R.arrayValue,T=Be(((O=p==null?void 0:p.values)==null?void 0:O.length)||0,((H=v==null?void 0:v.values)==null?void 0:H.length)||0);return T!==0?T:q0(p,v)})(n.mapValue,e.mapValue);case 11:return(function(l,c){if(l===xc.mapValue&&c===xc.mapValue)return 0;if(l===xc.mapValue)return 1;if(c===xc.mapValue)return-1;const d=l.fields||{},y=Object.keys(d),p=c.fields||{},v=Object.keys(p);y.sort(),v.sort();for(let T=0;T<y.length&&T<v.length;++T){const S=Xh(y[T],v[T]);if(S!==0)return S;const R=Zr(d[y[T]],p[v[T]]);if(R!==0)return R}return Be(y.length,v.length)})(n.mapValue,e.mapValue);default:throw Ie(23264,{he:t})}}function k0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Be(n,e);const t=Ws(n),s=Ws(e),r=Be(t.seconds,s.seconds);return r!==0?r:Be(t.nanos,s.nanos)}function q0(n,e){const t=n.values||[],s=e.values||[];for(let r=0;r<t.length&&r<s.length;++r){const l=Zr(t[r],s[r]);if(l)return l}return Be(t.length,s.length)}function jr(n){return Wh(n)}function Wh(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=Ws(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Zs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ae.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",r=!0;for(const l of t.values||[])r?r=!1:s+=",",s+=Wh(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let r="{",l=!0;for(const c of s)l?l=!1:r+=",",r+=`${c}:${Wh(t.fields[c])}`;return r+"}"})(n.mapValue):Ie(61005,{value:n})}function Dc(n){switch(js(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=uf(n);return e?16+Dc(e):16;case 5:return 2*n.stringValue.length;case 6:return Zs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((r,l)=>r+Dc(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let r=0;return zo(s.fields,((l,c)=>{r+=l.length+Dc(c)})),r})(n.mapValue);default:throw Ie(13486,{value:n})}}function O0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Zh(n){return!!n&&"integerValue"in n}function wm(n){return!!n&&"arrayValue"in n}function B0(n){return!!n&&"nullValue"in n}function z0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Pc(n){return!!n&&"mapValue"in n}function nP(n){var t,s;return((s=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[DE])==null?void 0:s.stringValue)===PE}function Nl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return zo(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=Nl(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Nl(n.arrayValue.values[t]);return e}return{...n}}function iP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===tP}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this.value=e}static empty(){return new Bn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!Pc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Nl(t)}setAll(e){let t=Zt.emptyPath(),s={},r=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const y=this.getFieldsMap(t);this.applyChanges(y,s,r),s={},r=[],t=d.popLast()}c?s[d.lastSegment()]=Nl(c):r.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,r)}delete(e){const t=this.field(e.popLast());Pc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ui(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let r=t.mapValue.fields[e.get(s)];Pc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,s){zo(t,((r,l)=>e[r]=l));for(const r of s)delete e[r]}clone(){return new Bn(Nl(this.value))}}function VE(n){const e=[];return zo(n.fields,((t,s)=>{const r=new Zt([t]);if(Pc(s)){const l=VE(s.mapValue).fields;if(l.length===0)e.push(r);else for(const c of l)e.push(r.child(c))}else e.push(r)})),new si(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t,s,r,l,c,d){this.key=e,this.documentType=t,this.version=s,this.readTime=r,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new sn(e,0,Re.min(),Re.min(),Re.min(),Bn.empty(),0)}static newFoundDocument(e,t,s,r){return new sn(e,1,t,Re.min(),s,r,0)}static newNoDocument(e,t){return new sn(e,2,t,Re.min(),Re.min(),Bn.empty(),0)}static newUnknownDocument(e,t){return new sn(e,3,t,Re.min(),Re.min(),Bn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Bn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Bn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof sn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t){this.position=e,this.inclusive=t}}function F0(n,e,t){let s=0;for(let r=0;r<n.position.length;r++){const l=e[r],c=n.position[r];if(l.field.isKeyField()?s=Ae.comparator(Ae.fromName(c.referenceValue),t.key):s=Zr(c,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function H0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ui(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(e,t="asc"){this.field=e,this.dir=t}}function sP(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{}class Vt extends UE{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new rP(e,t,s):t==="array-contains"?new uP(e,s):t==="in"?new cP(e,s):t==="not-in"?new fP(e,s):t==="array-contains-any"?new dP(e,s):new Vt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new aP(e,s):new lP(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Zr(t,this.value)):t!==null&&js(this.value)===js(t)&&this.matchesComparison(Zr(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends UE{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ri(e,t)}matches(e){return LE(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function LE(n){return n.op==="and"}function kE(n){return oP(n)&&LE(n)}function oP(n){for(const e of n.filters)if(e instanceof ri)return!1;return!0}function jh(n){if(n instanceof Vt)return n.field.canonicalString()+n.op.toString()+jr(n.value);if(kE(n))return n.filters.map((e=>jh(e))).join(",");{const e=n.filters.map((t=>jh(t))).join(",");return`${n.op}(${e})`}}function qE(n,e){return n instanceof Vt?(function(s,r){return r instanceof Vt&&s.op===r.op&&s.field.isEqual(r.field)&&Ui(s.value,r.value)})(n,e):n instanceof ri?(function(s,r){return r instanceof ri&&s.op===r.op&&s.filters.length===r.filters.length?s.filters.reduce(((l,c,d)=>l&&qE(c,r.filters[d])),!0):!1})(n,e):void Ie(19439)}function OE(n){return n instanceof Vt?(function(t){return`${t.field.canonicalString()} ${t.op} ${jr(t.value)}`})(n):n instanceof ri?(function(t){return t.op.toString()+" {"+t.getFilters().map(OE).join(" ,")+"}"})(n):"Filter"}class rP extends Vt{constructor(e,t,s){super(e,t,s),this.key=Ae.fromName(s.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class aP extends Vt{constructor(e,t){super(e,"in",t),this.keys=BE("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class lP extends Vt{constructor(e,t){super(e,"not-in",t),this.keys=BE("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function BE(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((s=>Ae.fromName(s.referenceValue)))}class uP extends Vt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return wm(t)&&ql(t.arrayValue,this.value)}}class cP extends Vt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ql(this.value.arrayValue,t)}}class fP extends Vt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!ql(this.value.arrayValue,t)}}class dP extends Vt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!wm(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>ql(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,t=null,s=[],r=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=r,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function G0(n,e=null,t=[],s=[],r=null,l=null,c=null){return new hP(n,e,t,s,r,l,c)}function Nm(n){const e=Ne(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>jh(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),lf(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>jr(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>jr(s))).join(",")),e.Te=t}return e.Te}function bm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!sP(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!qE(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!H0(n.startAt,e.startAt)&&H0(n.endAt,e.endAt)}function em(n){return Ae.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ua{constructor(e,t=null,s=[],r=[],l=null,c="F",d=null,y=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=r,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mP(n,e,t,s,r,l,c,d){return new ua(n,e,t,s,r,l,c,d)}function Mm(n){return new ua(n)}function Y0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zE(n){return n.collectionGroup!==null}function bl(n){const e=Ne(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new Bt(Zt.comparator);return c.filters.forEach((y=>{y.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Ol(l,s))})),t.has(Zt.keyField().canonicalString())||e.Ie.push(new Ol(Zt.keyField(),s))}return e.Ie}function Mi(n){const e=Ne(n);return e.Ee||(e.Ee=pP(e,bl(n))),e.Ee}function pP(n,e){if(n.limitType==="F")return G0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((r=>{const l=r.dir==="desc"?"asc":"desc";return new Ol(r.field,l)}));const t=n.endAt?new Qc(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Qc(n.startAt.position,n.startAt.inclusive):null;return G0(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function tm(n,e){const t=n.filters.concat([e]);return new ua(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function nm(n,e,t){return new ua(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function cf(n,e){return bm(Mi(n),Mi(e))&&n.limitType===e.limitType}function FE(n){return`${Nm(Mi(n))}|lt:${n.limitType}`}function qr(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((r=>OE(r))).join(", ")}]`),lf(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((r=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(r))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((r=>jr(r))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((r=>jr(r))).join(",")),`Target(${s})`})(Mi(n))}; limitType=${n.limitType})`}function ff(n,e){return e.isFoundDocument()&&(function(s,r){const l=r.key.path;return s.collectionGroup!==null?r.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ae.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,r){for(const l of bl(s))if(!l.field.isKeyField()&&r.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,r){for(const l of s.filters)if(!l.matches(r))return!1;return!0})(n,e)&&(function(s,r){return!(s.startAt&&!(function(c,d,y){const p=F0(c,d,y);return c.inclusive?p<=0:p<0})(s.startAt,bl(s),r)||s.endAt&&!(function(c,d,y){const p=F0(c,d,y);return c.inclusive?p>=0:p>0})(s.endAt,bl(s),r))})(n,e)}function gP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function HE(n){return(e,t)=>{let s=!1;for(const r of bl(n)){const l=yP(r,e,t);if(l!==0)return l;s=s||r.field.isKeyField()}return 0}}function yP(n,e,t){const s=n.field.isKeyField()?Ae.comparator(e.key,t.key):(function(l,c,d){const y=c.data.field(l),p=d.data.field(l);return y!==null&&p!==null?Zr(y,p):Ie(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ie(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[r,l]of s)if(this.equalsFn(r,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),r=this.inner[s];if(r===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],e))return void(r[l]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let r=0;r<s.length;r++)if(this.equalsFn(s[r][0],e))return s.length===1?delete this.inner[t]:s.splice(r,1),this.innerSize--,!0;return!1}forEach(e){zo(this.inner,((t,s)=>{for(const[r,l]of s)e(r,l)}))}isEmpty(){return xE(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _P=new gt(Ae.comparator);function rs(){return _P}const GE=new gt(Ae.comparator);function Cl(...n){let e=GE;for(const t of n)e=e.insert(t.key,t);return e}function YE(n){let e=GE;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Lo(){return Ml()}function JE(){return Ml()}function Ml(){return new Fo((n=>n.toString()),((n,e)=>n.isEqual(e)))}const vP=new gt(Ae.comparator),TP=new Bt(Ae.comparator);function ze(...n){let e=TP;for(const t of n)e=e.add(t);return e}const EP=new Bt(Be);function SP(){return EP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(e)?"-0":e}}function KE(n){return{integerValue:""+n}}function AP(n,e){return XD(e)?KE(e):Dm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this._=void 0}}function CP(n,e,t){return n instanceof Bl?(function(r,l){const c={fields:{[NE]:{stringValue:wE},[ME]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return l&&Rm(l)&&(l=uf(l)),l&&(c.fields[bE]=l),{mapValue:c}})(t,e):n instanceof zl?$E(n,e):n instanceof Fl?XE(n,e):(function(r,l){const c=QE(r,l),d=J0(c)+J0(r.Ae);return Zh(c)&&Zh(r.Ae)?KE(d):Dm(r.serializer,d)})(n,e)}function IP(n,e,t){return n instanceof zl?$E(n,e):n instanceof Fl?XE(n,e):t}function QE(n,e){return n instanceof $c?(function(s){return Zh(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Bl extends df{}class zl extends df{constructor(e){super(),this.elements=e}}function $E(n,e){const t=WE(e);for(const s of n.elements)t.some((r=>Ui(r,s)))||t.push(s);return{arrayValue:{values:t}}}class Fl extends df{constructor(e){super(),this.elements=e}}function XE(n,e){let t=WE(e);for(const s of n.elements)t=t.filter((r=>!Ui(r,s)));return{arrayValue:{values:t}}}class $c extends df{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function J0(n){return At(n.integerValue||n.doubleValue)}function WE(n){return wm(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e,t){this.field=e,this.transform=t}}function RP(n,e){return n.field.isEqual(e.field)&&(function(s,r){return s instanceof zl&&r instanceof zl||s instanceof Fl&&r instanceof Fl?Wr(s.elements,r.elements,Ui):s instanceof $c&&r instanceof $c?Ui(s.Ae,r.Ae):s instanceof Bl&&r instanceof Bl})(n.transform,e.transform)}class wP{constructor(e,t){this.version=e,this.transformResults=t}}class oi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new oi}static exists(e){return new oi(void 0,e)}static updateTime(e){return new oi(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Vc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class hf{}function ZE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Pm(n.key,oi.none()):new Gl(n.key,n.data,oi.none());{const t=n.data,s=Bn.empty();let r=new Bt(Zt.comparator);for(let l of e.fields)if(!r.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?s.delete(l):s.set(l,c),r=r.add(l)}return new Ho(n.key,s,new si(r.toArray()),oi.none())}}function NP(n,e,t){n instanceof Gl?(function(r,l,c){const d=r.value.clone(),y=Q0(r.fieldTransforms,l,c.transformResults);d.setAll(y),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(n,e,t):n instanceof Ho?(function(r,l,c){if(!Vc(r.precondition,l))return void l.convertToUnknownDocument(c.version);const d=Q0(r.fieldTransforms,l,c.transformResults),y=l.data;y.setAll(jE(r)),y.setAll(d),l.convertToFoundDocument(c.version,y).setHasCommittedMutations()})(n,e,t):(function(r,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function Dl(n,e,t,s){return n instanceof Gl?(function(l,c,d,y){if(!Vc(l.precondition,c))return d;const p=l.value.clone(),v=$0(l.fieldTransforms,y,c);return p.setAll(v),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(n,e,t,s):n instanceof Ho?(function(l,c,d,y){if(!Vc(l.precondition,c))return d;const p=$0(l.fieldTransforms,y,c),v=c.data;return v.setAll(jE(l)),v.setAll(p),c.convertToFoundDocument(c.version,v).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(n,e,t,s):(function(l,c,d){return Vc(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(n,e,t)}function bP(n,e){let t=null;for(const s of n.fieldTransforms){const r=e.data.field(s.field),l=QE(s.transform,r||null);l!=null&&(t===null&&(t=Bn.empty()),t.set(s.field,l))}return t||null}function K0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,r){return s===void 0&&r===void 0||!(!s||!r)&&Wr(s,r,((l,c)=>RP(l,c)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Gl extends hf{constructor(e,t,s,r=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Ho extends hf{constructor(e,t,s,r,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=r,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function jE(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function Q0(n,e,t){const s=new Map;je(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let r=0;r<t.length;r++){const l=n[r],c=l.transform,d=e.data.field(l.field);s.set(l.field,IP(c,d,t[r]))}return s}function $0(n,e,t){const s=new Map;for(const r of n){const l=r.transform,c=t.data.field(r.field);s.set(r.field,CP(l,c,e))}return s}class Pm extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MP extends hf{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,t,s,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=r}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const l=this.mutations[r];l.key.isEqual(e.key)&&NP(l,e,s[r])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=Dl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=Dl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=JE();return this.mutations.forEach((r=>{const l=e.get(r.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(r.key)?null:d;const y=ZE(c,d);y!==null&&s.set(r.key,y),c.isValidDocument()||c.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ze())}isEqual(e){return this.batchId===e.batchId&&Wr(this.mutations,e.mutations,((t,s)=>K0(t,s)))&&Wr(this.baseMutations,e.baseMutations,((t,s)=>K0(t,s)))}}class Vm{constructor(e,t,s,r){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=r}static from(e,t,s){je(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let r=(function(){return vP})();const l=e.mutations;for(let c=0;c<l.length;c++)r=r.insert(l[c].key,s[c].version);return new Vm(e,t,s,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,Ge;function UP(n){switch(n){case te.OK:return Ie(64938);case te.CANCELLED:case te.UNKNOWN:case te.DEADLINE_EXCEEDED:case te.RESOURCE_EXHAUSTED:case te.INTERNAL:case te.UNAVAILABLE:case te.UNAUTHENTICATED:return!1;case te.INVALID_ARGUMENT:case te.NOT_FOUND:case te.ALREADY_EXISTS:case te.PERMISSION_DENIED:case te.FAILED_PRECONDITION:case te.ABORTED:case te.OUT_OF_RANGE:case te.UNIMPLEMENTED:case te.DATA_LOSS:return!0;default:return Ie(15467,{code:n})}}function eS(n){if(n===void 0)return ss("GRPC error has no .code"),te.UNKNOWN;switch(n){case Pt.OK:return te.OK;case Pt.CANCELLED:return te.CANCELLED;case Pt.UNKNOWN:return te.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return te.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return te.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return te.INTERNAL;case Pt.UNAVAILABLE:return te.UNAVAILABLE;case Pt.UNAUTHENTICATED:return te.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return te.INVALID_ARGUMENT;case Pt.NOT_FOUND:return te.NOT_FOUND;case Pt.ALREADY_EXISTS:return te.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return te.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return te.FAILED_PRECONDITION;case Pt.ABORTED:return te.ABORTED;case Pt.OUT_OF_RANGE:return te.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return te.UNIMPLEMENTED;case Pt.DATA_LOSS:return te.DATA_LOSS;default:return Ie(39323,{code:n})}}(Ge=Pt||(Pt={}))[Ge.OK=0]="OK",Ge[Ge.CANCELLED=1]="CANCELLED",Ge[Ge.UNKNOWN=2]="UNKNOWN",Ge[Ge.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ge[Ge.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ge[Ge.NOT_FOUND=5]="NOT_FOUND",Ge[Ge.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ge[Ge.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ge[Ge.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ge[Ge.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ge[Ge.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ge[Ge.ABORTED=10]="ABORTED",Ge[Ge.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ge[Ge.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ge[Ge.INTERNAL=13]="INTERNAL",Ge[Ge.UNAVAILABLE=14]="UNAVAILABLE",Ge[Ge.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kP=new Qs([4294967295,4294967295],0);function X0(n){const e=LP().encode(n),t=new pE;return t.update(e),new Uint8Array(t.digest())}function W0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),r=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Qs([t,s],0),new Qs([r,l],0)]}class Um{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Il(`Invalid padding: ${t}`);if(s<0)throw new Il(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Il(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Qs.fromNumber(this.ge)}ye(e,t,s){let r=e.add(t.multiply(Qs.fromNumber(s)));return r.compare(kP)===1&&(r=new Qs([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=X0(e),[s,r]=W0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,r,l);if(!this.we(c))return!1}return!0}static create(e,t,s){const r=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Um(l,r,t);return s.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=X0(e),[s,r]=W0(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(s,r,l);this.Se(c)}}Se(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e,t,s,r,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=r,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const r=new Map;return r.set(e,Yl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new mf(Re.min(),r,new gt(Be),rs(),ze())}}class Yl{constructor(e,t,s,r,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=r,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Yl(s,t,ze(),ze(),ze())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uc{constructor(e,t,s,r){this.be=e,this.removedTargetIds=t,this.key=s,this.De=r}}class tS{constructor(e,t){this.targetId=e,this.Ce=t}}class nS{constructor(e,t,s=jt.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=r}}class Z0{constructor(){this.ve=0,this.Fe=j0(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ze(),t=ze(),s=ze();return this.Fe.forEach(((r,l)=>{switch(l){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:s=s.add(r);break;default:Ie(38017,{changeType:l})}})),new Yl(this.Me,this.xe,e,t,s)}qe(){this.Oe=!1,this.Fe=j0()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,je(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qP{constructor(e){this.Ge=e,this.ze=new Map,this.je=rs(),this.Je=Rc(),this.He=Rc(),this.Ye=new gt(Be)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const s=this.nt(t);switch(e.state){case 0:this.rt(t)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),s.Le(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((s,r)=>{this.rt(r)&&t(r)}))}st(e){const t=e.targetId,s=e.Ce.count,r=this.ot(t);if(r){const l=r.target;if(em(l))if(s===0){const c=new Ae(l.path);this.et(t,c,sn.newNoDocument(c,Re.min()))}else je(s===1,20013,{expectedCount:s});else{const c=this._t(t);if(c!==s){const d=this.ut(e),y=d?this.ct(d,e,c):1;if(y!==0){this.it(t);const p=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:r=0},hashCount:l=0}=t;let c,d;try{c=Zs(s).toUint8Array()}catch(y){if(y instanceof RE)return Xr("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{d=new Um(c,r,l)}catch(y){return Xr(y instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return d.ge===0?null:d}ct(e,t,s){return t.Ce.count===s-this.Pt(e,t.targetId)?0:2}Pt(e,t){const s=this.Ge.getRemoteKeysForTarget(t);let r=0;return s.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),r++)})),r}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&em(d.target)){const y=new Ae(d.target.path);this.It(y).has(c)||this.Et(c,y)||this.et(c,y,sn.newNoDocument(y,e))}l.Be&&(t.set(c,l.ke()),l.qe())}}));let s=ze();this.He.forEach(((l,c)=>{let d=!0;c.forEachWhile((y=>{const p=this.ot(y);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(s=s.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const r=new mf(e,t,this.Ye,this.je,s);return this.je=rs(),this.Je=Rc(),this.He=Rc(),this.Ye=new gt(Be),r}Xe(e,t){if(!this.rt(e))return;const s=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,s),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,s){if(!this.rt(e))return;const r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),s&&(this.je=this.je.insert(t,s))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Z0,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Bt(Be),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Bt(Be),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Z0),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Rc(){return new gt(Ae.comparator)}function j0(){return new gt(Ae.comparator)}const OP={asc:"ASCENDING",desc:"DESCENDING"},BP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zP={and:"AND",or:"OR"};class FP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function im(n,e){return n.useProto3Json||lf(e)?e:{value:e}}function Xc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function HP(n,e){return Xc(n,e.toTimestamp())}function Di(n){return je(!!n,49232),Re.fromTimestamp((function(t){const s=Ws(t);return new ut(s.seconds,s.nanos)})(n))}function Lm(n,e){return sm(n,e).canonicalString()}function sm(n,e){const t=(function(r){return new lt(["projects",r.projectId,"databases",r.database])})(n).child("documents");return e===void 0?t:t.child(e)}function sS(n){const e=lt.fromString(n);return je(uS(e),10190,{key:e.toString()}),e}function om(n,e){return Lm(n.databaseId,e.path)}function Mh(n,e){const t=sS(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(te.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(rS(t))}function oS(n,e){return Lm(n.databaseId,e)}function GP(n){const e=sS(n);return e.length===4?lt.emptyPath():rS(e)}function rm(n){return new lt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function rS(n){return je(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function eT(n,e,t){return{name:om(n,e),fields:t.value.mapValue.fields}}function YP(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ie(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],l=(function(p,v){return p.useProto3Json?(je(v===void 0||typeof v=="string",58123),jt.fromBase64String(v||"")):(je(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),jt.fromUint8Array(v||new Uint8Array))})(n,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const v=p.code===void 0?te.UNKNOWN:eS(p.code);return new pe(v,p.message||"")})(c);t=new nS(s,r,l,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const r=Mh(n,s.document.name),l=Di(s.document.updateTime),c=s.document.createTime?Di(s.document.createTime):Re.min(),d=new Bn({mapValue:{fields:s.document.fields}}),y=sn.newFoundDocument(r,l,c,d),p=s.targetIds||[],v=s.removedTargetIds||[];t=new Uc(p,v,y.key,y)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const r=Mh(n,s.document),l=s.readTime?Di(s.readTime):Re.min(),c=sn.newNoDocument(r,l),d=s.removedTargetIds||[];t=new Uc([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const r=Mh(n,s.document),l=s.removedTargetIds||[];t=new Uc([],l,r,null)}else{if(!("filter"in e))return Ie(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:r=0,unchangedNames:l}=s,c=new VP(r,l),d=s.targetId;t=new tS(d,c)}}return t}function JP(n,e){let t;if(e instanceof Gl)t={update:eT(n,e.key,e.value)};else if(e instanceof Pm)t={delete:om(n,e.key)};else if(e instanceof Ho)t={update:eT(n,e.key,e.data),updateMask:tV(e.fieldMask)};else{if(!(e instanceof MP))return Ie(16599,{Vt:e.type});t={verify:om(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,c){const d=c.transform;if(d instanceof Bl)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof zl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Fl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof $c)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw Ie(20930,{transform:c.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(r,l){return l.updateTime!==void 0?{updateTime:HP(r,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie(27497)})(n,e.precondition)),t}function KP(n,e){return n&&n.length>0?(je(e!==void 0,14353),n.map((t=>(function(r,l){let c=r.updateTime?Di(r.updateTime):Di(l);return c.isEqual(Re.min())&&(c=Di(l)),new wP(c,r.transformResults||[])})(t,e)))):[]}function QP(n,e){return{documents:[oS(n,e.path)]}}function $P(n,e){const t={structuredQuery:{}},s=e.path;let r;e.collectionGroup!==null?(r=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=oS(n,r);const l=(function(p){if(p.length!==0)return lS(ri.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((v=>(function(S){return{field:Or(S.field),direction:ZP(S.dir)}})(v)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=im(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:r}}function XP(n){let e=GP(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let r=null;if(s>0){je(s===1,65062);const v=t.from[0];v.allDescendants?r=v.collectionId:e=e.child(v.collectionId)}let l=[];t.where&&(l=(function(T){const S=aS(T);return S instanceof ri&&kE(S)?S.getFilters():[S]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((S=>(function(O){return new Ol(Br(O.field),(function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(S)))})(t.orderBy));let d=null;t.limit&&(d=(function(T){let S;return S=typeof T=="object"?T.value:T,lf(S)?null:S})(t.limit));let y=null;t.startAt&&(y=(function(T){const S=!!T.before,R=T.values||[];return new Qc(R,S)})(t.startAt));let p=null;return t.endAt&&(p=(function(T){const S=!T.before,R=T.values||[];return new Qc(R,S)})(t.endAt)),mP(e,r,c,l,d,"F",y,p)}function WP(n,e){const t=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:r})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function aS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=Br(t.unaryFilter.field);return Vt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const r=Br(t.unaryFilter.field);return Vt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Br(t.unaryFilter.field);return Vt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Br(t.unaryFilter.field);return Vt.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Vt.create(Br(t.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return ri.create(t.compositeFilter.filters.map((s=>aS(s))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(t.compositeFilter.op))})(n):Ie(30097,{filter:n})}function ZP(n){return OP[n]}function jP(n){return BP[n]}function eV(n){return zP[n]}function Or(n){return{fieldPath:n.canonicalString()}}function Br(n){return Zt.fromServerFormat(n.fieldPath)}function lS(n){return n instanceof Vt?(function(t){if(t.op==="=="){if(z0(t.value))return{unaryFilter:{field:Or(t.field),op:"IS_NAN"}};if(B0(t.value))return{unaryFilter:{field:Or(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(z0(t.value))return{unaryFilter:{field:Or(t.field),op:"IS_NOT_NAN"}};if(B0(t.value))return{unaryFilter:{field:Or(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Or(t.field),op:jP(t.op),value:t.value}}})(n):n instanceof ri?(function(t){const s=t.getFilters().map((r=>lS(r)));return s.length===1?s[0]:{compositeFilter:{op:eV(t.op),filters:s}}})(n):Ie(54877,{filter:n})}function tV(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function uS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ys{constructor(e,t,s,r,l=Re.min(),c=Re.min(),d=jt.EMPTY_BYTE_STRING,y=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=r,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=y}withSequenceNumber(e){return new Ys(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ys(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nV{constructor(e){this.yt=e}}function iV(n){const e=XP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?nm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sV{constructor(){this.Cn=new oV}addToCollectionParentIndex(e,t){return this.Cn.add(t),se.resolve()}getCollectionParents(e,t){return se.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return se.resolve()}deleteFieldIndex(e,t){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,t){return se.resolve()}getDocumentsMatchingTarget(e,t){return se.resolve(null)}getIndexType(e,t){return se.resolve(0)}getFieldIndexes(e,t){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,t){return se.resolve(Xs.min())}getMinOffsetFromCollectionGroup(e,t){return se.resolve(Xs.min())}updateCollectionGroup(e,t,s){return se.resolve()}updateIndexEntries(e,t){return se.resolve()}}class oV{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),r=this.index[t]||new Bt(lt.comparator),l=!r.has(s);return this.index[t]=r.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),r=this.index[t];return r&&r.has(s)}getEntries(e){return(this.index[e]||new Bt(lt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},cS=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(cS,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ea(0)}static cr(){return new ea(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT="LruGarbageCollector",rV=1048576;function iT([n,e],[t,s]){const r=Be(n,t);return r===0?Be(e,s):r}class aV{constructor(e){this.Ir=e,this.buffer=new Bt(iT),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();iT(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class lV{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ge(nT,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){la(t)?ge(nT,"Ignoring IndexedDB error during garbage collection: ",t):await aa(t)}await this.Vr(3e5)}))}}class uV{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return se.resolve(af.ce);const s=new aV(t);return this.mr.forEachTarget(e,(r=>s.Ar(r.sequenceNumber))).next((()=>this.mr.pr(e,(r=>s.Ar(r))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.mr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(tT)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),tT):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let s,r,l,c,d,y,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),r=this.params.maximumSequenceNumbersToCollect):r=T,c=Date.now(),this.nthSequenceNumber(e,r)))).next((T=>(s=T,d=Date.now(),this.removeTargets(e,s,t)))).next((T=>(l=T,y=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(p=Date.now(),kr()<=Ye.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-v}ms
	Determined least recently used ${r} in `+(d-c)+`ms
	Removed ${l} targets in `+(y-d)+`ms
	Removed ${T} documents in `+(p-y)+`ms
Total Duration: ${p-v}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:l,documentsRemoved:T}))))}}function cV(n,e){return new uV(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fV{constructor(){this.changes=new Fo((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,sn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?se.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hV{constructor(e,t,s,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=r}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(s=r,this.remoteDocumentCache.getEntry(e,t)))).next((r=>(s!==null&&Dl(s.mutation,r,si.empty(),ut.now()),r)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,ze()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=ze()){const r=Lo();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,s).next((l=>{let c=Cl();return l.forEach(((d,y)=>{c=c.insert(d,y.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const s=Lo();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,ze())))}populateOverlays(e,t,s){const r=[];return s.forEach((l=>{t.has(l)||r.push(l)})),this.documentOverlayCache.getOverlays(e,r).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,s,r){let l=rs();const c=Ml(),d=(function(){return Ml()})();return t.forEach(((y,p)=>{const v=s.get(p.key);r.has(p.key)&&(v===void 0||v.mutation instanceof Ho)?l=l.insert(p.key,p):v!==void 0?(c.set(p.key,v.mutation.getFieldMask()),Dl(v.mutation,p,v.mutation.getFieldMask(),ut.now())):c.set(p.key,si.empty())})),this.recalculateAndSaveOverlays(e,l).next((y=>(y.forEach(((p,v)=>c.set(p,v))),t.forEach(((p,v)=>d.set(p,new dV(v,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,t){const s=Ml();let r=new gt(((c,d)=>c-d)),l=ze();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((y=>{const p=t.get(y);if(p===null)return;let v=s.get(y)||si.empty();v=d.applyToLocalView(p,v),s.set(y,v);const T=(r.get(d.batchId)||ze()).add(y);r=r.insert(d.batchId,T)}))})).next((()=>{const c=[],d=r.getReverseIterator();for(;d.hasNext();){const y=d.getNext(),p=y.key,v=y.value,T=JE();v.forEach((S=>{if(!l.has(S)){const R=ZE(t.get(S),s.get(S));R!==null&&T.set(S,R),l=l.add(S)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return se.waitFor(c)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,r){return(function(c){return Ae.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zE(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,r):this.getDocumentsMatchingCollectionQuery(e,t,s,r)}getNextDocuments(e,t,s,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,r).next((l=>{const c=r-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,r-l.size):se.resolve(Lo());let d=Ul,y=l;return c.next((p=>se.forEach(p,((v,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(v)?se.resolve():this.remoteDocumentCache.getEntry(e,v).next((S=>{y=y.insert(v,S)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,y,p,ze()))).next((v=>({batchId:d,changes:YE(v)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next((s=>{let r=Cl();return s.isFoundDocument()&&(r=r.insert(s.key,s)),r}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,r){const l=t.collectionGroup;let c=Cl();return this.indexManager.getCollectionParents(e,l).next((d=>se.forEach(d,(y=>{const p=(function(T,S){return new ua(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,y.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,s,r).next((v=>{v.forEach(((T,S)=>{c=c.insert(T,S)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,s,r){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,r)))).next((c=>{l.forEach(((y,p)=>{const v=p.getKey();c.get(v)===null&&(c=c.insert(v,sn.newInvalidDocument(v)))}));let d=Cl();return c.forEach(((y,p)=>{const v=l.get(y);v!==void 0&&Dl(v.mutation,p,si.empty(),ut.now()),ff(t,p)&&(d=d.insert(y,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mV{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return se.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(r){return{id:r.id,version:r.version,createTime:Di(r.createTime)}})(t)),se.resolve()}getNamedQuery(e,t){return se.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(r){return{name:r.name,query:iV(r.bundledQuery),readTime:Di(r.readTime)}})(t)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV{constructor(){this.overlays=new gt(Ae.comparator),this.qr=new Map}getOverlay(e,t){return se.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Lo();return se.forEach(t,(r=>this.getOverlay(e,r).next((l=>{l!==null&&s.set(r,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((r,l)=>{this.St(e,t,l)})),se.resolve()}removeOverlaysForBatchId(e,t,s){const r=this.qr.get(s);return r!==void 0&&(r.forEach((l=>this.overlays=this.overlays.remove(l))),this.qr.delete(s)),se.resolve()}getOverlaysForCollection(e,t,s){const r=Lo(),l=t.length+1,c=new Ae(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const y=d.getNext().value,p=y.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&y.largestBatchId>s&&r.set(y.getKey(),y)}return se.resolve(r)}getOverlaysForCollectionGroup(e,t,s,r){let l=new gt(((p,v)=>p-v));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>s){let v=l.get(p.largestBatchId);v===null&&(v=Lo(),l=l.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const d=Lo(),y=l.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((p,v)=>d.set(p,v))),!(d.size()>=r)););return se.resolve(d)}St(e,t,s){const r=this.overlays.get(s.key);if(r!==null){const c=this.qr.get(r.largestBatchId).delete(s.key);this.qr.set(r.largestBatchId,c)}this.overlays=this.overlays.insert(s.key,new PP(t,s));let l=this.qr.get(t);l===void 0&&(l=ze(),this.qr.set(t,l)),this.qr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(){this.Qr=new Bt(Gt.$r),this.Ur=new Bt(Gt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const s=new Gt(e,t);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Gr(new Gt(e,t))}zr(e,t){e.forEach((s=>this.removeReference(s,t)))}jr(e){const t=new Ae(new lt([])),s=new Gt(t,e),r=new Gt(t,e+1),l=[];return this.Ur.forEachInRange([s,r],(c=>{this.Gr(c),l.push(c.key)})),l}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new Ae(new lt([])),s=new Gt(t,e),r=new Gt(t,e+1);let l=ze();return this.Ur.forEachInRange([s,r],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Gt(e,0),s=this.Qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Gt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return Ae.comparator(e.key,t.key)||Be(e.Yr,t.Yr)}static Kr(e,t){return Be(e.Yr,t.Yr)||Ae.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Bt(Gt.$r)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,r){const l=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new DP(l,t,s,r);this.mutationQueue.push(c);for(const d of r)this.Zr=this.Zr.add(new Gt(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return se.resolve(c)}lookupMutationBatch(e,t){return se.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,r=this.ei(s),l=r<0?0:r;return se.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?xm:this.tr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Gt(t,0),r=new Gt(t,Number.POSITIVE_INFINITY),l=[];return this.Zr.forEachInRange([s,r],(c=>{const d=this.Xr(c.Yr);l.push(d)})),se.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new Bt(Be);return t.forEach((r=>{const l=new Gt(r,0),c=new Gt(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([l,c],(d=>{s=s.add(d.Yr)}))})),se.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,r=s.length+1;let l=s;Ae.isDocumentKey(l)||(l=l.child(""));const c=new Gt(new Ae(l),0);let d=new Bt(Be);return this.Zr.forEachWhile((y=>{const p=y.key.path;return!!s.isPrefixOf(p)&&(p.length===r&&(d=d.add(y.Yr)),!0)}),c),se.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((s=>{const r=this.Xr(s);r!==null&&t.push(r)})),t}removeMutationBatch(e,t){je(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return se.forEach(t.mutations,(r=>{const l=new Gt(r.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,t){const s=new Gt(t,0),r=this.Zr.firstAfterOrEqual(s);return se.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _V{constructor(e){this.ri=e,this.docs=(function(){return new gt(Ae.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,r=this.docs.get(s),l=r?r.size:0,c=this.ri(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return se.resolve(s?s.document.mutableCopy():sn.newInvalidDocument(t))}getEntries(e,t){let s=rs();return t.forEach((r=>{const l=this.docs.get(r);s=s.insert(r,l?l.document.mutableCopy():sn.newInvalidDocument(r))})),se.resolve(s)}getDocumentsMatchingQuery(e,t,s,r){let l=rs();const c=t.path,d=new Ae(c.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(d);for(;y.hasNext();){const{key:p,value:{document:v}}=y.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||JD(YD(v),s)<=0||(r.has(v.key)||ff(t,v))&&(l=l.insert(v.key,v.mutableCopy()))}return se.resolve(l)}getAllFromCollectionGroup(e,t,s,r){Ie(9500)}ii(e,t){return se.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new vV(this)}getSize(e){return se.resolve(this.size)}}class vV extends fV{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((s,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(s)})),se.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(e){this.persistence=e,this.si=new Fo((t=>Nm(t)),bm),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.oi=0,this._i=new km,this.targetCount=0,this.ai=ea.ur()}forEachTarget(e,t){return this.si.forEach(((s,r)=>t(r))),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.oi&&(this.oi=t),se.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ea(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,se.resolve()}updateTargetData(e,t){return this.Pr(t),se.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,t,s){let r=0;const l=[];return this.si.forEach(((c,d)=>{d.sequenceNumber<=t&&s.get(d.targetId)===null&&(this.si.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),r++)})),se.waitFor(l).next((()=>r))}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,t){const s=this.si.get(t)||null;return se.resolve(s)}addMatchingKeys(e,t,s){return this._i.Wr(t,s),se.resolve()}removeMatchingKeys(e,t,s){this._i.zr(t,s);const r=this.persistence.referenceDelegate,l=[];return r&&t.forEach((c=>{l.push(r.markPotentiallyOrphaned(e,c))})),se.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),se.resolve()}getMatchingKeysForTargetId(e,t){const s=this._i.Hr(t);return se.resolve(s)}containsKey(e,t){return se.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,t){this.ui={},this.overlays={},this.ci=new af(0),this.li=!1,this.li=!0,this.hi=new gV,this.referenceDelegate=e(this),this.Pi=new TV(this),this.indexManager=new sV,this.remoteDocumentCache=(function(r){return new _V(r)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new nV(t),this.Ii=new mV(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pV,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ui[e.toKey()];return s||(s=new yV(t,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,s){ge("MemoryPersistence","Starting transaction:",e);const r=new EV(this.ci.next());return this.referenceDelegate.Ei(),s(r).next((l=>this.referenceDelegate.di(r).next((()=>l)))).toPromise().then((l=>(r.raiseOnCommittedEvent(),l)))}Ai(e,t){return se.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,t))))}}class EV extends QD{constructor(e){super(),this.currentSequenceNumber=e}}class qm{constructor(e){this.persistence=e,this.Ri=new km,this.Vi=null}static mi(e){return new qm(e)}get fi(){if(this.Vi)return this.Vi;throw Ie(60996)}addReference(e,t,s){return this.Ri.addReference(s,t),this.fi.delete(s.toString()),se.resolve()}removeReference(e,t,s){return this.Ri.removeReference(s,t),this.fi.add(s.toString()),se.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),se.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((r=>this.fi.add(r.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((r=>{r.forEach((l=>this.fi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.fi,(s=>{const r=Ae.fromPath(s);return this.gi(e,r).next((l=>{l||t.removeEntry(r,Re.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((s=>{s?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return se.or([()=>se.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Wc{constructor(e,t){this.persistence=e,this.pi=new Fo((s=>WD(s.path)),((s,r)=>s.isEqual(r))),this.garbageCollector=cV(this,t)}static mi(e,t){return new Wc(e,t)}Ei(){}di(e){return se.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((r=>s+r))))}wr(e){let t=0;return this.pr(e,(s=>{t++})).next((()=>t))}pr(e,t){return se.forEach(this.pi,((s,r)=>this.br(e,s,r).next((l=>l?se.resolve():t(r)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const r=this.persistence.getRemoteDocumentCache(),l=r.newChangeBuffer();return r.ii(e,(c=>this.br(e,c,t).next((d=>{d||(s++,l.removeEntry(c,Re.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}removeReference(e,t,s){return this.pi.set(s,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),se.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Dc(e.data.value)),t}br(e,t,s){return se.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const r=this.pi.get(t);return se.resolve(r!==void 0&&r>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(e,t,s,r){this.targetId=e,this.fromCache=t,this.Es=s,this.ds=r}static As(e,t){let s=ze(),r=ze();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:r=r.add(l.doc.key)}return new Om(e,t.fromCache,s,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return h2()?8:$D(f2())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,s,r){const l={result:null};return this.ys(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ws(e,t,r,s).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new SV;return this.Ss(e,t,c).next((d=>{if(l.result=d,this.Vs)return this.bs(e,t,c,d.size)}))})).next((()=>l.result))}bs(e,t,s,r){return s.documentReadCount<this.fs?(kr()<=Ye.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",qr(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),se.resolve()):(kr()<=Ye.DEBUG&&ge("QueryEngine","Query:",qr(t),"scans",s.documentReadCount,"local documents and returns",r,"documents as results."),s.documentReadCount>this.gs*r?(kr()<=Ye.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",qr(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(t))):se.resolve())}ys(e,t){if(Y0(t))return se.resolve(null);let s=Mi(t);return this.indexManager.getIndexType(e,s).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=nm(t,null,"F"),s=Mi(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const c=ze(...l);return this.ps.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,s).next((y=>{const p=this.Ds(t,d);return this.Cs(t,p,c,y.readTime)?this.ys(e,nm(t,null,"F")):this.vs(e,p,t,y)}))))})))))}ws(e,t,s,r){return Y0(t)||r.isEqual(Re.min())?se.resolve(null):this.ps.getDocuments(e,s).next((l=>{const c=this.Ds(t,l);return this.Cs(t,c,s,r)?se.resolve(null):(kr()<=Ye.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),qr(t)),this.vs(e,c,t,GD(r,Ul)).next((d=>d)))}))}Ds(e,t){let s=new Bt(HE(e));return t.forEach(((r,l)=>{ff(e,l)&&(s=s.add(l))})),s}Cs(e,t,s,r){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(r)>0)}Ss(e,t,s){return kr()<=Ye.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",qr(t)),this.ps.getDocumentsMatchingQuery(e,t,Xs.min(),s)}vs(e,t,s,r){return this.ps.getDocumentsMatchingQuery(e,s,r).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bm="LocalStore",CV=3e8;class IV{constructor(e,t,s,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new gt(Be),this.xs=new Fo((l=>Nm(l)),bm),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new hV(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function xV(n,e,t,s){return new IV(n,e,t,s)}async function dS(n,e){const t=Ne(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let r;return t.mutationQueue.getAllMutationBatches(s).next((l=>(r=l,t.Bs(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const c=[],d=[];let y=ze();for(const p of r){c.push(p.batchId);for(const v of p.mutations)y=y.add(v.key)}for(const p of l){d.push(p.batchId);for(const v of p.mutations)y=y.add(v.key)}return t.localDocuments.getDocuments(s,y).next((p=>({Ls:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function RV(n,e){const t=Ne(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const r=e.batch.keys(),l=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,y,p,v){const T=p.batch,S=T.keys();let R=se.resolve();return S.forEach((O=>{R=R.next((()=>v.getEntry(y,O))).next((H=>{const z=p.docVersions.get(O);je(z!==null,48541),H.version.compareTo(z)<0&&(T.applyToRemoteDocument(H,p),H.isValidDocument()&&(H.setReadTime(p.commitVersion),v.addEntry(H)))}))})),R.next((()=>d.mutationQueue.removeMutationBatch(y,T)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,r,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(d){let y=ze();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(y=y.add(d.batch.mutations[p].key));return y})(e)))).next((()=>t.localDocuments.getDocuments(s,r)))}))}function hS(n){const e=Ne(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function wV(n,e){const t=Ne(n),s=e.snapshotVersion;let r=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.Ns.newChangeBuffer({trackRemovals:!0});r=t.Ms;const d=[];e.targetChanges.forEach(((v,T)=>{const S=r.get(T);if(!S)return;d.push(t.Pi.removeMatchingKeys(l,v.removedDocuments,T).next((()=>t.Pi.addMatchingKeys(l,v.addedDocuments,T))));let R=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?R=R.withResumeToken(jt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):v.resumeToken.approximateByteSize()>0&&(R=R.withResumeToken(v.resumeToken,s)),r=r.insert(T,R),(function(H,z,ee){return H.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-H.snapshotVersion.toMicroseconds()>=CV?!0:ee.addedDocuments.size+ee.modifiedDocuments.size+ee.removedDocuments.size>0})(S,R,v)&&d.push(t.Pi.updateTargetData(l,R))}));let y=rs(),p=ze();if(e.documentUpdates.forEach((v=>{e.resolvedLimboDocuments.has(v)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,v))})),d.push(NV(l,c,e.documentUpdates).next((v=>{y=v.ks,p=v.qs}))),!s.isEqual(Re.min())){const v=t.Pi.getLastRemoteSnapshotVersion(l).next((T=>t.Pi.setTargetsMetadata(l,l.currentSequenceNumber,s)));d.push(v)}return se.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,y,p))).next((()=>y))})).then((l=>(t.Ms=r,l)))}function NV(n,e,t){let s=ze(),r=ze();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let c=rs();return t.forEach(((d,y)=>{const p=l.get(d);y.isFoundDocument()!==p.isFoundDocument()&&(r=r.add(d)),y.isNoDocument()&&y.version.isEqual(Re.min())?(e.removeEntry(d,y.readTime),c=c.insert(d,y)):!p.isValidDocument()||y.version.compareTo(p.version)>0||y.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(y),c=c.insert(d,y)):ge(Bm,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",y.version)})),{ks:c,qs:r}}))}function bV(n,e){const t=Ne(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=xm),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function MV(n,e){const t=Ne(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let r;return t.Pi.getTargetData(s,e).next((l=>l?(r=l,se.resolve(r)):t.Pi.allocateTargetId(s).next((c=>(r=new Ys(e,c,"TargetPurposeListen",s.currentSequenceNumber),t.Pi.addTargetData(s,r).next((()=>r)))))))})).then((s=>{const r=t.Ms.get(s.targetId);return(r===null||s.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(s.targetId,s),t.xs.set(e,s.targetId)),s}))}async function am(n,e,t){const s=Ne(n),r=s.Ms.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(c=>s.persistence.referenceDelegate.removeTarget(c,r)))}catch(c){if(!la(c))throw c;ge(Bm,`Failed to update sequence numbers for target ${e}: ${c}`)}s.Ms=s.Ms.remove(e),s.xs.delete(r.target)}function sT(n,e,t){const s=Ne(n);let r=Re.min(),l=ze();return s.persistence.runTransaction("Execute query","readwrite",(c=>(function(y,p,v){const T=Ne(y),S=T.xs.get(v);return S!==void 0?se.resolve(T.Ms.get(S)):T.Pi.getTargetData(p,v)})(s,c,Mi(e)).next((d=>{if(d)return r=d.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(c,d.targetId).next((y=>{l=y}))})).next((()=>s.Fs.getDocumentsMatchingQuery(c,e,t?r:Re.min(),t?l:ze()))).next((d=>(DV(s,gP(e),d),{documents:d,Qs:l})))))}function DV(n,e,t){let s=n.Os.get(e)||Re.min();t.forEach(((r,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.Os.set(e,s)}class oT{constructor(){this.activeTargetIds=SP()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class PV{constructor(){this.Mo=new oT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,s){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new oT,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VV{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT="ConnectivityMonitor";class aT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ge(rT,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ge(rT,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc=null;function lm(){return wc===null?wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():wc++,"0x"+wc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="RestConnection",UV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LV{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${s}/databases/${r}`,this.Wo=this.databaseId.database===Jc?`project_id=${s}`:`project_id=${s}&database_id=${r}`}Go(e,t,s,r,l){const c=lm(),d=this.zo(e,t.toUriEncodedString());ge(Dh,`Sending RPC '${e}' ${c}:`,d,s);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,r,l);const{host:p}=new URL(d),v=Sm(p);return this.Jo(e,d,y,s,v).then((T=>(ge(Dh,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Xr(Dh,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",s),T}))}Ho(e,t,s,r,l,c){return this.Go(e,t,s,r,l)}jo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ra})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((r,l)=>e[l]=r)),s&&s.headers.forEach(((r,l)=>e[l]=r))}zo(e,t){const s=UV[e];return`${this.Uo}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kV{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class qV extends LV{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,s,r,l){const c=lm();return new Promise(((d,y)=>{const p=new gE;p.setWithCredentials(!0),p.listenOnce(yE.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Mc.NO_ERROR:const T=p.getResponseJson();ge(tn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Mc.TIMEOUT:ge(tn,`RPC '${e}' ${c} timed out`),y(new pe(te.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const S=p.getStatus();if(ge(tn,`RPC '${e}' ${c} failed with status:`,S,"response text:",p.getResponseText()),S>0){let R=p.getResponseJson();Array.isArray(R)&&(R=R[0]);const O=R==null?void 0:R.error;if(O&&O.status&&O.message){const H=(function(ee){const re=ee.toLowerCase().replace(/_/g,"-");return Object.values(te).indexOf(re)>=0?re:te.UNKNOWN})(O.status);y(new pe(H,O.message))}else y(new pe(te.UNKNOWN,"Server responded with status "+p.getStatus()))}else y(new pe(te.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ge(tn,`RPC '${e}' ${c} completed.`)}}));const v=JSON.stringify(r);ge(tn,`RPC '${e}' ${c} sending request:`,r),p.send(t,"POST",v,s,15)}))}T_(e,t,s){const r=lm(),l=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=TE(),d=vE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(y.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,t,s),y.encodeInitMessageHeaders=!0;const v=l.join("");ge(tn,`Creating RPC '${e}' stream ${r}: ${v}`,y);const T=c.createWebChannel(v,y);this.I_(T);let S=!1,R=!1;const O=new kV({Yo:z=>{R?ge(tn,`Not sending because RPC '${e}' stream ${r} is closed:`,z):(S||(ge(tn,`Opening RPC '${e}' stream ${r} transport.`),T.open(),S=!0),ge(tn,`RPC '${e}' stream ${r} sending:`,z),T.send(z))},Zo:()=>T.close()}),H=(z,ee,re)=>{z.listen(ee,(W=>{try{re(W)}catch(ue){setTimeout((()=>{throw ue}),0)}}))};return H(T,Al.EventType.OPEN,(()=>{R||(ge(tn,`RPC '${e}' stream ${r} transport opened.`),O.o_())})),H(T,Al.EventType.CLOSE,(()=>{R||(R=!0,ge(tn,`RPC '${e}' stream ${r} transport closed`),O.a_(),this.E_(T))})),H(T,Al.EventType.ERROR,(z=>{R||(R=!0,Xr(tn,`RPC '${e}' stream ${r} transport errored. Name:`,z.name,"Message:",z.message),O.a_(new pe(te.UNAVAILABLE,"The operation could not be completed")))})),H(T,Al.EventType.MESSAGE,(z=>{var ee;if(!R){const re=z.data[0];je(!!re,16349);const W=re,ue=(W==null?void 0:W.error)||((ee=W[0])==null?void 0:ee.error);if(ue){ge(tn,`RPC '${e}' stream ${r} received error:`,ue);const he=ue.status;let j=(function(N){const P=Pt[N];if(P!==void 0)return eS(P)})(he),M=ue.message;j===void 0&&(j=te.INTERNAL,M="Unknown error status: "+he+" with message "+ue.message),R=!0,O.a_(new pe(j,M)),T.close()}else ge(tn,`RPC '${e}' stream ${r} received:`,re),O.u_(re)}})),H(d,_E.STAT_EVENT,(z=>{z.stat===$h.PROXY?ge(tn,`RPC '${e}' stream ${r} detected buffering proxy`):z.stat===$h.NOPROXY&&ge(tn,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{O.__()}),0),O}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function Ph(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pf(n){return new FP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t,s=1e3,r=1.5,l=6e4){this.Mi=e,this.timerId=t,this.d_=s,this.A_=r,this.R_=l,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-s);r>0&&ge("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT="PersistentStream";class pS{constructor(e,t,s,r,l,c,d,y){this.Mi=e,this.S_=s,this.b_=r,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new mS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===te.RESOURCE_EXHAUSTED?(ss(t.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===te.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,r])=>{this.D_===t&&this.G_(s,r)}),(s=>{e((()=>{const r=new pe(te.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(r)}))}))}G_(e,t){const s=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{s((()=>this.z_(r)))})),this.stream.onMessage((r=>{s((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ge(lT,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ge(lT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OV extends pS{constructor(e,t,s,r,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,r,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=YP(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Re.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?Re.min():c.readTime?Di(c.readTime):Re.min()})(e);return this.listener.H_(t,s)}Y_(e){const t={};t.database=rm(this.serializer),t.addTarget=(function(l,c){let d;const y=c.target;if(d=em(y)?{documents:QP(l,y)}:{query:$P(l,y).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=iS(l,c.resumeToken);const p=im(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(Re.min())>0){d.readTime=Xc(l,c.snapshotVersion.toTimestamp());const p=im(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const s=WP(this.serializer,e);s&&(t.labels=s),this.q_(t)}Z_(e){const t={};t.database=rm(this.serializer),t.removeTarget=e,this.q_(t)}}class BV extends pS{constructor(e,t,s,r,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,r,c),this.serializer=l}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return je(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,je(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){je(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=KP(e.writeResults,e.commitTime),s=Di(e.commitTime);return this.listener.na(s,t)}ra(){const e={};e.database=rm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>JP(this.serializer,s)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{}class FV extends zV{constructor(e,t,s,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,s,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Go(e,sm(t,s),r,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new pe(te.UNKNOWN,l.toString())}))}Ho(e,t,s,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Ho(e,sm(t,s),r,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===te.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new pe(te.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class HV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(t),this.aa=!1):ge("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oo="RemoteStore";class GV{constructor(e,t,s,r,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=l,this.Aa.Oo((c=>{s.enqueueAndForget((async()=>{Go(this)&&(ge(Oo,"Restarting streams for network reachability change."),await(async function(y){const p=Ne(y);p.Ea.add(4),await Jl(p),p.Ra.set("Unknown"),p.Ea.delete(4),await gf(p)})(this))}))})),this.Ra=new HV(s,r)}}async function gf(n){if(Go(n))for(const e of n.da)await e(!0)}async function Jl(n){for(const e of n.da)await e(!1)}function gS(n,e){const t=Ne(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Gm(t)?Hm(t):ca(t).O_()&&Fm(t,e))}function zm(n,e){const t=Ne(n),s=ca(t);t.Ia.delete(e),s.O_()&&yS(t,e),t.Ia.size===0&&(s.O_()?s.L_():Go(t)&&t.Ra.set("Unknown"))}function Fm(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ca(n).Y_(e)}function yS(n,e){n.Va.Ue(e),ca(n).Z_(e)}function Hm(n){n.Va=new qP({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),ca(n).start(),n.Ra.ua()}function Gm(n){return Go(n)&&!ca(n).x_()&&n.Ia.size>0}function Go(n){return Ne(n).Ea.size===0}function _S(n){n.Va=void 0}async function YV(n){n.Ra.set("Online")}async function JV(n){n.Ia.forEach(((e,t)=>{Fm(n,e)}))}async function KV(n,e){_S(n),Gm(n)?(n.Ra.ha(e),Hm(n)):n.Ra.set("Unknown")}async function QV(n,e,t){if(n.Ra.set("Online"),e instanceof nS&&e.state===2&&e.cause)try{await(async function(r,l){const c=l.cause;for(const d of l.targetIds)r.Ia.has(d)&&(await r.remoteSyncer.rejectListen(d,c),r.Ia.delete(d),r.Va.removeTarget(d))})(n,e)}catch(s){ge(Oo,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Zc(n,s)}else if(e instanceof Uc?n.Va.Ze(e):e instanceof tS?n.Va.st(e):n.Va.tt(e),!t.isEqual(Re.min()))try{const s=await hS(n.localStore);t.compareTo(s)>=0&&await(function(l,c){const d=l.Va.Tt(c);return d.targetChanges.forEach(((y,p)=>{if(y.resumeToken.approximateByteSize()>0){const v=l.Ia.get(p);v&&l.Ia.set(p,v.withResumeToken(y.resumeToken,c))}})),d.targetMismatches.forEach(((y,p)=>{const v=l.Ia.get(y);if(!v)return;l.Ia.set(y,v.withResumeToken(jt.EMPTY_BYTE_STRING,v.snapshotVersion)),yS(l,y);const T=new Ys(v.target,y,p,v.sequenceNumber);Fm(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(s){ge(Oo,"Failed to raise snapshot:",s),await Zc(n,s)}}async function Zc(n,e,t){if(!la(e))throw e;n.Ea.add(1),await Jl(n),n.Ra.set("Offline"),t||(t=()=>hS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ge(Oo,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await gf(n)}))}function vS(n,e){return e().catch((t=>Zc(n,t,e)))}async function yf(n){const e=Ne(n),t=eo(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xm;for(;$V(e);)try{const r=await bV(e.localStore,s);if(r===null){e.Ta.length===0&&t.L_();break}s=r.batchId,XV(e,r)}catch(r){await Zc(e,r)}TS(e)&&ES(e)}function $V(n){return Go(n)&&n.Ta.length<10}function XV(n,e){n.Ta.push(e);const t=eo(n);t.O_()&&t.X_&&t.ea(e.mutations)}function TS(n){return Go(n)&&!eo(n).x_()&&n.Ta.length>0}function ES(n){eo(n).start()}async function WV(n){eo(n).ra()}async function ZV(n){const e=eo(n);for(const t of n.Ta)e.ea(t.mutations)}async function jV(n,e,t){const s=n.Ta.shift(),r=Vm.from(s,e,t);await vS(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await yf(n)}async function e4(n,e){e&&eo(n).X_&&await(async function(s,r){if((function(c){return UP(c)&&c!==te.ABORTED})(r.code)){const l=s.Ta.shift();eo(s).B_(),await vS(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,r))),await yf(s)}})(n,e),TS(n)&&ES(n)}async function uT(n,e){const t=Ne(n);t.asyncQueue.verifyOperationInProgress(),ge(Oo,"RemoteStore received new credentials");const s=Go(t);t.Ea.add(3),await Jl(t),s&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await gf(t)}async function t4(n,e){const t=Ne(n);e?(t.Ea.delete(2),await gf(t)):e||(t.Ea.add(2),await Jl(t),t.Ra.set("Unknown"))}function ca(n){return n.ma||(n.ma=(function(t,s,r){const l=Ne(t);return l.sa(),new OV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,r)})(n.datastore,n.asyncQueue,{Xo:YV.bind(null,n),t_:JV.bind(null,n),r_:KV.bind(null,n),H_:QV.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Gm(n)?Hm(n):n.Ra.set("Unknown")):(await n.ma.stop(),_S(n))}))),n.ma}function eo(n){return n.fa||(n.fa=(function(t,s,r){const l=Ne(t);return l.sa(),new BV(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:WV.bind(null,n),r_:e4.bind(null,n),ta:ZV.bind(null,n),na:jV.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await yf(n)):(await n.fa.stop(),n.Ta.length>0&&(ge(Oo,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,t,s,r,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=r,this.removalCallback=l,this.deferred=new ts,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,r,l){const c=Date.now()+s,d=new Ym(e,t,c,r,l);return d.start(s),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(te.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jm(n,e){if(ss("AsyncQueue",`${e}: ${n}`),la(n))return new pe(te.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{static emptySet(e){return new Kr(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ae.comparator(t.key,s.key):(t,s)=>Ae.comparator(t.key,s.key),this.keyedMap=Cl(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Kr)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const r=t.getNext().key,l=s.getNext().key;if(!r.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Kr;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(){this.ga=new gt(Ae.comparator)}track(e){const t=e.doc.key,s=this.ga.get(t);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(t,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(t):e.type===1&&s.type===2?this.ga=this.ga.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ie(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,s)=>{e.push(s)})),e}}class ta{constructor(e,t,s,r,l,c,d,y,p){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=r,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=y,this.hasCachedResults=p}static fromInitialDocuments(e,t,s,r,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new ta(e,t,Kr.emptySet(t),c,s,r,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&cf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==s[r].type||!t[r].doc.isEqual(s[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class i4{constructor(){this.queries=fT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,s){const r=Ne(t),l=r.queries;r.queries=fT(),l.forEach(((c,d)=>{for(const y of d.Sa)y.onError(s)}))})(this,new pe(te.ABORTED,"Firestore shutting down"))}}function fT(){return new Fo((n=>FE(n)),cf)}async function SS(n,e){const t=Ne(n);let s=3;const r=e.query;let l=t.queries.get(r);l?!l.ba()&&e.Da()&&(s=2):(l=new n4,s=e.Da()?0:1);try{switch(s){case 0:l.wa=await t.onListen(r,!0);break;case 1:l.wa=await t.onListen(r,!1);break;case 2:await t.onFirstRemoteStoreListen(r)}}catch(c){const d=Jm(c,`Initialization of query '${qr(e.query)}' failed`);return void e.onError(d)}t.queries.set(r,l),l.Sa.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Km(t)}async function AS(n,e){const t=Ne(n),s=e.query;let r=3;const l=t.queries.get(s);if(l){const c=l.Sa.indexOf(e);c>=0&&(l.Sa.splice(c,1),l.Sa.length===0?r=e.Da()?0:1:!l.ba()&&e.Da()&&(r=2))}switch(r){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function s4(n,e){const t=Ne(n);let s=!1;for(const r of e){const l=r.query,c=t.queries.get(l);if(c){for(const d of c.Sa)d.Fa(r)&&(s=!0);c.wa=r}}s&&Km(t)}function o4(n,e,t){const s=Ne(n),r=s.queries.get(e);if(r)for(const l of r.Sa)l.onError(t);s.queries.delete(e)}function Km(n){n.Ca.forEach((e=>{e.next()}))}var um,dT;(dT=um||(um={})).Ma="default",dT.Cache="cache";class CS{constructor(e,t,s){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const r of e.docChanges)r.type!==3&&s.push(r);e=new ta(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const s=t!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=ta.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==um.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.key=e}}class xS{constructor(e){this.key=e}}class r4{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=ze(),this.mutatedKeys=ze(),this.eu=HE(e),this.tu=new Kr(this.eu)}get nu(){return this.Ya}ru(e,t){const s=t?t.iu:new cT,r=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=r,d=!1;const y=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,p=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((v,T)=>{const S=r.get(v),R=ff(this.query,T)?T:null,O=!!S&&this.mutatedKeys.has(S.key),H=!!R&&(R.hasLocalMutations||this.mutatedKeys.has(R.key)&&R.hasCommittedMutations);let z=!1;S&&R?S.data.isEqual(R.data)?O!==H&&(s.track({type:3,doc:R}),z=!0):this.su(S,R)||(s.track({type:2,doc:R}),z=!0,(y&&this.eu(R,y)>0||p&&this.eu(R,p)<0)&&(d=!0)):!S&&R?(s.track({type:0,doc:R}),z=!0):S&&!R&&(s.track({type:1,doc:S}),z=!0,(y||p)&&(d=!0)),z&&(R?(c=c.add(R),l=H?l.add(v):l.delete(v)):(c=c.delete(v),l=l.delete(v)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const v=this.query.limitType==="F"?c.last():c.first();c=c.delete(v.key),l=l.delete(v.key),s.track({type:1,doc:v})}return{tu:c,iu:s,Cs:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,r){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((v,T)=>(function(R,O){const H=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{Rt:z})}};return H(R)-H(O)})(v.type,T.type)||this.eu(v.doc,T.doc))),this.ou(s),r=r??!1;const d=t&&!r?this._u():[],y=this.Xa.size===0&&this.current&&!r?1:0,p=y!==this.Za;return this.Za=y,c.length!==0||p?{snapshot:new ta(this.query,e.tu,l,c,e.mutatedKeys,y===0,p,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new cT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=ze(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const t=[];return e.forEach((s=>{this.Xa.has(s)||t.push(new xS(s))})),this.Xa.forEach((s=>{e.has(s)||t.push(new IS(s))})),t}cu(e){this.Ya=e.Qs,this.Xa=ze();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return ta.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Qm="SyncEngine";class a4{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class l4{constructor(e){this.key=e,this.hu=!1}}class u4{constructor(e,t,s,r,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=r,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Fo((d=>FE(d)),cf),this.Iu=new Map,this.Eu=new Set,this.du=new gt(Ae.comparator),this.Au=new Map,this.Ru=new km,this.Vu={},this.mu=new Map,this.fu=ea.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function c4(n,e,t=!0){const s=DS(n);let r;const l=s.Tu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),r=l.view.lu()):r=await RS(s,e,t,!0),r}async function f4(n,e){const t=DS(n);await RS(t,e,!0,!1)}async function RS(n,e,t,s){const r=await MV(n.localStore,Mi(e)),l=r.targetId,c=n.sharedClientState.addLocalQueryTarget(l,t);let d;return s&&(d=await d4(n,e,l,c==="current",r.resumeToken)),n.isPrimaryClient&&t&&gS(n.remoteStore,r),d}async function d4(n,e,t,s,r){n.pu=(T,S,R)=>(async function(H,z,ee,re){let W=z.view.ru(ee);W.Cs&&(W=await sT(H.localStore,z.query,!1).then((({documents:M})=>z.view.ru(M,W))));const ue=re&&re.targetChanges.get(z.targetId),he=re&&re.targetMismatches.get(z.targetId)!=null,j=z.view.applyChanges(W,H.isPrimaryClient,ue,he);return mT(H,z.targetId,j.au),j.snapshot})(n,T,S,R);const l=await sT(n.localStore,e,!0),c=new r4(e,l.Qs),d=c.ru(l.documents),y=Yl.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",r),p=c.applyChanges(d,n.isPrimaryClient,y);mT(n,t,p.au);const v=new a4(e,t,c);return n.Tu.set(e,v),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function h4(n,e,t){const s=Ne(n),r=s.Tu.get(e),l=s.Iu.get(r.targetId);if(l.length>1)return s.Iu.set(r.targetId,l.filter((c=>!cf(c,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(r.targetId),s.sharedClientState.isActiveQueryTarget(r.targetId)||await am(s.localStore,r.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(r.targetId),t&&zm(s.remoteStore,r.targetId),cm(s,r.targetId)})).catch(aa)):(cm(s,r.targetId),await am(s.localStore,r.targetId,!0))}async function m4(n,e){const t=Ne(n),s=t.Tu.get(e),r=t.Iu.get(s.targetId);t.isPrimaryClient&&r.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),zm(t.remoteStore,s.targetId))}async function p4(n,e,t){const s=S4(n);try{const r=await(function(c,d){const y=Ne(c),p=ut.now(),v=d.reduce(((R,O)=>R.add(O.key)),ze());let T,S;return y.persistence.runTransaction("Locally write mutations","readwrite",(R=>{let O=rs(),H=ze();return y.Ns.getEntries(R,v).next((z=>{O=z,O.forEach(((ee,re)=>{re.isValidDocument()||(H=H.add(ee))}))})).next((()=>y.localDocuments.getOverlayedDocuments(R,O))).next((z=>{T=z;const ee=[];for(const re of d){const W=bP(re,T.get(re.key).overlayedDocument);W!=null&&ee.push(new Ho(re.key,W,VE(W.value.mapValue),oi.exists(!0)))}return y.mutationQueue.addMutationBatch(R,p,ee,d)})).next((z=>{S=z;const ee=z.applyToLocalDocumentSet(T,H);return y.documentOverlayCache.saveOverlays(R,z.batchId,ee)}))})).then((()=>({batchId:S.batchId,changes:YE(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(r.batchId),(function(c,d,y){let p=c.Vu[c.currentUser.toKey()];p||(p=new gt(Be)),p=p.insert(d,y),c.Vu[c.currentUser.toKey()]=p})(s,r.batchId,t),await Kl(s,r.changes),await yf(s.remoteStore)}catch(r){const l=Jm(r,"Failed to persist write");t.reject(l)}}async function wS(n,e){const t=Ne(n);try{const s=await wV(t.localStore,e);e.targetChanges.forEach(((r,l)=>{const c=t.Au.get(l);c&&(je(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?c.hu=!0:r.modifiedDocuments.size>0?je(c.hu,14607):r.removedDocuments.size>0&&(je(c.hu,42227),c.hu=!1))})),await Kl(t,s,e)}catch(s){await aa(s)}}function hT(n,e,t){const s=Ne(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const r=[];s.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&r.push(d.snapshot)})),(function(c,d){const y=Ne(c);y.onlineState=d;let p=!1;y.queries.forEach(((v,T)=>{for(const S of T.Sa)S.va(d)&&(p=!0)})),p&&Km(y)})(s.eventManager,e),r.length&&s.Pu.H_(r),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function g4(n,e,t){const s=Ne(n);s.sharedClientState.updateQueryState(e,"rejected",t);const r=s.Au.get(e),l=r&&r.key;if(l){let c=new gt(Ae.comparator);c=c.insert(l,sn.newNoDocument(l,Re.min()));const d=ze().add(l),y=new mf(Re.min(),new Map,new gt(Be),c,d);await wS(s,y),s.du=s.du.remove(l),s.Au.delete(e),$m(s)}else await am(s.localStore,e,!1).then((()=>cm(s,e,t))).catch(aa)}async function y4(n,e){const t=Ne(n),s=e.batch.batchId;try{const r=await RV(t.localStore,e);bS(t,s,null),NS(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Kl(t,r)}catch(r){await aa(r)}}async function _4(n,e,t){const s=Ne(n);try{const r=await(function(c,d){const y=Ne(c);return y.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let v;return y.mutationQueue.lookupMutationBatch(p,d).next((T=>(je(T!==null,37113),v=T.keys(),y.mutationQueue.removeMutationBatch(p,T)))).next((()=>y.mutationQueue.performConsistencyCheck(p))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(p,v,d))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v))).next((()=>y.localDocuments.getDocuments(p,v)))}))})(s.localStore,e);bS(s,e,t),NS(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Kl(s,r)}catch(r){await aa(r)}}function NS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function bS(n,e,t){const s=Ne(n);let r=s.Vu[s.currentUser.toKey()];if(r){const l=r.get(e);l&&(t?l.reject(t):l.resolve(),r=r.remove(e)),s.Vu[s.currentUser.toKey()]=r}}function cm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Iu.get(e))n.Tu.delete(s),t&&n.Pu.yu(s,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((s=>{n.Ru.containsKey(s)||MS(n,s)}))}function MS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(zm(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),$m(n))}function mT(n,e,t){for(const s of t)s instanceof IS?(n.Ru.addReference(s.key,e),v4(n,s)):s instanceof xS?(ge(Qm,"Document no longer in limbo: "+s.key),n.Ru.removeReference(s.key,e),n.Ru.containsKey(s.key)||MS(n,s.key)):Ie(19791,{wu:s})}function v4(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Eu.has(s)||(ge(Qm,"New document in limbo: "+t),n.Eu.add(s),$m(n))}function $m(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new Ae(lt.fromString(e)),s=n.fu.next();n.Au.set(s,new l4(t)),n.du=n.du.insert(t,s),gS(n.remoteStore,new Ys(Mi(Mm(t.path)),s,"TargetPurposeLimboResolution",af.ce))}}async function Kl(n,e,t){const s=Ne(n),r=[],l=[],c=[];s.Tu.isEmpty()||(s.Tu.forEach(((d,y)=>{c.push(s.pu(y,e,t).then((p=>{var v;if((p||t)&&s.isPrimaryClient){const T=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(y.targetId))==null?void 0:v.current;s.sharedClientState.updateQueryState(y.targetId,T?"current":"not-current")}if(p){r.push(p);const T=Om.As(y.targetId,p);l.push(T)}})))})),await Promise.all(c),s.Pu.H_(r),await(async function(y,p){const v=Ne(y);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>se.forEach(p,(S=>se.forEach(S.Es,(R=>v.persistence.referenceDelegate.addReference(T,S.targetId,R))).next((()=>se.forEach(S.ds,(R=>v.persistence.referenceDelegate.removeReference(T,S.targetId,R)))))))))}catch(T){if(!la(T))throw T;ge(Bm,"Failed to update sequence numbers: "+T)}for(const T of p){const S=T.targetId;if(!T.fromCache){const R=v.Ms.get(S),O=R.snapshotVersion,H=R.withLastLimboFreeSnapshotVersion(O);v.Ms=v.Ms.insert(S,H)}}})(s.localStore,l))}async function T4(n,e){const t=Ne(n);if(!t.currentUser.isEqual(e)){ge(Qm,"User change. New user:",e.toKey());const s=await dS(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((y=>{y.reject(new pe(te.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Kl(t,s.Ls)}}function E4(n,e){const t=Ne(n),s=t.Au.get(e);if(s&&s.hu)return ze().add(s.key);{let r=ze();const l=t.Iu.get(e);if(!l)return r;for(const c of l){const d=t.Tu.get(c);r=r.unionWith(d.view.nu)}return r}}function DS(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=wS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=E4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=g4.bind(null,e),e.Pu.H_=s4.bind(null,e.eventManager),e.Pu.yu=o4.bind(null,e.eventManager),e}function S4(n){const e=Ne(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=y4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=_4.bind(null,e),e}class jc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return xV(this.persistence,new AV,e.initialUser,this.serializer)}Cu(e){return new fS(qm.mi,this.serializer)}Du(e){return new PV}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jc.provider={build:()=>new jc};class A4 extends jc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){je(this.persistence.referenceDelegate instanceof Wc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new lV(s,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new fS((s=>Wc.mi(s,t)),this.serializer)}}class fm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>hT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=T4.bind(null,this.syncEngine),await t4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new i4})()}createDatastore(e){const t=pf(e.databaseInfo.databaseId),s=(function(l){return new qV(l)})(e.databaseInfo);return(function(l,c,d,y){return new FV(l,c,d,y)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,r,l,c,d){return new GV(s,r,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>hT(this.syncEngine,t,0)),(function(){return aT.v()?new aT:new VV})())}createSyncEngine(e,t){return(function(r,l,c,d,y,p,v){const T=new u4(r,l,c,d,y,p);return v&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(r){const l=Ne(r);ge(Oo,"RemoteStore shutting down."),l.Ea.add(5),await Jl(l),l.Aa.shutdown(),l.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}fm.provider={build:()=>new fm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ss("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to="FirestoreClient";class C4{constructor(e,t,s,r,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=r,this.user=nn.UNAUTHENTICATED,this.clientId=Im.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async c=>{ge(to,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(s,(c=>(ge(to,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ts;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=Jm(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Vh(n,e){n.asyncQueue.verifyOperationInProgress(),ge(to,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async r=>{s.isEqual(r)||(await dS(e.localStore,r),s=r)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function pT(n,e){n.asyncQueue.verifyOperationInProgress();const t=await I4(n);ge(to,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>uT(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,r)=>uT(e.remoteStore,r))),n._onlineComponents=e}async function I4(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge(to,"Using user provided OfflineComponentProvider");try{await Vh(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(r){return r.name==="FirebaseError"?r.code===te.FAILED_PRECONDITION||r.code===te.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(t))throw t;Xr("Error using user provided cache. Falling back to memory cache: "+t),await Vh(n,new jc)}}else ge(to,"Using default OfflineComponentProvider"),await Vh(n,new A4(void 0));return n._offlineComponents}async function VS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge(to,"Using user provided OnlineComponentProvider"),await pT(n,n._uninitializedComponentsProvider._online)):(ge(to,"Using default OnlineComponentProvider"),await pT(n,new fm))),n._onlineComponents}function x4(n){return VS(n).then((e=>e.syncEngine))}async function US(n){const e=await VS(n),t=e.eventManager;return t.onListen=c4.bind(null,e.syncEngine),t.onUnlisten=h4.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=f4.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=m4.bind(null,e.syncEngine),t}function R4(n,e,t={}){const s=new ts;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,y,p){const v=new PS({next:S=>{v.Nu(),c.enqueueAndForget((()=>AS(l,T)));const R=S.docs.has(d);!R&&S.fromCache?p.reject(new pe(te.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&S.fromCache&&y&&y.source==="server"?p.reject(new pe(te.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(S)},error:S=>p.reject(S)}),T=new CS(Mm(d.path),v,{includeMetadataChanges:!0,qa:!0});return SS(l,T)})(await US(n),n.asyncQueue,e,t,s))),s.promise}function w4(n,e,t={}){const s=new ts;return n.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,y,p){const v=new PS({next:S=>{v.Nu(),c.enqueueAndForget((()=>AS(l,T))),S.fromCache&&y.source==="server"?p.reject(new pe(te.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(S)},error:S=>p.reject(S)}),T=new CS(d,v,{includeMetadataChanges:!0,qa:!0});return SS(l,T)})(await US(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kS="firestore.googleapis.com",yT=!0;class _T{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(te.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kS,this.ssl=yT}else this.host=e.host,this.ssl=e.ssl??yT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=cS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<rV)throw new pe(te.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}HD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=LS(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new pe(te.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,r){return s.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _f{constructor(e,t,s,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new _T({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(te.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(te.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new _T(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new PD;switch(s.type){case"firstParty":return new kD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(te.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=gT.get(t);s&&(ge("ComponentProvider","Removing Datastore"),gT.delete(t),s.terminate())})(this),Promise.resolve()}}function N4(n,e,t,s={}){var p;n=os(n,_f);const r=Sm(e),l=n._getSettings(),c={...l,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;r&&(r2(`https://${d}`),c2("Firestore",!0)),l.host!==kS&&l.host!==d&&Xr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...l,host:d,ssl:r,emulatorOptions:s};if(!Fc(y,c)&&(n._setSettings(y),s.mockUserToken)){let v,T;if(typeof s.mockUserToken=="string")v=s.mockUserToken,T=nn.MOCK_USER;else{v=a2(s.mockUserToken,(p=n._app)==null?void 0:p.options.projectId);const S=s.mockUserToken.sub||s.mockUserToken.user_id;if(!S)throw new pe(te.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new nn(S)}n._authCredentials=new VD(new SE(v,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Yo(this.firestore,e,this._query)}}class Lt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $s(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Lt(this.firestore,e,this._key)}toJSON(){return{type:Lt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(Hl(t,Lt._jsonSchema))return new Lt(e,s||null,new Ae(lt.fromString(t.referencePath)))}}Lt._jsonSchemaVersion="firestore/documentReference/1.0",Lt._jsonSchema={type:Ut("string",Lt._jsonSchemaVersion),referencePath:Ut("string")};class $s extends Yo{constructor(e,t,s){super(e,t,Mm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Lt(this.firestore,null,new Ae(e))}withConverter(e){return new $s(this.firestore,e,this._path)}}function Jo(n,e,...t){if(n=$r(n),AE("collection","path",e),n instanceof _f){const s=lt.fromString(e,...t);return M0(s),new $s(n,null,s)}{if(!(n instanceof Lt||n instanceof $s))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(lt.fromString(e,...t));return M0(s),new $s(n.firestore,null,s)}}function fa(n,e,...t){if(n=$r(n),arguments.length===1&&(e=Im.newId()),AE("doc","path",e),n instanceof _f){const s=lt.fromString(e,...t);return b0(s),new Lt(n,null,new Ae(s))}{if(!(n instanceof Lt||n instanceof $s))throw new pe(te.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(lt.fromString(e,...t));return b0(s),new Lt(n.firestore,n instanceof $s?n.converter:null,new Ae(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vT="AsyncQueue";class TT{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new mS(this,"async_queue_retry"),this._c=()=>{const s=Ph();s&&ge(vT,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const t=Ph();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ph();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new ts;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!la(e))throw e;ge(vT,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",ET(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=t,t}enqueueAfterDelay(e,t,s){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const r=Ym.createAndSchedule(this,e,t,s,(l=>this.hc(l)));return this.tc.push(r),r}uc(){this.nc&&Ie(47125,{Pc:ET(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function ET(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class da extends _f{constructor(e,t,s,r){super(e,t,s,r),this.type="firestore",this._queue=new TT,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TT(e),this._firestoreClient=void 0,await e}}}function b4(n,e){const t=typeof n=="object"?n:TD(),s=typeof n=="string"?n:Jc,r=pD(t,"firestore").getImmediate({identifier:s});if(!r._initialized){const l=s2("firestore");l&&N4(r,...l)}return r}function Xm(n){if(n._terminated)throw new pe(te.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||M4(n),n._firestoreClient}function M4(n){var s,r,l;const e=n._freezeSettings(),t=(function(d,y,p,v){return new eP(d,y,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,LS(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)})(n._databaseId,((s=n._app)==null?void 0:s.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(r=e.localCache)!=null&&r._offlineComponentProvider&&((l=e.localCache)!=null&&l._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new C4(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(d){const y=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(y),_online:y}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zn(jt.fromBase64String(e))}catch(t){throw new pe(te.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new zn(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Hl(e,zn._jsonSchema))return zn.fromBase64String(e.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ut("string",zn._jsonSchemaVersion),bytes:Ut("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(te.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(te.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(te.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Be(this._lat,e._lat)||Be(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Pi._jsonSchemaVersion}}static fromJSON(e){if(Hl(e,Pi._jsonSchema))return new Pi(e.latitude,e.longitude)}}Pi._jsonSchemaVersion="firestore/geoPoint/1.0",Pi._jsonSchema={type:Ut("string",Pi._jsonSchemaVersion),latitude:Ut("number"),longitude:Ut("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,r){if(s.length!==r.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==r[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Vi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Hl(e,Vi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Vi(e.vectorValues);throw new pe(te.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Vi._jsonSchemaVersion="firestore/vectorValue/1.0",Vi._jsonSchema={type:Ut("string",Vi._jsonSchemaVersion),vectorValues:Ut("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=/^__.*__$/;class P4{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Ho(e,this.data,this.fieldMask,t,this.fieldTransforms):new Gl(e,this.data,t,this.fieldTransforms)}}function qS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ac:n})}}class jm{constructor(e,t,s,r,l,c){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=r,l===void 0&&this.Rc(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new jm({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:t,fc:!1});return s.gc(e),s}yc(e){var r;const t=(r=this.path)==null?void 0:r.child(e),s=this.Vc({path:t,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ef(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(qS(this.Ac)&&D4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class V4{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||pf(e)}Cc(e,t,s,r=!1){return new jm({Ac:e,methodName:t,Dc:s,path:Zt.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ep(n){const e=n._freezeSettings(),t=pf(n._databaseId);return new V4(n._databaseId,!!e.ignoreUndefinedProperties,t)}function OS(n,e,t,s,r,l={}){const c=n.Cc(l.merge||l.mergeFields?2:0,e,t,r);FS("Data must be an object, but it was:",c,s);const d=BS(s,c);let y,p;if(l.merge)y=new si(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const v=[];for(const T of l.mergeFields){const S=L4(e,T,t);if(!c.contains(S))throw new pe(te.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);q4(v,S)||v.push(S)}y=new si(v),p=c.fieldTransforms.filter((T=>y.covers(T.field)))}else y=null,p=c.fieldTransforms;return new P4(new Bn(d),y,p)}class tp extends Zm{_toFieldTransform(e){return new xP(e.path,new Bl)}isEqual(e){return e instanceof tp}}function U4(n,e,t,s=!1){return np(t,n.Cc(s?4:3,e))}function np(n,e){if(zS(n=$r(n)))return FS("Unsupported field value:",e,n),BS(n,e);if(n instanceof Zm)return(function(s,r){if(!qS(r.Ac))throw r.Sc(`${s._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(r);l&&r.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,r){const l=[];let c=0;for(const d of s){let y=np(d,r.wc(c));y==null&&(y={nullValue:"NULL_VALUE"}),l.push(y),c++}return{arrayValue:{values:l}}})(n,e)}return(function(s,r){if((s=$r(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return AP(r.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=ut.fromDate(s);return{timestampValue:Xc(r.serializer,l)}}if(s instanceof ut){const l=new ut(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Xc(r.serializer,l)}}if(s instanceof Pi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof zn)return{bytesValue:iS(r.serializer,s._byteString)};if(s instanceof Lt){const l=r.databaseId,c=s.firestore._databaseId;if(!c.isEqual(l))throw r.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Lm(s.firestore._databaseId||r.databaseId,s._key.path)}}if(s instanceof Vi)return(function(c,d){return{mapValue:{fields:{[DE]:{stringValue:PE},[Kc]:{arrayValue:{values:c.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return Dm(d.serializer,p)}))}}}}}})(s,r);throw r.Sc(`Unsupported field value: ${rf(s)}`)})(n,e)}function BS(n,e){const t={};return xE(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):zo(n,((s,r)=>{const l=np(r,e.mc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function zS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ut||n instanceof Pi||n instanceof zn||n instanceof Lt||n instanceof Zm||n instanceof Vi)}function FS(n,e,t){if(!zS(t)||!CE(t)){const s=rf(t);throw s==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+s)}}function L4(n,e,t){if((e=$r(e))instanceof Wm)return e._internalPath;if(typeof e=="string")return HS(n,e);throw ef("Field path arguments must be of type string or ",n,!1,void 0,t)}const k4=new RegExp("[~\\*/\\[\\]]");function HS(n,e,t){if(e.search(k4)>=0)throw ef(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Wm(...e.split("."))._internalPath}catch{throw ef(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function ef(n,e,t,s,r){const l=s&&!s.isEmpty(),c=r!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let y="";return(l||c)&&(y+=" (found",l&&(y+=` in field ${s}`),c&&(y+=` in document ${r}`),y+=")"),new pe(te.INVALID_ARGUMENT,d+n+y)}function q4(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,t,s,r,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=r,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Lt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new O4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class O4 extends GS{data(){return super.data()}}function vf(n,e){return typeof e=="string"?HS(n,e):e instanceof Wm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B4(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(te.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ip{}class YS extends ip{}function sp(n,e,...t){let s=[];e instanceof ip&&s.push(e),s=s.concat(t),(function(l){const c=l.filter((y=>y instanceof rp)).length,d=l.filter((y=>y instanceof Tf)).length;if(c>1||c>0&&d>0)throw new pe(te.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const r of s)n=r._apply(n);return n}class Tf extends YS{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new Tf(e,t,s)}_apply(e){const t=this._parse(e);return JS(e._query,t),new Yo(e.firestore,e.converter,tm(e._query,t))}_parse(e){const t=ep(e.firestore);return(function(l,c,d,y,p,v,T){let S;if(p.isKeyField()){if(v==="array-contains"||v==="array-contains-any")throw new pe(te.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if(v==="in"||v==="not-in"){AT(T,v);const O=[];for(const H of T)O.push(ST(y,l,H));S={arrayValue:{values:O}}}else S=ST(y,l,T)}else v!=="in"&&v!=="not-in"&&v!=="array-contains-any"||AT(T,v),S=U4(d,c,T,v==="in"||v==="not-in");return Vt.create(p,v,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function op(n,e,t){const s=e,r=vf("where",n);return Tf._create(r,s,t)}class rp extends ip{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new rp(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:ri.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(r,l){let c=r;const d=l.getFlattenedFilters();for(const y of d)JS(c,y),c=tm(c,y)})(e._query,t),new Yo(e.firestore,e.converter,tm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ap extends YS{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ap(e,t)}_apply(e){const t=(function(r,l,c){if(r.startAt!==null)throw new pe(te.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new pe(te.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Ol(l,c)})(e._query,this._field,this._direction);return new Yo(e.firestore,e.converter,(function(r,l){const c=r.explicitOrderBy.concat([l]);return new ua(r.path,r.collectionGroup,c,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(e._query,t))}}function z4(n,e="asc"){const t=e,s=vf("orderBy",n);return ap._create(s,t)}function ST(n,e,t){if(typeof(t=$r(t))=="string"){if(t==="")throw new pe(te.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zE(e)&&t.indexOf("/")!==-1)throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(lt.fromString(t));if(!Ae.isDocumentKey(s))throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return O0(n,new Ae(s))}if(t instanceof Lt)return O0(n,t._key);throw new pe(te.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${rf(t)}.`)}function AT(n,e){if(!Array.isArray(n)||n.length===0)throw new pe(te.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JS(n,e){const t=(function(r,l){for(const c of r)for(const d of c.getFlattenedFilters())if(l.indexOf(d.op)>=0)return d.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new pe(te.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class F4{convertValue(e,t="none"){switch(js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return At(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return zo(e,((r,l)=>{s[r]=this.convertValue(l,t)})),s}convertVectorValue(e){var s,r,l;const t=(l=(r=(s=e.fields)==null?void 0:s[Kc].arrayValue)==null?void 0:r.values)==null?void 0:l.map((c=>At(c.doubleValue)));return new Vi(t)}convertGeoPoint(e){return new Pi(At(e.latitude),At(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=uf(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(Ll(e));default:return null}}convertTimestamp(e){const t=Ws(e);return new ut(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=lt.fromString(e);je(uS(s),9688,{name:e});const r=new kl(s.get(1),s.get(3)),l=new Ae(s.popFirst(5));return r.isEqual(t)||ss(`Document ${l} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class xl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ko extends GS{constructor(e,t,s,r,l,c){super(e,t,s,r,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(vf("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ko._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ko._jsonSchemaVersion="firestore/documentSnapshot/1.0",ko._jsonSchema={type:Ut("string",ko._jsonSchemaVersion),bundleSource:Ut("string","DocumentSnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class Lc extends ko{data(e={}){return super.data(e)}}class Qr{constructor(e,t,s,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new xl(r.hasPendingWrites,r.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new Lc(this._firestore,this._userDataWriter,s.key,s,new xl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(te.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(r,l){if(r._snapshot.oldDocs.isEmpty()){let c=0;return r._snapshot.docChanges.map((d=>{const y=new Lc(r._firestore,r._userDataWriter,d.doc.key,d.doc,new xl(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);return d.doc,{type:"added",doc:y,oldIndex:-1,newIndex:c++}}))}{let c=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const y=new Lc(r._firestore,r._userDataWriter,d.doc.key,d.doc,new xl(r._snapshot.mutatedKeys.has(d.doc.key),r._snapshot.fromCache),r.query.converter);let p=-1,v=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),v=c.indexOf(d.doc.key)),{type:H4(d.type),doc:y,oldIndex:p,newIndex:v}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(te.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Qr._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Im.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],r=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),r.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function H4(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QS(n){n=os(n,Lt);const e=os(n.firestore,da);return R4(Xm(e),n._key).then((t=>G4(e,n,t)))}Qr._jsonSchemaVersion="firestore/querySnapshot/1.0",Qr._jsonSchema={type:Ut("string",Qr._jsonSchemaVersion),bundleSource:Ut("string","QuerySnapshot"),bundleName:Ut("string"),bundle:Ut("string")};class $S extends F4{constructor(e){super(),this.firestore=e}convertBytes(e){return new zn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Lt(this.firestore,null,t)}}function ha(n){n=os(n,Yo);const e=os(n.firestore,da),t=Xm(e),s=new $S(e);return B4(n._query),w4(t,n._query).then((r=>new Qr(e,s,n,r)))}function lp(n,e,t){n=os(n,Lt);const s=os(n.firestore,da),r=KS(n.converter,e);return up(s,[OS(ep(s),"setDoc",n._key,r,n.converter!==null,t).toMutation(n._key,oi.none())])}function XS(n){return up(os(n.firestore,da),[new Pm(n._key,oi.none())])}function WS(n,e){const t=os(n.firestore,da),s=fa(n),r=KS(n.converter,e);return up(t,[OS(ep(n.firestore),"addDoc",s._key,r,n.converter!==null,{}).toMutation(s._key,oi.exists(!1))]).then((()=>s))}function up(n,e){return(function(s,r){const l=new ts;return s.asyncQueue.enqueueAndForget((async()=>p4(await x4(s),r,l))),l.promise})(Xm(n),e)}function G4(n,e,t){const s=t.docs.get(e._key),r=new $S(n);return new ko(n,r,e._key,s,new xl(t.hasPendingWrites,t.fromCache),e.converter)}function Ql(){return new tp("serverTimestamp")}(function(e,t=!0){(function(r){ra=r})(vD),Gc(new Pl("firestore",((s,{instanceIdentifier:r,options:l})=>{const c=s.getProvider("app").getImmediate(),d=new da(new UD(s.getProvider("auth-internal")),new qD(c,s.getProvider("app-check-internal")),(function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(te.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(p.options.projectId,v)})(c,r),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),Jr(x0,R0,e),Jr(x0,R0,"esm2020")})();const Y4={apiKey:"AIzaSyBUQ8ffhmUa22o0Udzx86PCh9K2-OwI7nQ",authDomain:"roshines-b2d35.firebaseapp.com",projectId:"roshines-b2d35",storageBucket:"roshines-b2d35.firebasestorage.app",messagingSenderId:"435883929042",appId:"1:435883929042:web:7bce7bbdb807681bd46c0b"},J4=dE(Y4),Hn=b4(J4),Gn={SUBSCRIBERS:"subscribers",COMMENTS:"comments",LIKES:"likes",POSTS:"posts"},K4=async n=>{try{const e=Jo(Hn,Gn.SUBSCRIBERS),t=sp(e,op("email","==",n));(await ha(t)).empty&&await WS(e,{email:n,subscribedAt:Ql()})}catch(e){throw console.error("Error subscribing user:",e),e}},CT=async()=>{try{const n=Jo(Hn,Gn.SUBSCRIBERS);return(await ha(n)).size}catch(n){return console.error("Error getting subscribers count:",n),0}},Q4=async()=>{try{const n=Jo(Hn,Gn.SUBSCRIBERS);return(await ha(n)).docs.map(t=>t.data().email)}catch(n){return console.error("Error getting subscribers:",n),[]}},$4=async n=>{try{const e=Jo(Hn,Gn.COMMENTS),t=sp(e,op("postId","==",n),z4("createdAt","desc"));return(await ha(t)).docs.map(r=>{const l=r.data();return{id:r.id,postId:l.postId,userId:l.userId,userName:l.userName,userAvatar:l.userAvatar,content:l.content,createdAt:l.createdAt instanceof ut?l.createdAt.toDate().toISOString():l.createdAt}})}catch(e){return console.error("Error getting comments:",e),[]}},X4=async(n,e,t)=>{try{const s=Jo(Hn,Gn.COMMENTS),r={postId:n,userId:e.id,userName:e.name,userAvatar:e.avatar||null,content:t,createdAt:Ql()};return{id:(await WS(s,r)).id,postId:n,userId:e.id,userName:e.name,userAvatar:e.avatar,content:t,createdAt:new Date().toISOString()}}catch(s){throw console.error("Error adding comment:",s),s}},W4=async(n,e)=>{try{const t=`${n}_${e}`,s=fa(Hn,Gn.LIKES,t),r=await QS(s);let l=!1;r.exists()?(await XS(s),l=!1):(await lp(s,{postId:n,userId:e,likedAt:Ql()}),l=!0);const c=await ZS(n);return{liked:l,count:c}}catch(t){throw console.error("Error toggling like:",t),t}},ZS=async n=>{try{const e=Jo(Hn,Gn.LIKES),t=sp(e,op("postId","==",n));return(await ha(t)).size}catch(e){return console.error("Error getting like count:",e),0}},Z4=async(n,e)=>{try{const t=await ZS(n);if(!e)return{liked:!1,count:t};const s=`${n}_${e}`,r=fa(Hn,Gn.LIKES,s);return{liked:(await QS(r)).exists(),count:t}}catch(t){return console.error("Error getting like status:",t),{liked:!1,count:0}}},j4=async n=>{try{for(const e of n){const t=fa(Hn,Gn.POSTS,e.id);await lp(t,{...e,updatedAt:Ql()})}}catch(e){throw console.error("Error saving posts:",e),e}},eU=async()=>{try{const n=Jo(Hn,Gn.POSTS),e=await ha(n);return e.empty?null:e.docs.map(t=>{const s=t.data();return{id:t.id,title:s.title,excerpt:s.excerpt,coverImage:s.coverImage,category:s.category,tags:s.tags||[],blocks:s.blocks||[],author:s.author,publishedAt:s.publishedAt,scheduledAt:s.scheduledAt,status:s.status,views:s.views||0,likesCount:s.likesCount||0}})}catch(n){return console.error("Error getting posts:",n),null}},IT=async n=>{try{const e=fa(Hn,Gn.POSTS,n.id);await lp(e,{...n,updatedAt:Ql()})}catch(e){throw console.error("Error saving post:",e),e}},tU=async n=>{try{const e=fa(Hn,Gn.POSTS,n);await XS(e)}catch(e){throw console.error("Error deleting post:",e),e}};class Ef{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const nU=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},zr={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:nU()},iU=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},sU=async(n,e,t={})=>{const s=await fetch(zr.origin+n,{method:"POST",headers:t,body:e}),r=await s.text(),l=new Ef(s.status,r);if(s.ok)return l;throw l},oU=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},rU=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},aU=n=>n.webdriver||!n.languages||n.languages.length===0,lU=()=>new Ef(451,"Unavailable For Headless Browser"),uU=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},cU=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},fU=(n,e)=>n instanceof FormData?n.get(e):n[e],dU=(n,e)=>{if(cU(n))return!1;uU(n.list,n.watchVariable);const t=fU(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},hU=()=>new Ef(403,"Forbidden"),mU=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},pU=async(n,e,t)=>{const s=Number(await t.get(n)||0);return e-Date.now()+s},gU=async(n,e,t)=>{if(!e.throttle||!t)return!1;mU(e.throttle,e.id);const s=e.id||n;return await pU(s,e.throttle,t)>0?!0:(await t.set(s,Date.now().toString()),!1)},yU=()=>new Ef(429,"Too Many Requests"),_U=async(n,e,t,s)=>{const r=iU(s),l=r.publicKey||zr.publicKey,c=r.blockHeadless||zr.blockHeadless,d=r.storageProvider||zr.storageProvider,y={...zr.blockList,...r.blockList},p={...zr.limitRate,...r.limitRate};return c&&aU(navigator)?Promise.reject(lU()):(oU(l,n,e),rU(t),t&&dU(y,t)?Promise.reject(hU()):await gU(location.pathname,p,d)?Promise.reject(yU()):sU("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:l,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},vU={[On.Food]:{color:"bg-emerald-100 text-emerald-800",icon:me.Coffee},[On.Travel]:{color:"bg-sky-100 text-sky-800",icon:me.Plane},[On.Fashion]:{color:"bg-rose-100 text-rose-800",icon:me.Camera},[On.Technology]:{color:"bg-indigo-100 text-indigo-800",icon:me.Smartphone},[On.Lifestyle]:{color:"bg-orange-100 text-indigo-800",icon:me.Globe},[On.Journal]:{color:"bg-stone-200 text-stone-800",icon:me.FileText}},jS="https://images.unsplash.com/photo-1493770348161-369560ae357d?auto=format&fit=crop&q=80&w=1920",TU="/Roshines/profile.jpeg",EU="/Roshines/signature.png",El=[{id:"1",title:"The Art of Slow Living in Kyoto",excerpt:"Discovering peace in the ancient capital through tea ceremonies and hidden gardens.",coverImage:"https://images.unsplash.com/photo-1493976040374-85c8e12f0c0e?auto=format&fit=crop&q=80&w=800",category:On.Travel,tags:["Japan","Mindfulness","Travel"],author:"Roshni",publishedAt:new Date().toISOString(),status:"published",views:1240,blocks:[{id:"b1",type:Je.Heading1,content:"Arrival in Arashiyama",width:100},{id:"b2",type:Je.Paragraph,content:"The morning mist clung to the mountains as we stepped off the train. Kyoto feels differenttime moves slower here.",width:100},{id:"b3",type:Je.Image,content:"",src:"https://images.unsplash.com/photo-1624253321171-1be53e12f5f4?auto=format&fit=crop&q=80&w=800",width:100},{id:"b4",type:Je.Quote,content:"Beauty lies in the spaces between things.",width:100}]},{id:"2",title:"Minimalist Wardrobe Essentials",excerpt:"Building a capsule wardrobe that lasts a lifetime with just 20 items.",coverImage:"https://images.unsplash.com/photo-1483985988355-763728e1935b?auto=format&fit=crop&q=80&w=800",category:On.Fashion,tags:["Style","Sustainable","Minimalism"],author:"Roshni",publishedAt:new Date(Date.now()-864e5).toISOString(),status:"published",views:850,blocks:[{id:"b1",type:Je.Paragraph,content:"Fast fashion is out. Timeless pieces are in.",width:100}]}],SU=({message:n,onClose:e})=>(ve.useEffect(()=>{if(n){const t=setTimeout(e,4e3);return()=>clearTimeout(t)}},[n,e]),n?C.jsxs("div",{className:"fixed bottom-6 right-6 z-[100] bg-stone-900 text-white px-6 py-4 rounded-xl shadow-2xl flex items-center gap-3 animate-slide-up",children:[C.jsx("div",{className:"w-8 h-8 rounded-full bg-emerald-500 flex items-center justify-center text-stone-900",children:C.jsx(me.Check,{size:16})}),C.jsx("p",{className:"font-medium text-sm",children:n}),C.jsx("button",{onClick:e,className:"ml-2 text-stone-500 hover:text-white",children:C.jsx(me.X,{size:14})})]}):null),AU=({view:n,setView:e,searchQuery:t,setSearchQuery:s,onOpenNewsletter:r,user:l,onLogout:c})=>{const[d,y]=ve.useState(!1);return C.jsxs("header",{className:"sticky top-0 z-40 bg-white/80 backdrop-blur border-b border-stone-100 transition-all duration-300",children:[C.jsxs("div",{className:"max-w-7xl mx-auto px-6 h-20 flex items-center justify-between",children:[C.jsxs("div",{className:"flex items-center gap-8",children:[C.jsx("button",{onClick:()=>e({type:"home"}),className:"text-2xl font-serif font-bold tracking-tighter hover:opacity-70 transition-opacity",children:"Ro-shines"}),C.jsxs("nav",{className:"hidden md:flex items-center gap-6 text-sm font-medium text-stone-500",children:[C.jsx("button",{onClick:()=>e({type:"home"}),className:`hover:text-stone-900 transition-colors ${n.type==="home"?"text-stone-900":""}`,children:"Stories"}),C.jsx("button",{onClick:()=>e({type:"about"}),className:`hover:text-stone-900 transition-colors ${n.type==="about"?"text-stone-900":""}`,children:"About"}),(l==null?void 0:l.isAdmin)&&C.jsx("button",{onClick:()=>e({type:"admin-dashboard"}),className:`hover:text-stone-900 transition-colors ${n.type.startsWith("admin")?"text-stone-900":""}`,children:"Dashboard"})]})]}),C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsxs("div",{className:"relative hidden md:block group",children:[C.jsx(me.Search,{className:"absolute left-3 top-2.5 text-stone-400 group-focus-within:text-stone-600 transition-colors",size:16}),C.jsx("input",{type:"text",placeholder:"Search stories...",value:t,onChange:p=>s(p.target.value),className:"pl-9 pr-4 py-2 bg-stone-100/50 hover:bg-stone-100 focus:bg-white border border-transparent focus:border-stone-200 rounded-full text-sm outline-none transition-all w-48 focus:w-64"})]}),l?C.jsxs("div",{className:"flex items-center gap-3 pl-4 border-l border-stone-200",children:[C.jsx("span",{className:"text-sm font-medium hidden md:block",children:l.name}),C.jsx("button",{onClick:c,className:"text-xs text-stone-500 hover:text-red-600 underline",children:"Logout"})]}):C.jsx("button",{onClick:()=>e({type:"login"}),className:"text-sm font-bold hover:text-stone-600 px-3 py-2",children:"Login"}),C.jsx("button",{onClick:r,className:"bg-stone-900 text-white px-5 py-2 rounded-full text-sm font-bold hover:bg-stone-700 transition-colors shadow-lg hover:shadow-xl hidden md:block",children:"Subscribe"}),C.jsx("button",{className:"md:hidden p-2",onClick:()=>y(!d),children:d?C.jsx(me.X,{}):C.jsx(me.Menu,{})})]})]}),d&&C.jsxs("div",{className:"md:hidden absolute top-full left-0 right-0 bg-white border-b border-stone-100 p-6 flex flex-col gap-4 shadow-xl animate-fade-in",children:[C.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:p=>s(p.target.value),className:"w-full p-3 bg-stone-50 rounded-xl text-sm mb-2"}),C.jsx("button",{onClick:()=>{e({type:"home"}),y(!1)},className:"text-left font-serif text-xl",children:"Stories"}),C.jsx("button",{onClick:()=>{e({type:"about"}),y(!1)},className:"text-left font-serif text-xl",children:"About"}),(l==null?void 0:l.isAdmin)&&C.jsx("button",{onClick:()=>{e({type:"admin-dashboard"}),y(!1)},className:"text-left font-serif text-xl",children:"Dashboard"}),C.jsx("hr",{className:"border-stone-100"}),C.jsx("button",{onClick:r,className:"w-full bg-stone-900 text-white py-3 rounded-xl font-bold",children:"Subscribe"})]})]})},CU=({onOpenNewsletter:n,onNavigate:e})=>C.jsx("footer",{className:"bg-stone-900 text-stone-400 py-16",children:C.jsxs("div",{className:"max-w-7xl mx-auto px-6 grid md:grid-cols-4 gap-12",children:[C.jsxs("div",{className:"col-span-1 md:col-span-2",children:[C.jsx("h3",{className:"text-2xl font-serif text-white mb-6",children:"Ro-shines"}),C.jsx("p",{className:"max-w-xs mb-8 leading-relaxed",children:"A digital sanctuary for thoughtful living, design, and culture. Crafted with intention."}),C.jsx("p",{className:"text-xs",children:" 2026 Ro-shines. All rights reserved."})]}),C.jsxs("div",{children:[C.jsx("h4",{className:"text-white font-bold mb-6 uppercase tracking-wider text-xs",children:"Explore"}),C.jsxs("ul",{className:"space-y-4 text-sm",children:[C.jsx("li",{children:C.jsx("button",{onClick:()=>e({type:"home"}),className:"hover:text-white cursor-pointer transition-colors text-left",children:"Home"})}),C.jsx("li",{children:C.jsx("button",{onClick:()=>e({type:"about"}),className:"hover:text-white cursor-pointer transition-colors text-left",children:"About"})})]})]}),C.jsxs("div",{children:[C.jsx("h4",{className:"text-white font-bold mb-6 uppercase tracking-wider text-xs",children:"Newsletter"}),C.jsx("p",{className:"text-sm mb-4",children:"Get the latest stories delivered to your inbox."}),C.jsx("button",{onClick:n,className:"text-white underline hover:text-stone-200",children:"Subscribe Now"})]})]})}),IU=({isOpen:n,onClose:e,onSubscribe:t})=>{const[s,r]=ve.useState(""),[l,c]=ve.useState("idle"),d=ve.useRef(null);if(!n)return null;const y=v=>{if(typeof v=="string")return v;if(v!=null&&v.text)return v.text;if(v!=null&&v.message)return v.message;try{return JSON.stringify(v)}catch{return"Unknown error occurred"}},p=async v=>{if(v.preventDefault(),!!s){c("sending");try{await K4(s),await _U("service_gb35lgl","template_7522o7h",{email:s,to_name:"Subscriber",from_name:"Ro-shines",message:"Welcome to the Ro-shines community!"},{publicKey:"DlAJfvPA4KeZpbAB9"}),console.log("Email sent successfully via EmailJS"),t(s),c("success")}catch(T){console.error("EmailJS Failed:",T);const S=y(T);alert(`Oops! Failed to send confirmation email.
Reason: ${S}`),c("idle")}}};return C.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-stone-900/40 backdrop-blur-sm animate-fade-in",children:C.jsxs("div",{className:"bg-white rounded-2xl p-8 max-w-md w-full shadow-2xl relative overflow-hidden",children:[C.jsx("button",{onClick:e,className:"absolute right-4 top-4 text-stone-400 hover:text-stone-600",children:C.jsx(me.X,{size:20})}),l==="success"?C.jsxs("div",{className:"text-center animate-fade-in",children:[C.jsx("div",{className:"w-16 h-16 bg-emerald-100 rounded-full flex items-center justify-center mx-auto mb-4 text-emerald-600",children:C.jsx(me.Check,{size:32})}),C.jsx("h3",{className:"text-2xl font-serif font-bold text-stone-900 mb-2",children:"Welcome Aboard!"}),C.jsxs("p",{className:"text-stone-500 mb-6",children:["We've sent a warm welcome letter to ",C.jsx("b",{children:s}),"."]})]}):C.jsxs(C.Fragment,{children:[C.jsxs("div",{className:"text-center mb-8",children:[C.jsx("div",{className:"w-16 h-16 bg-stone-100 rounded-full flex items-center justify-center mx-auto mb-4 text-stone-900",children:C.jsx(me.Send,{size:24})}),C.jsx("h3",{className:"text-2xl font-serif font-bold text-stone-900 mb-2",children:"Join the Community"}),C.jsx("p",{className:"text-stone-500",children:"Weekly stories, curated links, and design inspiration."})]}),C.jsxs("form",{ref:d,onSubmit:p,children:[C.jsx("input",{type:"email",name:"email",placeholder:"your@email.com",value:s,onChange:v=>r(v.target.value),className:"w-full bg-stone-50 border border-stone-200 rounded-xl px-4 py-3 mb-3 outline-none focus:border-stone-400 transition-colors",required:!0,disabled:l==="sending"}),C.jsx("button",{type:"submit",disabled:l==="sending",className:"w-full bg-stone-900 text-white font-bold py-3 rounded-xl hover:bg-stone-800 transition-transform active:scale-95 disabled:opacity-70 flex items-center justify-center gap-2",children:l==="sending"?C.jsx(C.Fragment,{children:"Processing..."}):"Subscribe"})]})]})]})})},xU="roshni.nekkanti@gmail.com",RU=n=>{try{const t=n.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),s=decodeURIComponent(atob(t).split("").map(r=>"%"+("00"+r.charCodeAt(0).toString(16)).slice(-2)).join(""));return JSON.parse(s)}catch(e){return console.error("Failed to decode JWT:",e),null}},wU=({onLogin:n})=>{const[e,t]=ve.useState(!1),[s,r]=ve.useState(null),l=ve.useRef(null),c=d=>{t(!0),r(null);try{const y=RU(d.credential);if(!y||!y.email){r("Failed to get account information from Google"),t(!1);return}const p=y.email,v=y.name||y.email.split("@")[0],T=y.picture||`https://ui-avatars.com/api/?name=${encodeURIComponent(v)}&background=random`,S=p===xU,R={id:"google-"+y.sub,name:v,email:p,avatar:T,isAdmin:S};n(R)}catch(y){console.error("Google Sign-In error:",y),r("Sign-in failed. Please try again.")}t(!1)};return ve.useEffect(()=>{const d=()=>{typeof window<"u"&&window.google&&(window.google.accounts.id.initialize({client_id:"1034688397355-ppjp8bk2r8lbj7npuati79oj1hfcllo3.apps.googleusercontent.com",callback:c,auto_select:!1,cancel_on_tap_outside:!0}),l.current&&window.google.accounts.id.renderButton(l.current,{type:"standard",theme:"filled_black",size:"large",text:"signin_with",shape:"pill",width:300}))};if(window.google)d();else{const y=setInterval(()=>{window.google&&(clearInterval(y),d())},100);setTimeout(()=>clearInterval(y),1e4)}},[]),C.jsxs("div",{className:"min-h-[80vh] flex items-center justify-center p-4 relative overflow-hidden",children:[C.jsx("div",{className:"absolute inset-0 z-0",children:C.jsx("img",{src:jS,className:"w-full h-full object-cover opacity-10 blur-sm",alt:""})}),C.jsxs("div",{className:"relative z-10 max-w-sm w-full bg-white/90 backdrop-blur p-8 rounded-3xl shadow-2xl border border-white/50 text-center",children:[C.jsxs("div",{className:"mb-8",children:[C.jsx("h2",{className:"text-3xl font-serif font-bold text-stone-900 mb-2",children:"Welcome"}),C.jsx("p",{className:"text-stone-500",children:"Sign in with your Google account to continue."})]}),s&&C.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-600 text-sm",children:s}),e?C.jsxs("div",{className:"flex items-center justify-center py-4",children:[C.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-stone-900"}),C.jsx("span",{className:"ml-3 text-stone-600",children:"Signing in..."})]}):C.jsx("div",{className:"flex justify-center",children:C.jsx("div",{ref:l})}),C.jsx("p",{className:"mt-8 text-xs text-stone-400",children:"By continuing, you agree to our Terms of Service and Privacy Policy."})]})]})},NU=({aboutImage:n,signatureImage:e})=>C.jsxs("div",{className:"max-w-5xl mx-auto px-6 py-16 animate-fade-in",children:[C.jsxs("div",{className:"flex flex-col md:flex-row gap-16 items-center mb-20",children:[C.jsxs("div",{className:"w-full md:w-1/2 relative group px-8 md:px-0",children:[C.jsx("div",{className:"aspect-[3/4] relative overflow-hidden rounded-t-full border-4 border-white shadow-2xl transition-all duration-500 z-10",children:C.jsx("img",{src:n,alt:"Roshni",className:"w-full h-full object-cover transition-all duration-700 grayscale group-hover:grayscale-0 group-hover:scale-110"})}),C.jsx("div",{className:"absolute -z-10 top-6 -right-4 md:-right-8 w-full h-full rounded-t-full border-2 border-stone-900 hidden md:block transition-transform duration-500 group-hover:translate-x-2 group-hover:-translate-y-2"})]}),C.jsxs("div",{className:"w-full md:w-1/2 md:pl-8 text-center md:text-left",children:[C.jsxs("div",{className:"mb-8",children:[C.jsx("span",{className:"font-serif italic text-2xl text-rose-800 mb-3 block",children:"The Face Behind Ro-shines"}),C.jsx("h1",{className:"text-5xl lg:text-6xl font-serif font-bold text-stone-900 mb-6 leading-tight",children:"Roshni Nekkanti"})]}),C.jsxs("div",{className:"space-y-6 text-lg text-stone-600 font-light leading-relaxed",children:[C.jsx("p",{children:"Welcome to my digital sanctuary. Ro-shines is born from a desire to slow down and document the beautiful details that often go unnoticed in our busy lives."}),C.jsx("p",{children:"By day, I am a Developer crafting elegant AI Agents in the urban hum, but my heart yearns for the stillness of the mountains. This blog is the bridge between those two worlds. When I'm not coding, I am an artist of the intentional life: practicing mindfulness among the butterflies in my garden, exploring nature's quiet pockets, and celebrating sustainable fashion."}),C.jsx("p",{children:"Dive into these pages for travel diaries and conscious living tips, a curated collection viewed with intentionality and balance. May these stories illuminate your path."})]}),C.jsx("div",{className:"mt-10",children:C.jsx("img",{src:e,alt:"Signature",className:"h-12 opacity-50 mx-auto md:mx-0"})})]})]}),C.jsxs("div",{className:"border-t border-stone-200 pt-16",children:[C.jsx("h2",{className:"text-3xl font-serif font-bold text-stone-900 mb-10 text-center md:text-left",children:"Let's Connect"}),C.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[C.jsxs("a",{href:"mailto:roshni.nekkanti@gmail.com",className:"group relative bg-white p-10 rounded-3xl border border-stone-100 shadow-sm hover:shadow-lg hover:border-rose-100 transition-all overflow-hidden text-center md:text-left",children:[C.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:C.jsx(me.Send,{size:80})}),C.jsxs("div",{className:"relative z-10",children:[C.jsx("div",{className:"w-14 h-14 bg-stone-50 rounded-full flex items-center justify-center text-stone-900 mb-6 group-hover:scale-110 transition-transform mx-auto md:mx-0",children:C.jsx(me.Send,{size:24})}),C.jsx("h3",{className:"font-bold text-xl text-stone-900 mb-2",children:"Email Me"}),C.jsx("p",{className:"text-stone-500 mb-6",children:"For collaborations, questions, or just to say hello."}),C.jsx("p",{className:"font-serif text-lg text-stone-900 border-b-2 border-rose-100 inline-block pb-1 group-hover:border-rose-300 transition-colors break-all",children:"roshni.nekkanti@gmail.com"})]})]}),C.jsxs("a",{href:"https://instagram.com/Roshni_Chowdary",target:"_blank",rel:"noopener noreferrer",className:"group relative bg-white p-10 rounded-3xl border border-stone-100 shadow-sm hover:shadow-lg hover:border-rose-100 transition-all overflow-hidden text-center md:text-left",children:[C.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:C.jsx(me.Camera,{size:80})}),C.jsxs("div",{className:"relative z-10",children:[C.jsx("div",{className:"w-14 h-14 bg-stone-50 rounded-full flex items-center justify-center text-stone-900 mb-6 group-hover:scale-110 transition-transform mx-auto md:mx-0",children:C.jsx(me.Camera,{size:24})}),C.jsx("h3",{className:"font-bold text-xl text-stone-900 mb-2",children:"Follow Along"}),C.jsx("p",{className:"text-stone-500 mb-6",children:"Daily inspiration and behind the scenes."}),C.jsx("p",{className:"font-serif text-lg text-stone-900 border-b-2 border-rose-100 inline-block pb-1 group-hover:border-rose-300 transition-colors",children:"@Roshni_Chowdary"})]})]})]})]})]}),bU=({settings:n,onSave:e,onCancel:t})=>{const[s,r]=ve.useState(n),l=(c,d)=>{var p;const y=(p=c.target.files)==null?void 0:p[0];if(y){const v=new FileReader;v.onloadend=()=>{r({...s,[d]:v.result})},v.readAsDataURL(y)}};return C.jsxs("div",{className:"max-w-2xl mx-auto px-6 py-12 animate-fade-in",children:[C.jsx("h1",{className:"text-3xl font-serif font-bold text-stone-900 mb-8",children:"Site Settings"}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-2",children:"Site Name"}),C.jsx("input",{type:"text",value:s.siteName,onChange:c=>r({...s,siteName:c.target.value}),className:"w-full p-3 bg-white border border-stone-200 rounded-xl outline-none focus:border-stone-900"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-2",children:"Hero Image"}),C.jsxs("div",{className:"flex flex-col gap-2",children:[C.jsxs("label",{className:"cursor-pointer bg-white border border-stone-300 text-stone-600 px-4 py-2 rounded-lg hover:bg-stone-50 transition-colors text-sm font-medium w-fit flex items-center gap-2",children:[C.jsx(me.Camera,{size:16})," Upload Hero Image",C.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:c=>l(c,"heroImage")})]}),C.jsx("img",{src:s.heroImage,className:"w-full h-32 object-cover rounded-lg opacity-80 border border-stone-200"})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-2",children:"About Page Image"}),C.jsxs("div",{className:"flex flex-col gap-2",children:[C.jsxs("label",{className:"cursor-pointer bg-white border border-stone-300 text-stone-600 px-4 py-2 rounded-lg hover:bg-stone-50 transition-colors text-sm font-medium w-fit flex items-center gap-2",children:[C.jsx(me.Camera,{size:16})," Upload About Image",C.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:c=>l(c,"aboutImage")})]}),C.jsx("img",{src:s.aboutImage,className:"w-full h-32 object-cover rounded-lg opacity-80 border border-stone-200"})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-bold text-stone-700 mb-2",children:"Signature Image"}),C.jsxs("div",{className:"flex flex-col gap-2",children:[C.jsxs("label",{className:"cursor-pointer bg-white border border-stone-300 text-stone-600 px-4 py-2 rounded-lg hover:bg-stone-50 transition-colors text-sm font-medium w-fit flex items-center gap-2",children:[C.jsx(me.PenTool,{size:16})," Upload Signature Image",C.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:c=>l(c,"signatureImage")})]}),C.jsx("div",{className:"p-4 border border-stone-200 rounded-lg bg-white w-fit",children:C.jsx("img",{src:s.signatureImage,className:"h-12 opacity-80",alt:"Signature preview"})})]})]}),C.jsxs("div",{className:"flex gap-4 pt-4",children:[C.jsx("button",{onClick:t,className:"flex-1 py-3 text-stone-600 font-medium hover:bg-stone-100 rounded-xl transition-colors",children:"Cancel"}),C.jsx("button",{onClick:()=>e(s),className:"flex-1 py-3 bg-stone-900 text-white font-bold rounded-xl hover:bg-stone-800 transition-colors",children:"Save Changes"})]})]})]})},MU=({postId:n,initialCount:e,initialLiked:t,userId:s})=>{const[r,l]=ve.useState(t),[c,d]=ve.useState(e),[y,p]=ve.useState(!1),v=async()=>{if(!s)return;const T=!r;l(T),d(S=>T?S+1:S-1),T&&p(!0);try{await W4(n,s)}catch{l(!T),d(R=>T?R-1:R+1)}};return ve.useEffect(()=>{if(y){const T=setTimeout(()=>p(!1),500);return()=>clearTimeout(T)}},[y]),C.jsxs("button",{onClick:v,disabled:!s,className:`flex items-center gap-2 px-4 py-2 rounded-full transition-all duration-300 ${r?"bg-rose-50 text-rose-600":"bg-stone-50 text-stone-500 hover:bg-stone-100"}`,children:[C.jsx(me.Sparkles,{size:18,className:`transition-transform duration-300 ${y?"scale-150 rotate-12":""} ${r?"fill-rose-600":""}`}),C.jsx("span",{className:"font-bold text-sm",children:c})]})},DU=({postId:n,currentUser:e,onLoginReq:t})=>{const[s,r]=ve.useState([]),[l,c]=ve.useState(""),[d,y]=ve.useState(!1);ve.useEffect(()=>{$4(n).then(r)},[n]);const p=async v=>{if(v.preventDefault(),!e){t();return}if(l.trim()){y(!0);try{const T=await X4(n,e,l);r([T,...s]),c("")}finally{y(!1)}}};return C.jsxs("div",{className:"mt-16 border-t border-stone-100 pt-12",children:[C.jsxs("h3",{className:"text-2xl font-serif font-bold text-stone-900 mb-8",children:["Discussion (",s.length,")"]}),C.jsxs("form",{onSubmit:p,className:"mb-12 relative",children:[C.jsx("textarea",{value:l,onChange:v=>c(v.target.value),placeholder:e?"Share your thoughts...":"Please login to comment...",className:"w-full bg-stone-50 rounded-xl p-4 min-h-[120px] outline-none border border-transparent focus:border-stone-200 focus:bg-white transition-all resize-none",disabled:d}),C.jsx("div",{className:"absolute bottom-4 right-4",children:e?C.jsx("button",{type:"submit",disabled:!l.trim()||d,className:"bg-stone-900 text-white px-4 py-2 rounded-lg text-sm font-bold hover:bg-stone-800 disabled:opacity-50 transition-colors",children:d?"Posting...":"Post Comment"}):C.jsx("button",{type:"button",onClick:t,className:"text-sm font-bold text-stone-900 underline",children:"Login to post"})})]}),C.jsx("div",{className:"space-y-8",children:s.map(v=>C.jsxs("div",{className:"flex gap-4 animate-fade-in",children:[C.jsx("div",{className:"w-10 h-10 rounded-full bg-stone-200 flex items-center justify-center text-stone-500 font-bold overflow-hidden",children:v.userAvatar?C.jsx("img",{src:v.userAvatar,className:"w-full h-full object-cover"}):v.userName.charAt(0)}),C.jsxs("div",{children:[C.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[C.jsx("span",{className:"font-bold text-stone-900 text-sm",children:v.userName}),C.jsxs("span",{className:"text-xs text-stone-400",children:[" ",new Date(v.createdAt).toLocaleDateString()]})]}),C.jsx("p",{className:"text-stone-600 text-sm leading-relaxed",children:v.content})]})]},v.id))})]})},eA=({post:n,onBack:e,currentUser:t,onLoginReq:s})=>{const[r,l]=ve.useState({liked:!1,count:n.likesCount||0});return ve.useEffect(()=>{Z4(n.id,t==null?void 0:t.id).then(c=>{l({liked:c.liked,count:Math.max(c.count,n.likesCount||0)})}),window.scrollTo(0,0)},[n.id,t]),C.jsxs("article",{className:"min-h-screen bg-white animate-fade-in",children:[C.jsxs("div",{className:"h-[50vh] md:h-[60vh] relative overflow-hidden",children:[C.jsx("img",{src:n.coverImage,alt:n.title,className:"w-full h-full object-cover"}),C.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),C.jsx("div",{className:"absolute top-6 left-6 z-20",children:C.jsx("button",{onClick:e,className:"bg-white/20 backdrop-blur-md text-white p-3 rounded-full hover:bg-white/30 transition-colors",children:C.jsx(me.ChevronLeft,{size:24})})}),C.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-6 md:p-12 text-white max-w-4xl mx-auto",children:[C.jsx("span",{className:"inline-block px-3 py-1 rounded-md bg-white/20 backdrop-blur text-xs font-bold uppercase tracking-widest mb-4",children:n.category}),C.jsx("h1",{className:"text-4xl md:text-6xl font-serif font-bold mb-6 leading-tight",children:n.title}),C.jsxs("div",{className:"flex items-center gap-6 text-sm font-medium text-white/80",children:[C.jsx("span",{children:n.author}),C.jsx("span",{children:new Date(n.publishedAt).toLocaleDateString()}),C.jsxs("span",{children:[n.views," reads"]})]})]})]}),C.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12",children:[C.jsx("p",{className:"text-xl md:text-2xl text-stone-600 font-serif leading-relaxed mb-12 italic border-l-4 border-stone-200 pl-6",children:n.excerpt}),C.jsx("div",{className:"max-w-none",children:C.jsx(sE,{blocks:n.blocks,onChange:()=>{},readOnly:!0})}),C.jsxs("div",{className:"mt-16 pt-8 border-t border-stone-100 flex flex-col md:flex-row justify-between items-center gap-6",children:[C.jsx("div",{className:"flex flex-wrap gap-2",children:n.tags.map(c=>C.jsxs("span",{className:"text-xs font-bold text-stone-500 bg-stone-100 px-3 py-1 rounded-full uppercase tracking-wider",children:["#",c]},c))}),C.jsx(MU,{postId:n.id,initialCount:r.count,initialLiked:r.liked,userId:t==null?void 0:t.id})]}),C.jsx(DU,{postId:n.id,currentUser:t,onLoginReq:s})]})]})},Sl=({posts:n,onPostClick:e,searchQuery:t,heroImage:s})=>{const[r,l]=ve.useState("All"),c=ve.useMemo(()=>{const d=new Date;let y=n.filter(p=>p.status==="published"&&(!p.scheduledAt||new Date(p.scheduledAt)<=d));if(r!=="All"&&(y=y.filter(p=>p.category===r)),t.trim()){const p=t.toLowerCase();y=y.filter(v=>v.title.toLowerCase().includes(p)||v.excerpt.toLowerCase().includes(p)||v.tags.some(T=>T.toLowerCase().includes(p)))}return y},[n,r,t]);return C.jsxs("main",{className:"min-h-screen",children:[!t&&C.jsxs("section",{className:"relative h-[60vh] flex items-center justify-center overflow-hidden",children:[C.jsx("div",{className:"absolute inset-0 bg-stone-200",children:C.jsx("img",{src:s,className:"w-full h-full object-cover opacity-50 transition-opacity duration-1000",alt:"Hero"})}),C.jsxs("div",{className:"relative z-10 text-center px-4 animate-slide-up",children:[C.jsx("span",{className:"inline-block py-1 px-3 rounded-full bg-white/20 backdrop-blur-sm text-stone-900 text-xs font-semibold uppercase tracking-widest mb-4 border border-white/30",children:"Welcome to Ro-shines"}),C.jsx("h1",{className:"text-5xl md:text-7xl font-serif font-bold text-stone-900 mb-6 drop-shadow-sm",children:"Stories by Roshni"}),C.jsx("p",{className:"text-lg md:text-xl text-stone-700 max-w-2xl mx-auto font-light",children:"Exploring the intersection of design, culture, and conscious living."})]})]}),C.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-16",children:[t&&C.jsx("div",{className:"mb-8 pb-4 border-b border-stone-200",children:C.jsxs("h2",{className:"text-2xl font-serif text-stone-800",children:['Search results for "',C.jsx("span",{className:"italic",children:t}),'"']})}),!t&&C.jsxs("div",{className:"flex flex-wrap gap-4 justify-center mb-16",children:[C.jsx("button",{onClick:()=>l("All"),className:`px-5 py-2 rounded-full text-sm font-medium transition-all duration-300 ${r==="All"?"bg-stone-800 text-white shadow-lg":"bg-white text-stone-500 hover:bg-stone-100"}`,children:"All Stories"}),Object.values(On).map(d=>{const y=vU[d].icon;return C.jsxs("button",{onClick:()=>l(d),className:`px-5 py-2 rounded-full text-sm font-medium transition-all duration-300 flex items-center gap-2 ${r===d?"bg-stone-800 text-white shadow-lg":"bg-white text-stone-500 hover:bg-stone-100"}`,children:[C.jsx(y,{size:14})," ",d]},d)})]}),C.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 md:gap-12",children:c.map(d=>C.jsxs("article",{onClick:()=>e(d.id),className:"group cursor-pointer flex flex-col gap-4 animate-fade-in",children:[C.jsxs("div",{className:"relative aspect-[4/3] overflow-hidden rounded-xl bg-stone-100",children:[C.jsx("img",{src:d.coverImage,alt:d.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),C.jsx("div",{className:"absolute top-4 left-4 bg-white/90 backdrop-blur px-3 py-1 text-xs font-bold uppercase tracking-wider rounded-md shadow-sm",children:d.category})]}),C.jsxs("div",{children:[C.jsx("h2",{className:"text-2xl font-serif font-bold text-stone-900 group-hover:text-rose-900 transition-colors mb-2 leading-tight",children:d.title}),C.jsx("p",{className:"text-stone-500 line-clamp-2 text-sm leading-relaxed mb-3",children:d.excerpt}),C.jsxs("div",{className:"flex items-center gap-2 text-xs text-stone-400 font-medium",children:[C.jsx("span",{children:new Date(d.publishedAt).toLocaleDateString()}),C.jsx("span",{children:""}),C.jsxs("span",{children:[d.views," views"]})]})]})]},d.id))}),c.length===0&&C.jsxs("div",{className:"text-center py-20 text-stone-400",children:[C.jsx(me.Coffee,{size:48,className:"mx-auto mb-4 opacity-50"}),C.jsx("p",{children:"No stories found."}),t&&C.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 text-stone-800 underline",children:"Clear Search"})]})]})]})},PU=({isOpen:n,onClose:e,onConfirm:t})=>n?C.jsx("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/40 backdrop-blur-sm animate-fade-in",children:C.jsxs("div",{className:"bg-white rounded-2xl p-6 max-w-sm w-full shadow-2xl",children:[C.jsx("div",{className:"w-12 h-12 bg-red-100 text-red-600 rounded-full flex items-center justify-center mb-4 mx-auto",children:C.jsx(me.Trash2,{size:24})}),C.jsx("h3",{className:"text-xl font-bold text-center text-stone-900 mb-2",children:"Delete Story?"}),C.jsx("p",{className:"text-center text-stone-500 text-sm mb-6",children:"Are you sure you want to delete this story? This action cannot be undone."}),C.jsxs("div",{className:"flex gap-3",children:[C.jsx("button",{onClick:e,className:"flex-1 py-2.5 rounded-xl border border-stone-200 text-stone-600 font-medium hover:bg-stone-50",children:"Cancel"}),C.jsx("button",{onClick:t,className:"flex-1 py-2.5 bg-red-600 text-white rounded-xl font-bold hover:bg-red-700",children:"Delete"})]})]})}):null,VU=({posts:n,onEdit:e,onNew:t,onDelete:s,onToggleStatus:r,onOpenSettings:l})=>{const[c,d]=ve.useState(null),[y,p]=ve.useState("stories"),[v,T]=ve.useState([]);ve.useEffect(()=>{y==="subscribers"&&Q4().then(T)},[y]);const S=()=>{const R=v.join(","),O=encodeURIComponent("Latest Updates from Ro-shines"),H=encodeURIComponent(`Hello,

I just published a new story on the blog! 

Check it out here: `+window.location.origin+`

Warmly,
Roshni`);window.location.href=`mailto:?bcc=${R}&subject=${O}&body=${H}`};return C.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 animate-fade-in",children:[C.jsx(PU,{isOpen:!!c,onClose:()=>d(null),onConfirm:()=>{c&&s(c),d(null)}}),C.jsxs("div",{className:"flex justify-between items-center mb-10",children:[C.jsxs("div",{children:[C.jsx("h1",{className:"text-3xl font-serif font-bold text-stone-900 mb-1",children:"Dashboard"}),C.jsx("p",{className:"text-stone-500",children:"Manage your stories and site settings."})]}),C.jsxs("div",{className:"flex gap-3",children:[C.jsxs("button",{onClick:l,className:"bg-white border border-stone-200 text-stone-700 px-4 py-2.5 rounded-xl font-bold hover:bg-stone-50 transition-colors flex items-center gap-2",children:[C.jsx(me.Type,{size:18})," Site Settings"]}),C.jsxs("button",{onClick:t,className:"bg-stone-900 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-800 transition-colors flex items-center gap-2 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5",children:[C.jsx(me.Plus,{size:18})," New Story"]})]})]}),C.jsxs("div",{className:"flex gap-6 mb-8 border-b border-stone-100",children:[C.jsx("button",{onClick:()=>p("stories"),className:`pb-4 text-sm font-bold transition-colors border-b-2 ${y==="stories"?"text-stone-900 border-stone-900":"text-stone-400 border-transparent hover:text-stone-600"}`,children:"Stories"}),C.jsx("button",{onClick:()=>p("subscribers"),className:`pb-4 text-sm font-bold transition-colors border-b-2 ${y==="subscribers"?"text-stone-900 border-stone-900":"text-stone-400 border-transparent hover:text-stone-600"}`,children:"Subscribers"})]}),y==="stories"?C.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-100 overflow-hidden",children:[C.jsxs("table",{className:"w-full",children:[C.jsx("thead",{className:"bg-stone-50 border-b border-stone-100",children:C.jsxs("tr",{children:[C.jsx("th",{className:"text-left py-4 px-6 text-xs font-bold text-stone-500 uppercase tracking-wider",children:"Title"}),C.jsx("th",{className:"text-left py-4 px-6 text-xs font-bold text-stone-500 uppercase tracking-wider",children:"Status"}),C.jsx("th",{className:"text-left py-4 px-6 text-xs font-bold text-stone-500 uppercase tracking-wider",children:"Views"}),C.jsx("th",{className:"text-left py-4 px-6 text-xs font-bold text-stone-500 uppercase tracking-wider",children:"Date"}),C.jsx("th",{className:"text-right py-4 px-6 text-xs font-bold text-stone-500 uppercase tracking-wider",children:"Actions"})]})}),C.jsx("tbody",{className:"divide-y divide-stone-50",children:n.map(R=>C.jsxs("tr",{className:"hover:bg-stone-50/50 transition-colors",children:[C.jsxs("td",{className:"py-4 px-6",children:[C.jsx("div",{className:"font-bold text-stone-900",children:R.title}),C.jsx("div",{className:"text-xs text-stone-400 mt-1",children:R.category})]}),C.jsx("td",{className:"py-4 px-6",children:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("span",{className:`inline-block w-2 h-2 rounded-full ${R.status==="published"?"bg-emerald-500":"bg-amber-500"}`}),C.jsx("span",{className:"text-sm font-medium text-stone-600 capitalize",children:R.status}),C.jsx("button",{onClick:()=>r(R.id),className:`ml-2 text-xs font-bold px-2 py-1 rounded border transition-colors ${R.status==="published"?"border-stone-200 text-stone-500 hover:bg-stone-100":"bg-stone-900 text-white border-transparent hover:bg-stone-800"}`,children:R.status==="published"?"Unpublish":"Publish"})]})}),C.jsx("td",{className:"py-4 px-6 text-sm text-stone-600",children:R.views}),C.jsx("td",{className:"py-4 px-6 text-sm text-stone-600",children:new Date(R.publishedAt).toLocaleDateString()}),C.jsxs("td",{className:"py-4 px-6 text-right space-x-2",children:[C.jsx("button",{onClick:()=>e(R.id),className:"text-stone-400 hover:text-indigo-600 transition-colors p-2 hover:bg-indigo-50 rounded-lg",children:C.jsx(me.PenTool,{size:18})}),C.jsx("button",{onClick:()=>d(R.id),className:"text-stone-400 hover:text-red-600 transition-colors p-2 hover:bg-red-50 rounded-lg",children:C.jsx(me.Trash2,{size:18})})]})]},R.id))})]}),n.length===0&&C.jsx("div",{className:"p-12 text-center text-stone-400",children:C.jsx("p",{children:"No stories yet. Start writing your first one!"})})]}):C.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-stone-100 overflow-hidden p-8",children:[C.jsxs("div",{className:"flex justify-between items-center mb-8",children:[C.jsxs("div",{children:[C.jsxs("h2",{className:"text-xl font-bold text-stone-900",children:["Subscriber List (",v.length,")"]}),C.jsx("p",{className:"text-stone-500 text-sm mt-1",children:"People who have joined your newsletter."})]}),C.jsxs("button",{onClick:S,disabled:v.length===0,className:"bg-stone-900 text-white px-6 py-2.5 rounded-xl font-bold hover:bg-stone-800 transition-colors flex items-center gap-2 disabled:opacity-50",children:[C.jsx(me.Send,{size:16})," Send Update"]})]}),C.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[v.map((R,O)=>C.jsxs("div",{className:"p-4 border border-stone-100 rounded-xl bg-stone-50 flex items-center gap-3",children:[C.jsx("div",{className:"w-8 h-8 rounded-full bg-stone-200 flex items-center justify-center text-stone-500 font-bold text-xs",children:R.charAt(0).toUpperCase()}),C.jsx("span",{className:"text-stone-600 font-medium text-sm",children:R})]},O)),v.length===0&&C.jsx("div",{className:"col-span-3 text-center text-stone-400 py-10",children:"No subscribers yet."})]})]})]})},UU=({post:n,onSave:e,onCancel:t})=>{const[s,r]=ve.useState(n),[l,c]=ve.useState(!1),[d,y]=ve.useState(!1),[p,v]=ve.useState(""),T=z=>{r({...s,blocks:z})},S=async()=>{if(!s.blocks.length)return;const z=s.blocks.slice(0,3).map(re=>re.content).join(" "),ee=await JM(z);ee&&r({...s,title:ee})},R=z=>{z.key==="Enter"&&p.trim()&&(z.preventDefault(),s.tags.includes(p.trim())||r({...s,tags:[...s.tags,p.trim()]}),v(""))},O=z=>{r({...s,tags:s.tags.filter(ee=>ee!==z)})},H=z=>{var re;const ee=(re=z.target.files)==null?void 0:re[0];if(ee){const W=new FileReader;W.onloadend=()=>{r({...s,coverImage:W.result})},W.readAsDataURL(ee)}};return d?C.jsxs("div",{className:"fixed inset-0 bg-stone-50 z-50 overflow-y-auto",children:[C.jsxs("div",{className:"sticky top-0 bg-white border-b border-stone-200 px-6 py-4 flex justify-between items-center z-40",children:[C.jsx("h2",{className:"font-bold text-stone-500",children:"Preview Mode"}),C.jsx("button",{onClick:()=>y(!1),className:"bg-stone-900 text-white px-4 py-2 rounded-lg font-bold text-sm",children:"Close Preview"})]}),C.jsx(eA,{post:s,onBack:()=>y(!1),currentUser:null,onLoginReq:()=>{}})]}):C.jsxs("div",{className:"flex h-screen overflow-hidden bg-white",children:[C.jsxs("div",{className:`fixed inset-y-0 right-0 w-80 bg-white border-l border-stone-200 transform transition-transform duration-300 z-30 shadow-2xl p-6 overflow-y-auto ${l?"translate-x-0":"translate-x-full"}`,children:[C.jsxs("div",{className:"flex justify-between items-center mb-6",children:[C.jsx("h3",{className:"font-serif font-bold text-xl",children:"Post Settings"}),C.jsx("button",{onClick:()=>c(!1),className:"text-stone-400 hover:text-stone-600",children:C.jsx(me.X,{size:20})})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Publish Date"}),C.jsxs("div",{className:"relative",children:[C.jsx(me.Calendar,{className:"absolute left-3 top-3 text-stone-400",size:16}),C.jsx("input",{type:"datetime-local",value:s.scheduledAt||"",onChange:z=>r({...s,scheduledAt:z.target.value}),className:"w-full pl-10 pr-3 py-2 bg-stone-50 rounded-lg text-sm border border-stone-200 outline-none focus:border-stone-800"})]}),C.jsx("p",{className:"text-xs text-stone-400 mt-1",children:"Leave empty to publish immediately."})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Category"}),C.jsx("div",{className:"grid grid-cols-2 gap-2",children:Object.keys(On).map(z=>C.jsx("button",{onClick:()=>r({...s,category:z}),className:`text-xs font-bold py-2 px-3 rounded-lg border transition-colors ${s.category===z?"bg-stone-900 text-white border-stone-900":"bg-white text-stone-500 border-stone-200 hover:border-stone-400"}`,children:z},z))})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Tags"}),C.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:s.tags.map(z=>C.jsxs("span",{className:"inline-flex items-center gap-1 bg-stone-100 px-2 py-1 rounded text-xs font-bold text-stone-600",children:["#",z," ",C.jsx("button",{onClick:()=>O(z),children:C.jsx(me.X,{size:10})})]},z))}),C.jsxs("div",{className:"relative",children:[C.jsx(me.Hash,{className:"absolute left-3 top-2.5 text-stone-400",size:14}),C.jsx("input",{type:"text",placeholder:"Add tag + Enter",value:p,onChange:z=>v(z.target.value),onKeyDown:R,className:"w-full pl-8 pr-3 py-2 bg-stone-50 rounded-lg text-sm border border-stone-200 outline-none focus:border-stone-800"})]})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-xs font-bold text-stone-500 uppercase mb-2",children:"Cover Image"}),C.jsxs("div",{className:"flex flex-col gap-2",children:[C.jsxs("label",{className:"cursor-pointer bg-white border border-stone-300 text-stone-600 px-4 py-2 rounded-lg hover:bg-stone-50 transition-colors text-sm font-medium w-fit flex items-center gap-2",children:[C.jsx(me.Camera,{size:16})," Upload Cover",C.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:H})]}),s.coverImage&&C.jsx("img",{src:s.coverImage,className:"w-full h-32 object-cover rounded-lg bg-stone-100 border border-stone-200"})]})]})]})]}),C.jsxs("div",{className:"flex-1 flex flex-col h-full overflow-hidden relative transition-all duration-300",style:{marginRight:l?"320px":"0"},children:[C.jsxs("header",{className:"bg-white border-b border-stone-100 px-6 py-4 flex items-center justify-between z-20",children:[C.jsxs("div",{className:"flex items-center gap-4",children:[C.jsx("button",{onClick:t,className:"p-2 hover:bg-stone-100 rounded-full text-stone-500 transition-colors",children:C.jsx(me.ChevronLeft,{size:20})}),C.jsxs("div",{className:"text-sm font-medium text-stone-400",children:[s.status==="draft"?"Draft":"Published",s.scheduledAt&&`  Scheduled: ${new Date(s.scheduledAt).toLocaleDateString()}`]})]}),C.jsxs("div",{className:"flex items-center gap-3",children:[C.jsxs("button",{onClick:()=>y(!0),className:"p-2 text-stone-400 hover:text-stone-900 font-bold text-sm flex items-center gap-1",children:[C.jsx(me.Eye,{size:16})," ",C.jsx("span",{className:"hidden md:inline",children:"Preview"})]}),C.jsxs("button",{onClick:()=>c(!l),className:`p-2 font-bold text-sm flex items-center gap-1 transition-colors ${l?"text-stone-900 bg-stone-100 rounded-lg":"text-stone-400 hover:text-stone-900"}`,children:[C.jsx(me.Layout,{size:16})," ",C.jsx("span",{className:"hidden md:inline",children:"Settings"})]}),C.jsx("div",{className:"h-6 w-px bg-stone-200 mx-2"}),C.jsx("button",{onClick:()=>e({...s,status:"draft"}),className:"px-4 py-2 text-stone-600 font-bold text-sm hover:bg-stone-50 rounded-lg transition-colors",children:"Save Draft"}),C.jsx("button",{onClick:()=>e({...s,status:"published"}),className:"px-5 py-2 bg-stone-900 text-white font-bold text-sm rounded-lg hover:bg-stone-800 transition-colors shadow-lg hover:shadow-xl",children:"Publish"})]})]}),C.jsx("div",{className:"flex-1 overflow-y-auto bg-white scroll-smooth",children:C.jsxs("div",{className:"max-w-3xl mx-auto px-6 py-12",children:[C.jsxs("div",{className:"mb-8 group relative",children:[C.jsx("textarea",{value:s.title,onChange:z=>r({...s,title:z.target.value}),placeholder:"Story Title",className:"w-full text-4xl md:text-5xl font-serif font-bold text-stone-900 placeholder:text-stone-300 outline-none resize-none bg-transparent overflow-hidden",rows:1,onInput:z=>{const ee=z.target;ee.style.height="auto",ee.style.height=ee.scrollHeight+"px"}}),C.jsxs("button",{onClick:S,className:"absolute right-0 top-2 opacity-0 group-hover:opacity-100 transition-opacity text-xs font-bold text-purple-600 bg-purple-50 px-2 py-1 rounded-full flex items-center gap-1 hover:bg-purple-100",children:[C.jsx(me.Sparkles,{size:12})," Suggest Title"]})]}),C.jsx("div",{className:"mb-12",children:C.jsx("textarea",{value:s.excerpt,onChange:z=>r({...s,excerpt:z.target.value}),placeholder:"Write a short excerpt...",className:"w-full text-xl text-stone-500 font-serif italic outline-none resize-none bg-transparent",rows:2})}),C.jsx(sE,{blocks:s.blocks,onChange:T})]})})]})]})},LU=()=>{const[n,e]=ve.useState({type:"home"}),[t,s]=ve.useState([]),[r,l]=ve.useState(null),[c,d]=ve.useState(""),[y,p]=ve.useState(!1),[v,T]=ve.useState(null),[S,R]=ve.useState({siteName:"Ro-shines",heroImage:jS,aboutImage:TU,signatureImage:EU}),O=ve.useRef(null);ve.useEffect(()=>{(async()=>{try{const N=await eU();if(N&&N.length>0)s(N),localStorage.setItem("roshines_posts",JSON.stringify(N));else{const P=localStorage.getItem("roshines_posts");P?s(JSON.parse(P)):(s(El),localStorage.setItem("roshines_posts",JSON.stringify(El)),await j4(El))}}catch(N){console.error("Error loading posts from Firestore:",N);const P=localStorage.getItem("roshines_posts");P?s(JSON.parse(P)):(s(El),localStorage.setItem("roshines_posts",JSON.stringify(El)))}})();const M=localStorage.getItem("roshines_settings");M&&R(JSON.parse(M));const b=localStorage.getItem("roshines_user");if(b)try{l(JSON.parse(b))}catch{console.error("Failed to restore user session"),localStorage.removeItem("roshines_user")}},[]),ve.useEffect(()=>{t.length>0&&localStorage.setItem("roshines_posts",JSON.stringify(t))},[t]),ve.useEffect(()=>{if(n.type==="post"){const j=n.postId;O.current!==j&&(s(M=>M.map(b=>b.id===j?{...b,views:(b.views||0)+1}:b)),O.current=j)}else O.current=null},[n]);const H=j=>{l(j),localStorage.setItem("roshines_user",JSON.stringify(j)),e({type:"home"})},z=()=>{l(null),localStorage.removeItem("roshines_user"),e({type:"home"})},ee=j=>{R(j),localStorage.setItem("roshines_settings",JSON.stringify(j)),e({type:"admin-dashboard"})},re=async j=>{const M=t.find(N=>N.id===j.id),b=(M==null?void 0:M.status)!=="published"&&j.status==="published";s(M?t.map(N=>N.id===j.id?j:N):[j,...t]);try{await IT(j)}catch(N){console.error("Error saving post to Firestore:",N)}if(e({type:"admin-dashboard"}),b){const N=await CT();T(`Newsletter sent to ${N} subscribers!`)}},W=async j=>{s(t.filter(M=>M.id!==j));try{await tU(j)}catch(M){console.error("Error deleting post from Firestore:",M)}},ue=async j=>{const M=t.find(b=>b.id===j);if(M){const b=M.status==="published"?"draft":"published",N={...M,status:b};s(t.map(P=>P.id===j?N:P));try{await IT(N)}catch(P){console.error("Error updating post status in Firestore:",P)}if(b==="published"){const P=await CT();T(`Newsletter sent to ${P} subscribers!`)}}},he=()=>{switch(n.type){case"home":return C.jsx(Sl,{posts:t,onPostClick:b=>e({type:"post",postId:b}),searchQuery:c,heroImage:S.heroImage});case"post":const j=t.find(b=>b.id===n.postId);return j?C.jsx(eA,{post:j,onBack:()=>e({type:"home"}),currentUser:r,onLoginReq:()=>e({type:"login"})}):C.jsx("div",{children:"Post not found"});case"about":return C.jsx(NU,{aboutImage:S.aboutImage,signatureImage:S.signatureImage});case"login":case"register":return C.jsx(wU,{onLogin:H});case"admin-dashboard":return r!=null&&r.isAdmin?C.jsx(VU,{posts:t,onEdit:b=>e({type:"admin-editor",postId:b}),onNew:()=>e({type:"admin-editor"}),onDelete:W,onToggleStatus:ue,onOpenSettings:()=>e({type:"admin-settings"})}):C.jsx(Sl,{posts:t,onPostClick:b=>e({type:"post",postId:b}),searchQuery:c,heroImage:S.heroImage});case"admin-editor":if(!(r!=null&&r.isAdmin))return C.jsx(Sl,{posts:t,onPostClick:b=>e({type:"post",postId:b}),searchQuery:c,heroImage:S.heroImage});const M=n.postId?t.find(b=>b.id===n.postId):{id:Math.random().toString(36).substr(2,9),title:"",excerpt:"",coverImage:"https://images.unsplash.com/photo-1507646227500-4d389b0012be?auto=format&fit=crop&q=80&w=1200",category:On.Lifestyle,tags:[],blocks:[{id:"1",type:Je.Paragraph,content:"",width:100}],author:r.name,publishedAt:new Date().toISOString(),status:"draft",views:0};return C.jsx(UU,{post:M,onSave:re,onCancel:()=>e({type:"admin-dashboard"})});case"admin-settings":return r!=null&&r.isAdmin?C.jsx(bU,{settings:S,onSave:ee,onCancel:()=>e({type:"admin-dashboard"})}):C.jsx(Sl,{posts:t,onPostClick:b=>e({type:"post",postId:b}),searchQuery:c,heroImage:S.heroImage});default:return C.jsx(Sl,{posts:t,onPostClick:b=>e({type:"post",postId:b}),searchQuery:c,heroImage:S.heroImage})}};return C.jsxs("div",{className:"min-h-screen bg-stone-50 text-stone-800 font-sans selection:bg-rose-100 selection:text-rose-900",children:[C.jsx(SU,{message:v,onClose:()=>T(null)}),n.type!=="admin-editor"&&C.jsx(AU,{view:n,setView:e,searchQuery:c,setSearchQuery:d,onOpenNewsletter:()=>p(!0),user:r,onLogout:z}),he(),n.type!=="admin-editor"&&C.jsx(CU,{onOpenNewsletter:()=>p(!0),onNavigate:e}),C.jsx(IU,{isOpen:y,onClose:()=>p(!1),onSubscribe:j=>console.log("Subscribed:",j)})]})},tA=document.getElementById("root");if(!tA)throw new Error("Could not find root element to mount to");const kU=FC.createRoot(tA);kU.render(C.jsx(RT.StrictMode,{children:C.jsx(LU,{})}));
